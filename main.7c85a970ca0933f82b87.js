(self.webpackChunklocker=self.webpackChunklocker||[]).push([[179],{8255:t=>{function e(t){return Promise.resolve().then(()=>{var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=()=>[],e.resolve=e,e.id=8255,t.exports=e},7368:(t,e,n)=>{"use strict";n.d(e,{deG:()=>Xe,tb:()=>za,AFp:()=>Va,ip1:()=>Ma,CZH:()=>Fa,hGG:()=>Mu,z2F:()=>Au,sBO:()=>Zs,Sil:()=>eu,_Vd:()=>gs,EJc:()=>Ka,SBq:()=>ws,qLn:()=>pr,vpe:()=>_a,gxx:()=>$i,tBr:()=>bn,XFs:()=>P,OlP:()=>Ye,zs3:()=>co,ZZ4:()=>Vs,aQg:()=>qs,soG:()=>Za,YKP:()=>na,v3s:()=>ku,h0i:()=>ea,PXZ:()=>Cu,R0b:()=>iu,FiY:()=>wn,Lbi:()=>Ga,g9A:()=>Ba,Qsj:()=>Ts,FYo:()=>Cs,JOm:()=>yr,Tiy:()=>xs,q3G:()=>ar,tp0:()=>_n,EAV:()=>Ru,Rgc:()=>Qs,dDg:()=>hu,DyG:()=>tn,q4F:()=>As,GfV:()=>Ss,s_b:()=>ia,ifc:()=>M,eFA:()=>Tu,G48:()=>wu,Gpc:()=>m,X6Q:()=>bu,_c5:()=>Lu,VLi:()=>pu,c2e:()=>Ha,zSh:()=>Ji,wAp:()=>ns,vHH:()=>v,EiD:()=>or,mCW:()=>Bn,qzn:()=>Pn,JVY:()=>Nn,pB0:()=>Mn,eBb:()=>Ln,L6k:()=>Dn,LAX:()=>Un,cg1:()=>Xo,Tjo:()=>Du,kL8:()=>ts,yhl:()=>Rn,dqk:()=>B,sIi:()=>bo,CqO:()=>Do,QGY:()=>Ro,F4k:()=>No,RDi:()=>St,AaK:()=>d,z3N:()=>On,qOj:()=>ho,TTD:()=>wt,_Bn:()=>fs,xp6:()=>ti,uIk:()=>Co,ekj:()=>qo,Suo:()=>Da,Xpm:()=>X,lG2:()=>st,Yz7:()=>C,cJS:()=>T,oAB:()=>rt,Yjl:()=>at,Y36:()=>xo,_UZ:()=>Oo,qZA:()=>ko,TgZ:()=>Io,EpF:()=>Po,n5z:()=>Ke,Ikx:()=>Wo,LFG:()=>gn,$8M:()=>We,NdJ:()=>Lo,CRH:()=>La,oxw:()=>Fo,Q6J:()=>So,VKq:()=>ba,iGM:()=>Na,MAs:()=>Eo,CHM:()=>Gt,LSH:()=>ur,kYT:()=>it,YNc:()=>To,_uU:()=>Zo,Oqu:()=>Ko});var r=n(5959),i=n(7570),o=n(8318),s=n(1906),a=n(2875),u=n(1564);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function m(t){return t.__forward_ref__=m,t.toString=function(){return d(this())},t}function g(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===m}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function b(t){return"string"==typeof t?t:null==t?"":String(t)}function w(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():b(t)}function _(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${w(t)} found${n}`)}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function T(t){return{providers:t.providers||[],imports:t.imports||[]}}function E(t){return x(t,A)||x(t,k)}function x(t,e){return t.hasOwnProperty(e)?t[e]:null}function S(t){return t&&(t.hasOwnProperty(I)||t.hasOwnProperty(O))?t[I]:null}const A=l({"\u0275prov":l}),I=l({"\u0275inj":l}),k=l({ngInjectableDef:l}),O=l({ngInjectorDef:l});var P=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let R;function N(t){const e=R;return R=t,e}function D(t,e,n){const r=E(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&P.Optional?null:void 0!==e?e:void _(d(t),"Injector")}function L(t){return{toString:t}.toString()}var U=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,V="undefined"!=typeof window&&window,j="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,q="undefined"!=typeof global&&global,B=F||q||V||j,G={},z=[],H=l({"\u0275cmp":l}),Z=l({"\u0275dir":l}),K=l({"\u0275pipe":l}),$=l({"\u0275mod":l}),W=l({"\u0275loc":l}),J=l({"\u0275fac":l}),Q=l({__NG_ELEMENT_ID__:l});let Y=0;function X(t){return L(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||z,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||z,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Y++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[Z]||null}(t)}function et(t){return function(t){return t[K]||null}(t)}const nt={};function rt(t){const e={type:t.type,bootstrap:t.bootstrap||z,declarations:t.declarations||z,imports:t.imports||z,exports:t.exports||z,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&L(()=>{nt[t.id]=t.type}),e}function it(t,e){return L(()=>{const n=ct(t,!0);n.declarations=e.declarations||z,n.imports=e.imports||z,n.exports=e.exports||z})}function ot(t,e){if(null==t)return G;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const st=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[H]||null}function ct(t,e){const n=t[$]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}const lt=20,ht=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ft(t){return Array.isArray(t)&&!0===t[1]}function pt(t){return 0!=(8&t.flags)}function mt(t){return 2==(2&t.flags)}function gt(t){return 1==(1&t.flags)}function yt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(J)?t[J]:null}class bt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function wt(){return _t}function _t(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),Ct}function Ct(){const t=Et(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===G)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=Et(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:G,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],u=s[a];o[a]=new bt(u&&u.currentValue,e,s===G),t[r]=e}function Et(t){return t.__ngSimpleChanges__||null}let xt;function St(t){xt=t}function At(t){return!!t.listen}wt.ngInherit=!0;const It={createRenderer:(t,e)=>void 0!==xt?xt:"undefined"!=typeof document?document:void 0};function kt(t){for(;Array.isArray(t);)t=t[0];return t}function Ot(t,e){return kt(e[t])}function Pt(t,e){return kt(e[t.index])}function Rt(t,e){return t.data[e]}function Nt(t,e){const n=e[t];return dt(n)?n:n[0]}function Dt(t){return 4==(4&t[2])}function Lt(t){return 128==(128&t[2])}function Ut(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Ft(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const Vt={lFrame:oe(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jt(){return Vt.bindingsEnabled}function qt(){return Vt.lFrame.lView}function Bt(){return Vt.lFrame.tView}function Gt(t){return Vt.lFrame.contextLView=t,t[8]}function zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return Vt.lFrame.currentTNode}function Zt(t,e){const n=Vt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return Vt.lFrame.isParent}function $t(){return Vt.isInCheckNoChangesMode}function Wt(t){Vt.isInCheckNoChangesMode=t}function Jt(){return Vt.lFrame.bindingIndex++}function Qt(t,e){const n=Vt.lFrame;n.bindingIndex=n.bindingRootIndex=t,Yt(e)}function Yt(t){Vt.lFrame.currentDirectiveIndex=t}function Xt(){return Vt.lFrame.currentQueryIndex}function te(t){Vt.lFrame.currentQueryIndex=t}function ee(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ne(t,e,n){if(n&P.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&P.Host||(r=ee(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=Vt.lFrame=ie();return r.currentTNode=e,r.lView=t,!0}function re(t){const e=ie(),n=t[1];Vt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ie(){const t=Vt.lFrame,e=null===t?null:t.child;return null===e?oe(t):e}function oe(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function se(){const t=Vt.lFrame;return Vt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ae=se;function ue(){const t=se();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ce(){return Vt.lFrame.selectedIndex}function le(t){Vt.lFrame.selectedIndex=t}function he(){const t=Vt.lFrame;return Rt(t.tView,t.selectedIndex)}function de(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function fe(t,e,n){ge(t,e,3,n)}function pe(t,e,n,r){(3&t[2])===n&&ge(t,e,n,r)}function me(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function ge(t,e,n,r){const i=null!=r?r:-1,o=e.length-1;let s=0;for(let a=void 0!==r?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=r&&s>=r)break}else e[a]<0&&(t[18]+=65536),(s<i||-1==i)&&(ye(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function ye(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const ve=-1;class be{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function we(t,e,n){const r=At(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{const s=o,a=n[++i];Ce(s)?r&&t.setProperty(e,s,a):r?t.setAttribute(e,s,a):e.setAttribute(s,a),i++}}return i}function _e(t){return 3===t||4===t||6===t}function Ce(t){return 64===t.charCodeAt(0)}function Te(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ee(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ee(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function xe(t){return t!==ve}function Se(t){return 32767&t}function Ae(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ie=!0;function ke(t){const e=Ie;return Ie=t,e}let Oe=0;function Pe(t,e){const n=Ne(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Re(r.data,t),Re(e,null),Re(r.blueprint,null));const i=De(t,e),o=t.injectorIndex;if(xe(i)){const t=Se(i),n=Ae(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function Re(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ne(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function De(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ve;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ve}function Le(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Q)&&(r=n[Q]),null==r&&(r=n[Q]=Oe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function Ue(t,e,n){if(n&P.Optional)return t;_(e,"NodeInjector")}function Me(t,e,n,r){if(n&P.Optional&&void 0===r&&(r=null),0==(n&(P.Self|P.Host))){const i=t[9],o=N(void 0);try{return i?i.get(e,r,n&P.Optional):D(e,r,n&P.Optional)}finally{N(o)}}return Ue(r,e,n)}function Fe(t,e,n,r=P.Default,i){if(null!==t){const o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Q)?t[Q]:void 0;return"number"==typeof e?e>=0?255&e:je:e}(n);if("function"==typeof o){if(!ne(e,t,r))return r&P.Host?Ue(i,n,r):Me(e,n,r,i);try{const t=o(r);if(null!=t||r&P.Optional)return t;_(n)}finally{ae()}}else if("number"==typeof o){let i=null,s=Ne(t,e),a=ve,u=r&P.Host?e[16][6]:null;for((-1===s||r&P.SkipSelf)&&(a=-1===s?De(t,e):e[s+8],a!==ve&&He(r,!1)?(i=e[1],s=Se(a),e=Ae(a,e)):s=-1);-1!==s;){const t=e[1];if(ze(o,s,t.data)){const t=qe(s,e,n,i,r,u);if(t!==Ve)return t}a=e[s+8],a!==ve&&He(r,e[1].data[s+8]===u)&&ze(o,s,e)?(i=t,s=Se(a),e=Ae(a,e)):s=-1}}}return Me(e,n,r,i)}const Ve={};function je(){return new Ze(zt(),qt())}function qe(t,e,n,r,i,o){const s=e[1],a=s.data[t+8],u=Be(a,s,n,null==r?mt(a)&&Ie:r!=s&&0!=(3&a.type),i&P.Host&&o===a);return null!==u?Ge(e,s,u,a):Ve}function Be(t,e,n,r,i){const o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=s[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=s[u];if(t&&yt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof be){const s=i;s.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(w(o[n]));const a=ke(s.canSeeViewProviders);s.resolving=!0;const u=s.injectImpl?N(s.injectImpl):null;ne(t,r,P.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=_t(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==u&&N(u),ke(a),s.resolving=!1,ae()}}return i}function ze(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function He(t,e){return!(t&P.Self||t&P.Host&&e)}class Ze{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Fe(this._tNode,this._lView,t,void 0,e)}}function Ke(t){return L(()=>{const e=t.prototype.constructor,n=e[J]||$e(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[J]||$e(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function $e(t){return y(t)?()=>{const e=$e(g(t));return e&&e()}:vt(t)}function We(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(_e(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const Je="__parameters__";function Qe(t,e,n){return L(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(Je)?t[Je]:Object.defineProperty(t,Je,{value:[]})[Je];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Ye{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=C({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xe=new Ye("AnalyzeForEntryComponents"),tn=Function;function en(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),en(r,e)):e!==t&&e.push(r)}return e}function nn(t,e){t.forEach(t=>Array.isArray(t)?nn(t,e):e(t))}function rn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function on(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function sn(t,e,n){let r=un(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function an(t,e){const n=un(t,e);if(n>=0)return t[1|n]}function un(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}const cn={},ln=/\n/gm,hn="__source",dn=l({provide:String,useValue:l});let fn;function pn(t){const e=fn;return fn=t,e}function mn(t,e=P.Default){if(void 0===fn)throw new Error("inject() must be called from an injection context");return null===fn?D(t,void 0,e):fn.get(t,e&P.Optional?null:void 0,e)}function gn(t,e=P.Default){return(R||mn)(g(t),e)}function yn(t){const e=[];for(let n=0;n<t.length;n++){const r=g(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=P.Default;for(let e=0;e<r.length;e++){const i=r[e],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?t=i.token:n|=o:t=i}e.push(gn(t,n))}else e.push(gn(r))}return e}function vn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const bn=vn(Qe("Inject",t=>({token:t})),-1),wn=vn(Qe("Optional"),8),_n=vn(Qe("SkipSelf"),4);let Cn;function Tn(t){var e;return(null===(e=function(){if(void 0===Cn&&(Cn=null,B.trustedTypes))try{Cn=B.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Cn}())||void 0===e?void 0:e.createHTML(t))||t}class En{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class xn extends En{getTypeName(){return"HTML"}}class Sn extends En{getTypeName(){return"Style"}}class An extends En{getTypeName(){return"Script"}}class In extends En{getTypeName(){return"URL"}}class kn extends En{getTypeName(){return"ResourceURL"}}function On(t){return t instanceof En?t.changingThisBreaksApplicationSecurity:t}function Pn(t,e){const n=Rn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Rn(t){return t instanceof En&&t.getTypeName()||null}function Nn(t){return new xn(t)}function Dn(t){return new Sn(t)}function Ln(t){return new An(t)}function Un(t){return new In(t)}function Mn(t){return new kn(t)}class Fn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Tn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Vn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Tn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Tn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,qn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Bn(t){return(t=String(t)).match(jn)||t.match(qn)?t:"unsafe:"+t}function Gn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function zn(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const Hn=Gn("area,br,col,hr,img,wbr"),Zn=Gn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Kn=Gn("rp,rt"),$n=zn(Kn,Zn),Wn=zn(Hn,zn(Zn,Gn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zn(Kn,Gn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),$n),Jn=Gn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Qn=Gn("srcset"),Yn=zn(Jn,Qn,Gn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Gn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Xn=Gn("script,style,template");class tr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!Wn.hasOwnProperty(e))return this.sanitizedSomething=!0,!Xn.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!Yn.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;Jn[o]&&(s=Bn(s)),Qn[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Bn(t.trim())).join(", ")),this.buf.push(" ",e,'="',rr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();Wn.hasOwnProperty(e)&&!Hn.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(rr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const er=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,nr=/([^\#-~ |!])/g;function rr(t){return t.replace(/&/g,"&amp;").replace(er,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(nr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let ir;function or(t,e){let n=null;try{ir=ir||function(t){const e=new Vn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Tn(""),"text/html")}catch(t){return!1}}()?new Fn(e):e}(t);let r=e?String(e):"";n=ir.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=ir.getInertBodyElement(r)}while(r!==o);return Tn((new tr).sanitizeChildren(sr(n)||n))}finally{if(n){const t=sr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function sr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var ar=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function ur(t){const e=function(){const t=qt();return t&&t[12]}();return e?e.sanitize(ar.URL,t)||"":Pn(t,"URL")?On(t):Bn(b(t))}function cr(t,e){t.__ngContext__=e}function lr(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function hr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function fr(t,...e){t.error(...e)}class pr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||fr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?hr(t)?hr(t):this._findContext(dr(t)):null}_findOriginalError(t){let e=dr(t);for(;e&&dr(e);)e=dr(e);return e}}const mr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(B))();function gr(t){return t instanceof Function?t():t}var yr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function vr(t,e){return(void 0)(t,e)}function br(t){const e=t[3];return ft(e)?e[3]:e}function wr(t){return Cr(t[13])}function _r(t){return Cr(t[4])}function Cr(t){for(;null!==t&&!ft(t);)t=t[4];return t}function Tr(t,e,n,r,i){if(null!=r){let o,s=!1;ft(r)?o=r:dt(r)&&(s=!0,r=r[0]);const a=kt(r);0===t&&null!==n?null==i?Or(e,n,a):kr(e,n,a,i||null,!0):1===t&&null!==n?kr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Rr(t,e);r&&function(t,e,n,r){At(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,r,i){const o=n[7];o!==kt(n)&&Tr(e,t,r,o,i);for(let s=ht;s<n.length;s++){const i=n[s];Fr(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function Er(t,e,n){return At(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function xr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ft(i,-1)),n.splice(r,1)}function Sr(t,e){if(t.length<=ht)return;const n=ht+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&xr(o,r),e>0&&(t[n-1][4]=r[4]);const s=on(t,ht+e);Fr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ar(t,e){if(!(256&e[2])){const n=e[11];At(n)&&n.destroyNode&&Fr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ir(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&Ir(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&Ir(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ir(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof be)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const t=n[o+1],s="function"==typeof t?t(e):kt(e[t]),a=r[i=n[o+2]],u=n[o+3];"boolean"==typeof u?s.removeEventListener(n[o],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),o+=2}else{const t=r[i=n[o+1]];n[o].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&At(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ft(e[3])){n!==e[3]&&xr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function kr(t,e,n,r,i){At(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Or(t,e,n){At(t)?t.appendChild(e,n):e.appendChild(n)}function Pr(t,e,n,r,i){null!==r?kr(t,e,n,r,i):Or(t,e,n)}function Rr(t,e){return At(t)?t.parentNode(e):e.parentNode}function Nr(t,e,n,r){const i=function(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Pt(r,n)}(t,e.parent,n)}(t,r,e),o=e[11],s=function(t,e,n){return function(t,e,n){return 40&t.type?Pt(t,n):null}(t,0,n)}(r.parent||e[6],0,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Pr(o,i,n[a],s,!1);else Pr(o,i,n,s,!1)}function Dr(t,e){if(null!==e){const n=e.type;if(3&n)return Pt(e,t);if(4&n)return Ur(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Dr(t,n);{const n=t[e.index];return ft(n)?Ur(-1,n):kt(n)}}if(32&n)return vr(e,t)()||kt(t[e.index]);{const n=Lr(t,e);return null!==n?Array.isArray(n)?n[0]:Dr(br(t[16]),n):Dr(t,e.next)}}return null}function Lr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Ur(t,e){const n=ht+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Dr(t,r)}return e[7]}function Mr(t,e,n,r,i,o,s){for(;null!=n;){const a=r[n.index],u=n.type;if(s&&0===e&&(a&&cr(kt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Mr(t,e,n.child,r,i,o,!1),Tr(e,t,i,a,o);else if(32&u){const s=vr(n,r);let u;for(;u=s();)Tr(e,t,i,u,o);Tr(e,t,i,a,o)}else 16&u?Vr(t,e,r,n,i,o):Tr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Fr(t,e,n,r,i,o){Mr(n,r,t.firstChild,e,i,o,!1)}function Vr(t,e,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Tr(e,t,i,a[u],o);else Mr(t,e,a,s[3],i,o,!0)}function jr(t,e,n){At(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function qr(t,e,n){At(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function Br(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Gr="ng-template";function zr(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==Br(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Hr(t){return 4===t.type&&t.value!==Gr}function Zr(t,e,n){return e===(4!==t.type||n?t.value:Gr)}function Kr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(_e(t[e]))return e;return t.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!Zr(t,u,n)||""===u&&1===e.length){if($r(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!zr(t.attrs,c,n)){if($r(r))return!1;s=!0}continue}const l=Wr(8&r?"class":u,i,Hr(t),n);if(-1===l){if($r(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==Br(e,c,0)||2&r&&c!==t){if($r(r))return!1;s=!0}}}}else{if(!s&&!$r(r)&&!$r(u))return!1;if(s&&$r(u))continue;s=!1,r=u|1&r}}return $r(r)||s}function $r(t){return 0==(1&t)}function Wr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Kr(t,e[r],n))return!0;return!1}function Qr(t,e){return t?":not("+e.trim()+")":e}function Yr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||$r(s)||(e+=Qr(o,i),i=""),r=s,o=o||!$r(r);n++}return""!==i&&(e+=Qr(o,i)),e}const Xr={};function ti(t){ei(Bt(),qt(),ce()+t,$t())}function ei(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&fe(e,r,n)}else{const r=t.preOrderHooks;null!==r&&pe(e,r,0,n)}le(n)}function ni(t,e){return t<<17|e<<2}function ri(t){return t>>17&32767}function ii(t){return 2|t}function oi(t){return(131068&t)>>2}function si(t,e){return-131069&t|e<<2}function ai(t){return 1|t}function ui(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];te(i),n.contentQueries(2,e[o],o)}}}function ci(t,e,n,r,i,o,s,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function li(t,e,n,r,i){let o=t.data[e];if(null===o)o=function(t,e,n,r,i){const o=Ht(),s=Kt(),a=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,r,i),Vt.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const t=function(){const t=Vt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();o.injectorIndex=null===t?-1:t.injectorIndex}return Zt(o,!0),o}function hi(t,e,n,r){if(0===n)return-1;const i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function di(t,e,n){re(e);try{const r=t.viewQuery;null!==r&&qi(1,r,n);const i=t.template;null!==i&&mi(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ui(t,e),t.staticViewQueries&&qi(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)Ui(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,ue()}}function fi(t,e,n,r){const i=e[2];if(256==(256&i))return;re(e);const o=$t();try{Mt(e),Vt.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&mi(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&fe(e,n,null)}else{const n=t.preOrderHooks;null!==n&&pe(e,n,0,null),me(e,0)}if(function(t){for(let e=wr(t);null!==e;e=_r(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ft(r,1),n[2]|=1024}}}(e),function(t){for(let e=wr(t);null!==e;e=_r(e))for(let t=ht;t<e.length;t++){const n=e[t],r=n[1];Lt(n)&&fi(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&ui(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&fe(e,n)}else{const n=t.contentHooks;null!==n&&pe(e,n,1),me(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)le(~r);else{const i=r,o=n[++t],s=n[++t];Qt(o,i),s(2,e[i])}}}finally{le(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Di(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&qi(2,u,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&fe(e,n)}else{const n=t.viewHooks;null!==n&&pe(e,n,2),me(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ft(e[3],-1))}finally{ue()}}function pi(t,e,n,r){const i=e[10],o=!$t(),s=Dt(e);try{o&&!s&&i.begin&&i.begin(),s&&di(t,e,r),fi(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function mi(t,e,n,r,i){const o=ce(),s=2&r;try{le(-1),s&&e.length>lt&&ei(t,e,lt,$t()),n(r,i)}finally{le(o)}}function gi(t,e,n){jt()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Pe(n,e),cr(r,e);const s=n.initialInputs;for(let a=i;a<o;a++){const r=t.data[a],o=yt(r);o&&Oi(e,n,r);const u=Ge(e,t,a,n);cr(u,e),null!==s&&Pi(0,a-i,u,r,0,s),o&&(Nt(n.index,e)[8]=u)}}(t,e,n,Pt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Vt.lFrame.currentDirectiveIndex;try{le(o);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Yt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||xi(r,i)}}finally{le(-1),Yt(s)}}(t,e,n))}function yi(t,e,n=Pt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(e,t):t[s];t[i++]=a}}}function vi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=bi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function bi(t,e,n,r,i,o,s,a,u,c){const l=lt+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Xr);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function wi(t,e,n,r){const i=Gi(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&zi(t).push(r,i.length-1))}function _i(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Ci(t,e,n,r,i,o,s,a){const u=Pt(e,n);let c,l=e.inputs;var h;!a&&null!=l&&(c=l[r])?(Zi(t,n,c,r,i),mt(e)&&function(t,e){const n=Nt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,e.value||"",r):i,At(o)?o.setProperty(u,r,i):Ce(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ti(t,e,n,r){let i=!1;if(jt()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];Jr(n,s.selectors,!1)&&(i||(i=[]),Le(Pe(n,e),t,s.type),yt(s)?(Si(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Ii(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=hi(t,e,o.length,null);for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=Te(n.mergedAttrs,c.hostAttrs),ki(t,n,e,u,c),Ai(u,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||Hr(e)?null:Ri(n,i);o.push(c),s=_i(n,u,s),a=_i(t.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=Te(n.mergedAttrs,n.attrs),i}function Ei(t,e,n,r,i,o){const s=o.hostBindings;if(s){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const o=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function xi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Si(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Ai(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;yt(e)&&(n[""]=t)}}function Ii(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ki(t,e,n,r,i){t.data[r]=i;const o=i.factory||(i.factory=vt(i.type)),s=new be(o,yt(i),null);t.blueprint[r]=s,n[r]=s,Ei(t,e,0,r,hi(t,n,i.hostVars,Xr),i)}function Oi(t,e,n){const r=Pt(e,t),i=vi(n),o=t[10],s=Mi(t,ci(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function Pi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],a=s[e++];null!==t?r.setInput(n,a,i,o):n[o]=a}}}function Ri(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ni(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Di(t,e){const n=Nt(e,t);if(Lt(n)){const t=n[1];80&n[2]?fi(t,n,t.template,n[8]):n[5]>0&&Li(n)}}function Li(t){for(let n=wr(t);null!==n;n=_r(n))for(let t=ht;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];fi(t,e,t.template,e[8])}else e[5]>0&&Li(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Nt(e[n],t);Lt(r)&&r[5]>0&&Li(r)}}function Ui(t,e){const n=Nt(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),di(r,n,n[8])}function Mi(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Fi(t){for(;t;){t[2]|=64;const e=br(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function Vi(t,e,n){const r=e[10];r.begin&&r.begin();try{fi(t,e,t.template,n)}catch(i){throw Hi(e,i),i}finally{r.end&&r.end()}}function ji(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=lr(n),i=r[1];pi(i,r,i.template,n)}}(t[8])}function qi(t,e,n){te(0),e(t,n)}const Bi=(()=>Promise.resolve(null))();function Gi(t){return t[7]||(t[7]=[])}function zi(t){return t.cleanup||(t.cleanup=[])}function Hi(t,e){const n=t[9],r=n?n.get(pr,null):null;r&&r.handleError(e)}function Zi(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function Ki(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=f(i,t):2==o&&(r=f(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const $i=new Ye("INJECTOR",-1);class Wi{get(t,e=cn){if(e===cn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const Ji=new Ye("Set Injector scope."),Qi={},Yi={};let Xi;function to(){return void 0===Xi&&(Xi=new Wi),Xi}function eo(t,e=null,n=null,r){return new no(t,n,e||to(),r)}class no{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&nn(e,n=>this.processProvider(n,t,e)),nn([t],t=>this.processInjectorType(t,[],i)),this.records.set($i,oo(void 0,this));const o=this.records.get(Ji);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=cn,n=P.Default){this.assertNotDestroyed();const r=pn(this);try{if(!(n&P.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof Ye)&&E(t);e=n&&this.injectableDefInScope(n)?oo(ro(t),Qi):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&P.Self?to():this.parent).get(t,e=n&P.Optional&&e===cn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(d(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[hn]&&i.unshift(e[hn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ln,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{pn(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=g(t)))return!1;let r=S(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=S(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{nn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];nn(r,t=>this.processProvider(t,n,r||z))}}this.injectorDefTypes.add(o);const a=vt(o)||(()=>new o);this.records.set(o,oo(a,Qi));const u=r.providers;if(null!=u&&!s){const e=t;nn(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=ao(t=g(t))?t:g(t&&t.provide);const i=function(t,e,n){return so(t)?oo(void 0,t.useValue):oo(io(t),Qi)}(t);if(ao(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=oo(void 0,Qi,!0),e.factory=()=>yn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===Qi&&(e.value=Yi,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){if(!t.providedIn)return!1;const e=g(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function ro(t){const e=E(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;if(t instanceof Ye)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function io(t,e,n){let r;if(ao(t)){const e=g(t);return vt(e)||ro(e)}if(so(t))r=()=>g(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...yn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>gn(g(t.useExisting));else{const e=g(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ro(e);r=()=>new e(...yn(t.deps))}var i;return r}function oo(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function so(t){return null!==t&&"object"==typeof t&&dn in t}function ao(t){return"function"==typeof t}const uo=function(t,e,n){return function(t,e=null,n=null,r){const i=eo(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let co=(()=>{class t{static create(t,e){return Array.isArray(t)?uo(t,e,""):uo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=cn,t.NULL=new Wi,t.\u0275prov=C({token:t,providedIn:"any",factory:()=>gn($i)}),t.__NG_ELEMENT_ID__=-1,t})();function lo(t,e){de(lr(t)[1],zt())}function ho(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(yt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=fo(t.inputs),e.declaredInputs=fo(t.declaredInputs),e.outputs=fo(t.outputs);const n=i.hostBindings;n&&go(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&po(t,o),s&&mo(t,s),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),yt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===ho&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Te(i.hostAttrs,n=Te(n,i.hostAttrs))}}(r)}function fo(t){return t===G?{}:t===z?[]:t}function po(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function mo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function go(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let yo=null;function vo(){if(!yo){const t=B.Symbol;if(t&&t.iterator)yo=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(yo=n)}}}return yo}function bo(t){return!!wo(t)&&(Array.isArray(t)||!(t instanceof Map)&&vo()in t)}function wo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function _o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Co(t,e,n,r){const i=qt();return _o(i,Jt(),e)&&(Bt(),function(t,e,n,r,i,o){const s=Pt(t,e);!function(t,e,n,r,i,o,s){if(null==o)At(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==s?b(o):s(o,r||"",i);At(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],s,o,t.value,n,r,i)}(he(),i,t,e,n,r)),Co}function To(t,e,n,r,i,o,s,a){const u=qt(),c=Bt(),l=t+lt,h=c.firstCreatePass?function(t,e,n,r,i,o,s,a,u){const c=e.consts,l=li(e,t,4,s||null,Ut(c,a));Ti(e,n,l,Ut(c,u)),de(e,l);const h=l.tViews=bi(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,o,s):c.data[l];Zt(h,!1);const d=u[11].createComment("");Nr(c,u,d,h),cr(d,u),Mi(u,u[l]=Ni(d,u,d,h)),gt(h)&&gi(c,u,h),null!=s&&yi(u,h,a)}function Eo(t){return function(t,e){return t[e]}(Vt.lFrame.contextLView,lt+t)}function xo(t,e=P.Default){const n=qt();return null===n?gn(t,e):Fe(zt(),n,g(t),e)}function So(t,e,n){const r=qt();return _o(r,Jt(),e)&&Ci(Bt(),he(),r,t,e,r[11],n,!1),So}function Ao(t,e,n,r,i){const o=i?"class":"style";Zi(t,n,e.inputs[o],o,r)}function Io(t,e,n,r){const i=qt(),o=Bt(),s=lt+t,a=i[11],u=i[s]=Er(a,e,Vt.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const a=e.consts,u=li(e,t,2,i,Ut(a,o));return Ti(e,n,u,Ut(a,s)),null!==u.attrs&&Ki(u,u.attrs,!1),null!==u.mergedAttrs&&Ki(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,0,e,n,r):o.data[s];Zt(c,!0);const l=c.mergedAttrs;null!==l&&we(a,u,l);const h=c.classes;null!==h&&qr(a,u,h);const d=c.styles;null!==d&&jr(a,u,d),64!=(64&c.flags)&&Nr(o,i,u,c),0===Vt.lFrame.elementDepthCount&&cr(u,i),Vt.lFrame.elementDepthCount++,gt(c)&&(gi(o,i,c),function(t,e,n){if(pt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&yi(i,c)}function ko(){let t=zt();Kt()?Vt.lFrame.isParent=!1:(t=t.parent,Zt(t,!1));const e=t;Vt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(de(n,t),pt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Ao(n,e,qt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Ao(n,e,qt(),e.stylesWithoutHost,!1)}function Oo(t,e,n,r){Io(t,e,n,r),ko()}function Po(){return qt()}function Ro(t){return!!t&&"function"==typeof t.then}function No(t){return!!t&&"function"==typeof t.subscribe}const Do=No;function Lo(t,e,n,r){const i=qt(),o=Bt(),s=zt();return function(t,e,n,r,i,o,s,a){const u=gt(r),c=t.firstCreatePass&&zi(t),l=Gi(e);let h=!0;if(3&r.type){const d=Pt(r,e),f=a?a(d):d,p=l.length,m=a?t=>a(kt(t[r.index])):r.index;if(At(n)){let s=null;if(!a&&u&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Mo(r,e,0,o,!1);const t=n.listen(f,i,o);l.push(o,t),c&&c.push(i,m,p,p+1)}}else o=Mo(r,e,0,o,!0),f.addEventListener(i,o,s),l.push(o),c&&c.push(i,m,p,s)}else o=Mo(r,e,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const t=f.length;if(t)for(let n=0;n<t;n+=2){const t=e[f[n]][f[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,!!n,r),Lo}function Uo(t,e,n,r){try{return!1!==n(r)}catch(i){return Hi(t,i),!1}}function Mo(t,e,n,r,i){return function n(o){if(o===Function)return r;const s=2&t.flags?Nt(t.index,e):e;0==(32&e[2])&&Fi(s);let a=Uo(e,0,r,o),u=n.__ngNextListenerFn__;for(;u;)a=Uo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Fo(t=1){return function(t){return(Vt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Vt.lFrame.contextLView))[8]}(t)}function Vo(t,e,n,r,i){const o=t[n+1],s=null===e;let a=r?ri(o):oi(o),u=!1;for(;0!==a&&(!1===u||s);){const n=t[a+1];jo(t[a],e)&&(u=!0,t[a+1]=r?ai(n):ii(n)),a=r?ri(n):oi(n)}u&&(t[n+1]=r?ii(o):ai(o))}function jo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&un(t,e)>=0}function qo(t,e){return function(t,e,n,r){const i=qt(),o=Bt(),s=function(t){const e=Vt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ce()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=Vt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=Go(n=Bo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Bo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==oi(r))return t[ri(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Bo(null,t,e,n[1],r),n=Go(n,e.attrs,r),function(t,e,n,r){t[ri(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=Go(r,t[o].hostAttrs,true);return Go(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,a=ri(s),u=oi(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||un(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=ri(t[a+1]);t[r+1]=ni(e,a),0!==e&&(t[e+1]=si(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=ni(a,0),0!==a&&(t[a+1]=si(t[a+1],r)),a=r;else t[r+1]=ni(u,0),0===a?a=r:t[u+1]=si(t[u+1],r),u=r;l&&(t[r+1]=ii(t[r+1])),Vo(t,c,r,!0),Vo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&un(o,e)>=0&&(n[r+1]=ai(n[r+1]))}(e,c,t,r),s=ni(a,u),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Xr&&_o(i,s,e)&&function(t,e,n,r,i,o,s,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ho(1==(1&c)?zo(u,e,n,i,oi(c),s):void 0)||(Ho(o)||function(t){return 2==(2&t)}(c)&&(o=zo(u,null,n,i,a,s)),function(t,e,n,r,i){const o=At(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,Ot(ce(),n),i,o))}(o,o.data[ce()],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=d(On(t))),t}(e),true,s)}(t,e),qo}function Bo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=e[a],r=Go(r,o.hostAttrs,i),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Go(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),sn(t,s,!!n||e[++o]))}return void 0===t?null:t}function zo(t,e,n,r,i,o){const s=null===e;let a;for(;i>0;){const e=t[i],o=Array.isArray(e),u=o?e[1]:e,c=null===u;let l=n[i+1];l===Xr&&(l=c?z:void 0);let h=c?an(l,r):u===r?l:void 0;if(o&&!Ho(h)&&(h=an(e,r)),Ho(h)&&(a=h,s))return a;const d=t[i+1];i=s?ri(d):oi(d)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(a=an(t,r))}return a}function Ho(t){return void 0!==t}function Zo(t,e=""){const n=qt(),r=Bt(),i=t+lt,o=r.firstCreatePass?li(r,i,1,e,null):r.data[i],s=n[i]=function(t,e){return At(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Nr(r,n,s,o),Zt(o,!1)}function Ko(t){return $o("",t,""),Ko}function $o(t,e,n){const r=qt(),i=function(t,e,n,r){return _o(t,Jt(),n)?e+b(n)+r:Xr}(r,t,e,n);return i!==Xr&&function(t,e,n){const r=Ot(e,t);!function(t,e,n){At(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ce(),i),$o}function Wo(t,e,n){const r=qt();return _o(r,Jt(),e)&&Ci(Bt(),he(),r,t,e,r[11],n,!0),Wo}const Jo=void 0;var Qo=["en",[["a","p"],["AM","PM"],Jo],[["AM","PM"],Jo,Jo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jo,"{1} 'at' {0}",Jo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Yo={};function Xo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=es(e);if(n)return n;const r=e.split("-")[0];if(n=es(r),n)return n;if("en"===r)return Qo;throw new Error(`Missing locale data for the locale "${t}".`)}function ts(t){return Xo(t)[ns.PluralCase]}function es(t){return t in Yo||(Yo[t]=B.ng&&B.ng.common&&B.ng.common.locales&&B.ng.common.locales[t]),Yo[t]}var ns=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const rs="en-US";let is=rs;function os(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(is=t.toLowerCase().replace(/_/g,"-"))}function ss(t,e,n,r,i){if(t=g(t),Array.isArray(t))for(let o=0;o<t.length;o++)ss(t[o],e,n,r,i);else{const o=Bt(),s=qt();let a=ao(t)?t:g(t.provide),u=io(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(ao(t)||!t.multi){const r=new be(u,i,xo),f=cs(a,e,i?l:l+d,h);-1===f?(Le(Pe(c,s),o,a),as(o,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=cs(a,e,l+d,h),p=cs(a,e,l,l+d),m=f>=0&&n[f],g=p>=0&&n[p];if(i&&!g||!i&&!m){Le(Pe(c,s),o,a);const l=function(t,e,n,r,i){const o=new be(t,n,xo);return o.multi=[],o.index=e,o.componentProviders=0,us(o,i,r&&!n),o}(i?hs:ls,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),as(o,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else as(o,t,f>-1?f:p,us(n[i?p:f],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function as(t,e,n,r){const i=ao(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function us(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cs(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function ls(t,e,n,r){return ds(this.multi,[])}function hs(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),ds(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],ds(i,o);return o}function ds(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function fs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=yt(t);ss(n,r.data,r.blueprint,i,!0),ss(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ps{}class ms{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let gs=(()=>{class t{}return t.NULL=new ms,t})();function ys(...t){}function vs(t,e){return new ws(Pt(t,e))}const bs=function(){return vs(zt(),qt())};let ws=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=bs,t})();function _s(t){return t instanceof ws?t.nativeElement:t}class Cs{}let Ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Es(),t})();const Es=function(){const t=qt(),e=Nt(zt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let xs=(()=>{class t{}return t.\u0275prov=C({token:t,providedIn:"root",factory:()=>null}),t})();class Ss{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const As=new Ss("12.0.0");class Is{constructor(){}supports(t){return bo(t)}create(t){return new Os(t)}}const ks=(t,e)=>e;class Os{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ks}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Ds(n,r,i)?e:n,s=Ds(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==a&&t(o,s,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!bo(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[vo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new Ps(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ns),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ns),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Ps{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Rs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Ns{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Rs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ds(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ls{constructor(){}supports(t){return t instanceof Map||wo(t)}create(){return new Us}}class Us{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||wo(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ms(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ms{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Fs(){return new Vs([new Is])}let Vs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Fs()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=C({token:t,providedIn:"root",factory:Fs}),t})();function js(){return new qs([new Ls])}let qs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||js()),deps:[[t,new _n,new wn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=C({token:t,providedIn:"root",factory:js}),t})();function Bs(t,e,n,r,i=!1){for(;null!==n;){const o=e[n.index];if(null!==o&&r.push(kt(o)),ft(o))for(let t=ht;t<o.length;t++){const e=o[t],n=e[1].firstChild;null!==n&&Bs(e[1],e,n,r)}const s=n.type;if(8&s)Bs(t,e,n.child,r);else if(32&s){const t=vr(n,e);let i;for(;i=t();)r.push(i)}else if(16&s){const t=Lr(e,n);if(Array.isArray(t))r.push(...t);else{const n=br(e[16]);Bs(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Gs{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return Bs(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ft(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Sr(t,n),on(e,n))}this._attachedToViewContainer=!1}Ar(this._lView[1],this._lView)}onDestroy(t){wi(this._lView[1],this._lView,null,t)}markForCheck(){Fi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Vi(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Wt(!0);try{Vi(t,e,n)}finally{Wt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Fr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class zs extends Gs{constructor(t){super(t),this._view=t}detectChanges(){ji(this._view)}checkNoChanges(){!function(t){Wt(!0);try{ji(t)}finally{Wt(!1)}}(this._view)}get context(){return null}}const Hs=function(t){return function(t,e,n){if(mt(t)&&!n){const n=Nt(t.index,e);return new Gs(n,n)}return 47&t.type?new Gs(e[16],e):null}(zt(),qt(),16==(16&t))};let Zs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Hs,t})();const Ks=[new Ls],$s=new Vs([new Is]),Ws=new qs(Ks),Js=function(){return ta(zt(),qt())};let Qs=(()=>{class t{}return t.__NG_ELEMENT_ID__=Js,t})();const Ys=Qs,Xs=class extends Ys{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=ci(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),di(e,n,t),new Gs(n)}};function ta(t,e){return 4&t.type?new Xs(e,t,vs(t,e)):null}class ea{}class na{}const ra=function(){return ca(zt(),qt())};let ia=(()=>{class t{}return t.__NG_ELEMENT_ID__=ra,t})();const oa=ia,sa=class extends oa{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return vs(this._hostTNode,this._hostLView)}get injector(){return new Ze(this._hostTNode,this._hostLView)}get parentInjector(){const t=De(this._hostTNode,this._hostLView);if(xe(t)){const e=Ae(t,this._hostLView),n=Se(t);return new Ze(e[1].data[n+8],e)}return new Ze(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=aa(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ht}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(ea,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(ft(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new sa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=ht+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-ht?(e[4]=n[i],rn(n,ht+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,o,i);const s=Ur(i,o),a=n[11],u=Rr(a,o[7]);return null!==u&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,Fr(t,r,n,1,i,o)}(r,o[6],a,n,u,s),t.attachToViewContainerRef(),rn(ua(o),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=aa(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);n&&(on(ua(this._lContainer),e),Ar(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Sr(this._lContainer,e);return n&&null!=on(ua(this._lContainer),e)?new Gs(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function aa(t){return t[8]}function ua(t){return t[8]||(t[8]=[])}function ca(t,e){let n;const r=e[t.index];if(ft(r))n=r;else{let i;if(8&t.type)i=kt(r);else{const n=e[11];i=n.createComment("");const r=Pt(t,e);kr(n,Rr(n,r),i,function(t,e){return At(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ni(r,e,i,t),Mi(e,n)}return new sa(n,t,e)}const la={};class ha extends gs{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new pa(e,this.ngModule)}}function da(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const fa=new Ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>mr});class pa extends ps{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Yr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return da(this.componentDef.inputs)}get outputs(){return da(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,la,i);return o!==la||r===la?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Cs,It),s=i.get(xs,null),a=o.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(At(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Er(o.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:mr,clean:Bi,playerHandler:null,flags:0},d=bi(0,null,null,1,0,null,null,null,null,null),f=ci(null,d,h,l,null,null,o,a,s,i);let p,m;re(f);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const a=li(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(Ki(a,u,!0),null!==t&&(we(i,t,u),null!==a.classes&&qr(i,t,a.classes),null!==a.styles&&jr(i,t,a.styles)));const c=r.createRenderer(t,e),l=ci(n,vi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return s.firstCreatePass&&(Le(Pe(a,n),s,e.type),Si(s,a),Ii(a,n.length,1)),Mi(n,l),n[20]=l}(c,this.componentDef,f,o,a);if(c)if(n)we(a,c,["ng-version",As.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!$r(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&we(a,c,t),e&&e.length>0&&qr(a,c,e.join(" "))}if(m=Rt(d,lt),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ki(t,r,e,hi(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);cr(i,e);const o=Pt(r,e);return o&&cr(o,e),i}(o,n,e);if(r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries){const t=zt();e.contentQueries(1,s,t.directiveStart)}const a=zt();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(le(a.index),Ei(n[1],a,0,a.directiveStart,a.directiveEnd,e),xi(e,s)),s}(t,this.componentDef,f,h,[lo]),di(d,f,null)}finally{ue()}return new ma(this.componentType,p,vs(m,f),f,m)}}class ma extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new zs(r),this.componentType=t}get injector(){return new Ze(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ga=new Map;class ya extends ea{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ha(this);const n=ct(t),r=t[W]||null;r&&os(r),this._bootstrapComponents=gr(n.bootstrap),this._r3Injector=eo(t,e,[{provide:ea,useValue:this},{provide:gs,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=co.THROW_IF_NOT_FOUND,n=P.Default){return t===co||t===ea||t===$i?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class va extends na{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,ga.get(i),n),ga.set(i,n));const o=gr(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new ya(this.moduleType,t)}}function ba(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return _o(t,s,i)?function(t,e,n){return t[e]=n}(t,s+1,o?r.call(o,i):r(i)):function(t,e){const n=t[e];return n===Xr?void 0:n}(t,s+1)}(qt(),function(){const t=Vt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function wa(t){return e=>{setTimeout(t,void 0,e)}}const _a=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,o,s;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(o=e.error)||void 0===o?void 0:o.bind(e),c=null===(s=e.complete)||void 0===s?void 0:s.bind(e)}this.__isAsync&&(u=wa(u),a&&(a=wa(a)),c&&(c=wa(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function Ca(){return this._results[vo()]()}class Ta{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=vo(),n=Ta.prototype;n[e]||(n[e]=Ca)}get changes(){return this._changes||(this._changes=new _a)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=en(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],o=e[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Ea{constructor(t){this.queryList=t,this.matches=null}clone(){return new Ea(this.queryList)}setDirty(){this.queryList.setDirty()}}class xa{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new xa(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ua(t,e).matches&&this.queries[e].setDirty()}}class Sa{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class Aa{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Aa(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Ia{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Ia(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,ka(e,i)),this.matchTNodeWithReadOption(t,e,Be(e,t,i,!1,!1))}else n===Qs?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Be(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ws||r===ia||r===Qs&&4&e.type)this.addMatch(e.index,-2);else{const n=Be(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function ka(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Oa(t,e,n,r){return-1===n?function(t,e){return 11&t.type?vs(t,e):4&t.type?ta(t,e):null}(e,t):-2===n?function(t,e,n){return n===ws?vs(e,t):n===Qs?ta(e,t):n===ia?ca(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function Pa(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Oa(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Ra(t,e,n,r){const i=t.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Pa(t,e,i,n);for(let t=0;t<o.length;t+=2){const n=o[t];if(n>0)r.push(s[t/2]);else{const i=o[t+1],s=e[-n];for(let t=ht;t<s.length;t++){const e=s[t];e[17]===e[3]&&Ra(e[1],e,i,r)}if(null!==s[9]){const t=s[9];for(let e=0;e<t.length;e++){const n=t[e];Ra(n[1],n,i,r)}}}}}return r}function Na(t){const e=qt(),n=Bt(),r=Xt();te(r+1);const i=Ua(n,r);if(t.dirty&&Dt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?Ra(n,e,r,[]):Pa(n,e,i,r);t.reset(o,_s),t.notifyOnChanges()}return!0}return!1}function Da(t,e,n,r){const i=Bt();if(i.firstCreatePass){const o=zt();(function(t,e,n){null===t.queries&&(t.queries=new Aa),t.queries.track(new Ia(e,n))})(i,new Sa(e,n,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function(t,e,n){const r=new Ta(4==(4&n));wi(t,e,r,r.destroy),null===e[19]&&(e[19]=new xa),e[19].queries.push(new Ea(r))}(i,qt(),n)}function La(){return t=qt(),e=Xt(),t[19].queries[e].queryList;var t,e}function Ua(t,e){return t.queries.getByIndex(e)}const Ma=new Ye("Application Initializer");let Fa=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ys,this.reject=ys,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Ro(e))t.push(e);else if(Do(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(gn(Ma,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Va=new Ye("AppId"),ja={provide:Va,useFactory:function(){return`${qa()}${qa()}${qa()}`},deps:[]};function qa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ba=new Ye("Platform Initializer"),Ga=new Ye("Platform ID"),za=new Ye("appBootstrapListener");let Ha=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const Za=new Ye("LocaleId"),Ka=new Ye("DefaultCurrencyCode");class $a{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Wa=function(t){return new va(t)},Ja=Wa,Qa=function(t){return Promise.resolve(Wa(t))},Ya=function(t){const e=Wa(t),n=gr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new pa(n)),t},[]);return new $a(e,n)},Xa=Ya,tu=function(t){return Promise.resolve(Ya(t))};let eu=(()=>{class t{constructor(){this.compileModuleSync=Ja,this.compileModuleAsync=Qa,this.compileModuleAndAllComponentsSync=Xa,this.compileModuleAndAllComponentsAsync=tu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();const nu=(()=>Promise.resolve(0))();function ru(t){"undefined"==typeof Zone?nu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class iu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new _a(!1),this.onMicrotaskEmpty=new _a(!1),this.onStable=new _a(!1),this.onError=new _a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=B.requestAnimationFrame,e=B.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(B,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,au(t),t.isCheckStableRunning=!0,su(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),au(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return uu(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||t.shouldCoalesceRunChangeDetection)&&e(),cu(t)}},onInvoke:(n,r,i,o,s,a,u)=>{try{return uu(t),n.invoke(i,o,s,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),cu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,au(t),su(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!iu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(iu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ou,ys,ys);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const ou={};function su(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function au(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function uu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function cu(t){t._nesting--,su(t)}class lu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new _a,this.onMicrotaskEmpty=new _a,this.onStable=new _a,this.onError=new _a}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let hu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{iu.assertNotInAngularZone(),ru(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ru(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(gn(iu))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})(),du=(()=>{class t{constructor(){this._applications=new Map,gu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return gu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();class fu{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function pu(t){gu=t}let mu,gu=new fu,yu=!0,vu=!1;function bu(){return vu=!0,yu}function wu(){if(vu)throw new Error("Cannot enable prod mode after platform setup.");yu=!1}const _u=new Ye("AllowMultipleToken");class Cu{constructor(t,e){this.name=t,this.token=e}}function Tu(t,e,n=[]){const r=`Platform: ${e}`,i=new Ye(r);return(e=[])=>{let o=Eu();if(!o||o.injector.get(_u,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:Ji,useValue:"platform"});!function(t){if(mu&&!mu.destroyed&&!mu.injector.get(_u,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");mu=t.get(xu);const e=t.get(Ba,null);e&&e.forEach(t=>t())}(co.create({providers:t,name:r}))}return function(t){const e=Eu();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function Eu(){return mu&&!mu.destroyed?mu:null}let xu=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new lu:("zone.js"===t?void 0:t)||new iu({enableLongStackTrace:bu(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:iu,useValue:n}];return n.run(()=>{const e=co.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(pr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});i.onDestroy(()=>{Iu(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Ro(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Fa);return t.runInitializers(),t.donePromise.then(()=>(os(i.injector.get(Za,rs)||rs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=Su({},e);return function(t,e,n){const r=new va(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Au);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(gn(co))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Su(t,e){return Array.isArray(e)?e.reduce(Su,t):Object.assign(Object.assign({},t),e)}let Au=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new o.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new o.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{iu.assertNotInAngularZone(),ru(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{iu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(l,h.pipe(t=>{return(0,u.x)()((e=c,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,a.N);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ea),i=n.create(co.NULL,[],e||n.selector,r),o=i.location.nativeElement,s=i.injector.get(hu,null),a=s&&i.injector.get(du);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Iu(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;Iu(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(za,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(gn(iu),gn(co),gn(pr),gn(gs),gn(Fa))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Iu(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class ku{}class Ou{}const Pu={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ru=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Pu}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Nu(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Nu(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(gn(eu),gn(Ou,8))},t.\u0275prov=C({token:t,factory:t.\u0275fac}),t})();function Nu(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Du=function(t){return null},Lu=Tu(null,"core",[{provide:Ga,useValue:"unknown"},{provide:xu,deps:[co]},{provide:du,deps:[]},{provide:Ha,deps:[]}]),Uu=[{provide:Au,useClass:Au,deps:[iu,co,pr,gs,Fa]},{provide:fa,deps:[iu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Fa,useClass:Fa,deps:[[new wn,Ma]]},{provide:eu,useClass:eu,deps:[]},ja,{provide:Vs,useFactory:function(){return $s},deps:[]},{provide:qs,useFactory:function(){return Ws},deps:[]},{provide:Za,useFactory:function(t){return os(t=t||"undefined"!=typeof $localize&&$localize.locale||rs),t},deps:[[new bn(Za),new wn,new _n]]},{provide:Ka,useValue:"USD"}];let Mu=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(gn(Au))},t.\u0275mod=rt({type:t}),t.\u0275inj=T({providers:Uu}),t})()},2346:(t,e,n)=>{"use strict";n.d(e,{hO:()=>A,xv:()=>b,Dh:()=>v,Ot:()=>w,HU:()=>f,GT:()=>y,sI:()=>x,on:()=>C,ss:()=>p,pX:()=>g,yq:()=>T});var r=n(8489),i=n(8569),o=n(6599),s=n(4187),a=n(9098),u=n(7368),c=n(1858);function l(){}t=n.hmd(t);class h{constructor(t,e=r.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class d{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe((0,o.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class f{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.z))}}function p(t){return function(e){return(e=e.lift(new d(t.ngZone))).pipe((0,s.R)(t.outsideAngular),(0,a.QV)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(m.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},v=new u.OlP("angularfire2.app.options"),b=new u.OlP("angularfire2.app.nameOrConfig");class w{}const _=new u.GfV("6.1.5");function C(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.Z.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.Z.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&E("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const T=()=>{E("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},E=(t,...e)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};function x(e,n,r,i,o){const[s,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&E("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:w,useFactory:C,deps:[v,u.R0b,[new u.FiY,b]]};let A=(()=>{class t{constructor(t){c.Z.registerVersion("angularfire",_.full,t.toString()),c.Z.registerVersion("angular",u.q4F.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:v,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(u.Lbi))},t.\u0275mod=u.oAB({type:t}),t.\u0275inj=u.cJS({providers:[S]}),t})()},1062:(t,e,n)=>{"use strict";n.d(e,{Z:()=>_});var r,i,o=n(4762),s=n(250),a=n(5119),u=n(308),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.LL("app","Firebase",c),h="@firebase/app",d="[DEFAULT]",f=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,s.p$)(t),this.container=new a.H0(e.name),this._addComponent(new a.wA("app",function(){return r},"PUBLIC")),this.firebase_.INTERNAL.components.forEach(function(t){return r._addComponent(t)})}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){var n;void 0===e&&(e=d),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=d),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=d);var a=o.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if((0,s.r3)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,o,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=f[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new a.wA(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.6.1",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(!(0,s.r3)(e,t=t||d))throw l.create("no-app",{appName:t});return e[t]}function o(o){var a=o.name;if(n.has(a))return p.debug("There were multiple attempts to register component "+a+"."),"PUBLIC"===o.type?r[a]:null;if(n.set(a,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[a])throw l.create("invalid-app-argument",{appName:a});return t[a]()};void 0!==o.serviceProps&&(0,s.ZB)(u,o.serviceProps),r[a]=u,t.prototype[a]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,a).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++)e[h[c]]._addComponent(o);return"PUBLIC"===o.type?r[a]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,s.ZB)(e,t)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if((0,s.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var v=self.firebase.SDK_VERSION;v&&v.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,s.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=g;!function(t,e){t.INTERNAL.registerComponent(new a.wA("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.22",void 0),t.registerVersion("fire-js","")}(w);const _=w},5119:(t,e,n)=>{"use strict";n.d(e,{wA:()=>o,H0:()=>u});var r=n(4762),i=n(250),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),s="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Set}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=(0,r.pi)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(n)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(n)return null;throw o}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:s})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var a=(0,r.CR)(o.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=s),this.instances.has(t)},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.instanceIdentifier,o=t.options,a=void 0===o?{}:o,u=this.normalizeInstanceIdentifier(void 0===i?s:i);if(this.isInitialized(u))throw Error(this.name+"("+u+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var c=this.getOrInitializeService({instanceIdentifier:u,options:a});try{for(var l=(0,r.XA)(this.instancesDeferred.entries()),h=l.next();!h.done;h=l.next()){var d=(0,r.CR)(h.value,2),f=d[1];u===this.normalizeInstanceIdentifier(d[0])&&f.resolve(c)}}catch(p){e={error:p}}finally{try{h&&!h.done&&(n=l.return)&&n.call(l)}finally{if(e)throw e.error}}return this.invokeOnInitCallbacks(c,u),c},t.prototype.onInit=function(t){var e=this;return this.onInitCallbacks.add(t),function(){e.onInitCallbacks.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i;try{for(var o=(0,r.XA)(this.onInitCallbacks),s=o.next();!s.done;s=o.next()){var a=s.value;try{a(t,e)}catch(u){}}}catch(c){n={error:c}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===s?void 0:e),options:i}),this.instances.set(n,o),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(a){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},308:(t,e,n)=>{"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var i;n.d(e,{in:()=>s,Yd:()=>h,Ub:()=>d,Am:()=>f});var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},u=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function d(t){o.forEach(function(e){e.setLogLevel(t)})}function f(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},250:(t,e,n)=>{"use strict";n.d(e,{BH:()=>a,LL:()=>C,ZR:()=>_,zI:()=>w,$s:()=>k,r3:()=>x,Sg:()=>u,ne:()=>S,p$:()=>o,ZB:()=>s,m9:()=>O,z$:()=>c,jU:()=>d,ru:()=>f,d:()=>m,w1:()=>g,hl:()=>v,uI:()=>l,UG:()=>h,b$:()=>p,Mn:()=>y,eu:()=>b});var r=n(4762),i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=(15&a)<<2|c>>6,h=63&c;u||(h=64,s||(l=64)),r.push(n[o>>2],n[(3&o)<<4|a>>4],n[l],n[h])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();r.push(o<<2|s>>4),64!==a&&(r.push(s<<4&240|a>>2),64!==u&&r.push(a<<6&192|u))}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};function o(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var a=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function u(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",o=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:o,exp:o+3600,auth_time:o,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[i.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),i.encodeString(JSON.stringify(a),!1),""].join(".")}function c(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function l(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(c())}function h(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function d(){return"object"==typeof self&&self.self===self}function f(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function p(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function m(){return c().indexOf("Electron/")>=0}function g(){var t=c();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return c().indexOf("MSAppHost/")>=0}function v(){return"indexedDB"in self&&null!=indexedDB}function b(){return new Promise(function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}})}function w(){return!(!navigator||!navigator.cookieEnabled)}var _=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,C.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?T(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new _(i,a,r);return u},t}();function T(t,e){return t.replace(E,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var E=/\{\$([^}]+)}/g;function x(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function S(t,e){var n=new A(t,e);return n.subscribe.bind(n)}var A=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function I(){}function k(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function O(t){return t&&t._delegate?t._delegate:t}},1858:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r.Z});var r=n(1062);r.Z.registerVersion("firebase","8.6.1","app")},8318:(t,e,n)=>{"use strict";n.d(e,{y:()=>c});var r=n(6673),i=n(5331),o=n(7498),s=n(6197),a=n(3392),u=n(1484);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(o.c)}(t,e,n);if(a.add(s?s.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.L](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},7498:(t,e,n)=>{"use strict";n.d(e,{c:()=>o});var r=n(1484),i=n(4294);const o={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},5959:(t,e,n)=>{"use strict";n.d(e,{Yc:()=>c,xQ:()=>l});var r=n(8318),i=n(6673),o=n(7570),s=n(3895),a=n(9291),u=n(5331);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.N;return this.hasError?(t.error(this.thrownError),o.w.EMPTY):this.isStopped?(t.complete(),o.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.w.EMPTY}}},9291:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var r=n(7570);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},6673:(t,e,n)=>{"use strict";n.d(e,{L:()=>c});var r=n(5024),i=n(7498),o=n(7570),s=n(5331),a=n(1484),u=n(4294);class c extends o.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let a=this;(0,r.m)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},7570:(t,e,n)=>{"use strict";n.d(e,{w:()=>a});var r=n(8470),i=n(2056),o=n(5024);const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if((0,o.m)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?u(h.errors):[h]}}if((0,r.k)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},1484:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},6882:(t,e,n)=>{"use strict";n.d(e,{IY:()=>s,Ds:()=>a,ft:()=>u});var r=n(6673),i=n(8318),o=n(6015);class s extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,o.s)(t)(e)}catch(r){e.error(r)}return n}},2875:(t,e,n)=>{"use strict";n.d(e,{c:()=>a,N:()=>u});var r=n(5959),i=n(8318),o=n(7570),s=n(1564);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new o.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=o.w.EMPTY)),t}refCount(){return(0,s.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},653:(t,e,n)=>{"use strict";n.d(e,{E:()=>i,c:()=>o});var r=n(8318);const i=new r.y(t=>t.complete());function o(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},9764:(t,e,n)=>{"use strict";n.d(e,{D:()=>h});var r=n(8318),i=n(6015),o=n(7570),s=n(6197),a=n(2570),u=n(5686),c=n(5168),l=n(9653);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.L]}(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>{const i=t[s.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new o.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},9342:(t,e,n)=>{"use strict";n.d(e,{n:()=>s});var r=n(8318),i=n(625),o=n(2570);function s(t,e){return e?(0,o.r)(t,e):new r.y((0,i.V)(t))}},1906:(t,e,n)=>{"use strict";n.d(e,{T:()=>a});var r=n(8318),i=n(6163),o=n(7471),s=n(9342);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,o.J)(e)((0,s.n)(t,n))}},878:(t,e,n)=>{"use strict";n.d(e,{of:()=>s});var r=n(6163),i=n(9342),o=n(2570);function s(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,o.r)(t,e)):(0,i.n)(t)}},9996:(t,e,n)=>{"use strict";n.d(e,{U:()=>i});var r=n(6673);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},7471:(t,e,n)=>{"use strict";n.d(e,{J:()=>o});var r=n(3982),i=n(3392);function o(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},3982:(t,e,n)=>{"use strict";n.d(e,{zg:()=>s});var r=n(9996),i=n(9764),o=n(6882);function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>(0,i.D)(t(n,o)).pipe((0,r.U)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends o.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.IY(this),n=this.destination;n.add(e);const r=(0,o.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9098:(t,e,n)=>{"use strict";n.d(e,{ht:()=>l,QV:()=>u});var r=n(6673),i=n(653),o=n(878),s=n(8318);let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return t=this.error,new s.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1564:(t,e,n)=>{"use strict";n.d(e,{x:()=>i});var r=n(6673);function i(){return function(t){return t.lift(new o(t))}}class o{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new s(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},4187:(t,e,n)=>{"use strict";n.d(e,{R:()=>g});var r=n(8318);let i=1;const o=(()=>Promise.resolve())(),s={};function a(t){return t in s&&(delete s[t],!0)}const u={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(8277);class l extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n(1098);class d extends h.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const f=new d(l);var p=n(8470);class m extends r.y{constructor(t,e=0,n=f){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,((0,p.k)(r=e)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=f)}static create(t,e=0,n=f){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},6599:(t,e,n)=>{"use strict";n.d(e,{b:()=>s});var r=n(6673);function i(){}var o=n(5024);function s(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},2570:(t,e,n)=>{"use strict";n.d(e,{r:()=>o});var r=n(8318),i=n(7570);function o(t,e){return new r.y(n=>{const r=new i.w;let o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},8277:(t,e,n)=>{"use strict";n.d(e,{o:()=>o});var r=n(7570);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},1098:(t,e,n)=>{"use strict";n.d(e,{v:()=>i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},8569:(t,e,n)=>{"use strict";n.d(e,{z:()=>i,P:()=>o});var r=n(8277);const i=new(n(1098).v)(r.o),o=i},8489:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,N:()=>a});var r=n(8277);class i extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n(1098);class s extends o.v{}const a=new s(i),u=a},5686:(t,e,n)=>{"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,{hZ:()=>i});const i=r()},6197:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},5331:(t,e,n)=>{"use strict";n.d(e,{b:()=>r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},3895:(t,e,n)=>{"use strict";n.d(e,{N:()=>r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4294:(t,e,n)=>{"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:()=>r})},3392:(t,e,n)=>{"use strict";function r(t){return t}n.d(e,{y:()=>r})},8470:(t,e,n)=>{"use strict";n.d(e,{k:()=>r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},9653:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},5024:(t,e,n)=>{"use strict";function r(t){return"function"==typeof t}n.d(e,{m:()=>r})},2056:(t,e,n)=>{"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:()=>r})},5168:(t,e,n)=>{"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:()=>r})},6163:(t,e,n)=>{"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:()=>r})},6015:(t,e,n)=>{"use strict";n.d(e,{s:()=>l});var r=n(625),i=n(4294),o=n(5686),s=n(6197),a=n(9653),u=n(5168),c=n(2056);const l=t=>{if(t&&"function"==typeof t[s.L])return l=t,t=>{const e=l[s.L]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.z),t);if(t&&"function"==typeof t[o.hZ])return e=t,t=>{const n=e[o.hZ]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=(0,c.K)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},625:(t,e,n)=>{"use strict";n.d(e,{V:()=>r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},2501:function(t){t.exports=function(){"use strict";const t=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),e="SweetAlert2:",n=t=>t.charAt(0).toUpperCase()+t.slice(1),r=t=>Array.prototype.slice.call(t),i=t=>{console.warn("".concat(e," ").concat("object"==typeof t?t.join(" "):t))},o=t=>{console.error("".concat(e," ").concat(t))},s=[],a=(t,e)=>{"function"==typeof t&&t(e)},u=t=>"function"==typeof t?t():t,c=t=>t&&"function"==typeof t.toPromise,l=t=>c(t)?t.toPromise():Promise.resolve(t),h=t=>t&&Promise.resolve(t)===t,d=t=>t instanceof Element||(t=>"object"==typeof t&&t.jquery)(t),f=t=>{const e={};for(const n in t)e[t[n]]="swal2-"+t[n];return e},p=f(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),m=f(["success","warning","info","question","error"]),g=()=>document.body.querySelector(".".concat(p.container)),y=t=>{const e=g();return e?e.querySelector(t):null},v=t=>y(".".concat(t)),b=()=>v(p.popup),w=()=>v(p.icon),_=()=>v(p.title),C=()=>v(p["html-container"]),T=()=>v(p.image),E=()=>v(p["progress-steps"]),x=()=>v(p["validation-message"]),S=()=>y(".".concat(p.actions," .").concat(p.confirm)),A=()=>y(".".concat(p.actions," .").concat(p.deny)),I=()=>y(".".concat(p.loader)),k=()=>y(".".concat(p.actions," .").concat(p.cancel)),O=()=>v(p.actions),P=()=>v(p.footer),R=()=>v(p["timer-progress-bar"]),N=()=>v(p.close),D=()=>{const t=r(b().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((t,e)=>(t=parseInt(t.getAttribute("tabindex")))>(e=parseInt(e.getAttribute("tabindex")))?1:t<e?-1:0),e=r(b().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(t=>"-1"!==t.getAttribute("tabindex"));return(t=>{const e=[];for(let n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e})(t.concat(e)).filter(t=>Y(t))},L=()=>!U()&&!document.body.classList.contains(p["no-backdrop"]),U=()=>document.body.classList.contains(p["toast-shown"]),M={previousBodyPadding:null},F=(t,e)=>{if(t.textContent="",e){const n=(new DOMParser).parseFromString(e,"text/html");r(n.querySelector("head").childNodes).forEach(e=>{t.appendChild(e)}),r(n.querySelector("body").childNodes).forEach(e=>{t.appendChild(e)})}},V=(t,e)=>{if(!e)return!1;const n=e.split(/\s+/);for(let r=0;r<n.length;r++)if(!t.classList.contains(n[r]))return!1;return!0},j=(t,e,n)=>{if(((t,e)=>{r(t.classList).forEach(n=>{Object.values(p).includes(n)||Object.values(m).includes(n)||Object.values(e.showClass).includes(n)||t.classList.remove(n)})})(t,e),e.customClass&&e.customClass[n]){if("string"!=typeof e.customClass[n]&&!e.customClass[n].forEach)return i("Invalid type of customClass.".concat(n,'! Expected string or iterable object, got "').concat(typeof e.customClass[n],'"'));z(t,e.customClass[n])}},q=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return Z(t,p[e]);case"checkbox":return t.querySelector(".".concat(p.checkbox," input"));case"radio":return t.querySelector(".".concat(p.radio," input:checked"))||t.querySelector(".".concat(p.radio," input:first-child"));case"range":return t.querySelector(".".concat(p.range," input"));default:return Z(t,p.input)}},B=t=>{if(t.focus(),"file"!==t.type){const e=t.value;t.value="",t.value=e}},G=(t,e,n)=>{t&&e&&("string"==typeof e&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(e=>{t.forEach?t.forEach(t=>{n?t.classList.add(e):t.classList.remove(e)}):n?t.classList.add(e):t.classList.remove(e)}))},z=(t,e)=>{G(t,e,!0)},H=(t,e)=>{G(t,e,!1)},Z=(t,e)=>{for(let n=0;n<t.childNodes.length;n++)if(V(t.childNodes[n],e))return t.childNodes[n]},K=(t,e,n)=>{n==="".concat(parseInt(n))&&(n=parseInt(n)),n||0===parseInt(n)?t.style[e]="number"==typeof n?"".concat(n,"px"):n:t.style.removeProperty(e)},$=(t,e="flex")=>{t.style.display=e},W=t=>{t.style.display="none"},J=(t,e,n,r)=>{const i=t.querySelector(e);i&&(i.style[n]=r)},Q=(t,e,n)=>{e?$(t,n):W(t)},Y=t=>!(!t||!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),X=t=>!!(t.scrollHeight>t.clientHeight),tt=t=>{const e=window.getComputedStyle(t),n=parseFloat(e.getPropertyValue("animation-duration")||"0"),r=parseFloat(e.getPropertyValue("transition-duration")||"0");return n>0||r>0},et=(t,e=!1)=>{const n=R();Y(n)&&(e&&(n.style.transition="none",n.style.width="100%"),setTimeout(()=>{n.style.transition="width ".concat(t/1e3,"s linear"),n.style.width="0%"},10))},nt=()=>"undefined"==typeof window||"undefined"==typeof document,rt='\n <div aria-labelledby="'.concat(p.title,'" aria-describedby="').concat(p["html-container"],'" class="').concat(p.popup,'" tabindex="-1">\n   <button type="button" class="').concat(p.close,'"></button>\n   <ul class="').concat(p["progress-steps"],'"></ul>\n   <div class="').concat(p.icon,'"></div>\n   <img class="').concat(p.image,'" />\n   <h2 class="').concat(p.title,'" id="').concat(p.title,'"></h2>\n   <div class="').concat(p["html-container"],'"></div>\n   <input class="').concat(p.input,'" />\n   <input type="file" class="').concat(p.file,'" />\n   <div class="').concat(p.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(p.select,'"></select>\n   <div class="').concat(p.radio,'"></div>\n   <label for="').concat(p.checkbox,'" class="').concat(p.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(p.label,'"></span>\n   </label>\n   <textarea class="').concat(p.textarea,'"></textarea>\n   <div class="').concat(p["validation-message"],'" id="').concat(p["validation-message"],'"></div>\n   <div class="').concat(p.actions,'">\n     <div class="').concat(p.loader,'"></div>\n     <button type="button" class="').concat(p.confirm,'"></button>\n     <button type="button" class="').concat(p.deny,'"></button>\n     <button type="button" class="').concat(p.cancel,'"></button>\n   </div>\n   <div class="').concat(p.footer,'"></div>\n   <div class="').concat(p["timer-progress-bar-container"],'">\n     <div class="').concat(p["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),it=()=>{Me.isVisible()&&Me.resetValidationMessage()},ot=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):"object"==typeof t?st(t,e):t&&F(e,t)},st=(t,e)=>{t.jquery?at(e,t):F(e,t.toString())},at=(t,e)=>{if(t.textContent="",0 in e)for(let n=0;n in e;n++)t.appendChild(e[n].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},ut=(()=>{if(nt())return!1;const t=document.createElement("div"),e={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&void 0!==t.style[n])return e[n];return!1})();function ct(t,e,r){Q(t,r["show".concat(n(e),"Button")],"inline-block"),F(t,r["".concat(e,"ButtonText")]),t.setAttribute("aria-label",r["".concat(e,"ButtonAriaLabel")]),t.className=p[e],j(t,r,"".concat(e,"Button")),z(t,r["".concat(e,"ButtonClass")])}var lt={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const ht=["input","file","range","select","radio","checkbox","textarea"],dt=(t,e)=>{t.placeholder&&!e.inputPlaceholder||(t.placeholder=e.inputPlaceholder)},ft=(t,e,n)=>{if(n.inputLabel){t.id=p.input;const r=document.createElement("label"),i=p["input-label"];r.setAttribute("for",t.id),r.className=i,z(r,n.customClass.inputLabel),r.innerText=n.inputLabel,e.insertAdjacentElement("beforebegin",r)}},pt=t=>{const e=p[t]?p[t]:p.input;return Z(b(),e)},mt={};mt.text=mt.email=mt.password=mt.number=mt.tel=mt.url=(t,e)=>("string"==typeof e.inputValue||"number"==typeof e.inputValue?t.value=e.inputValue:h(e.inputValue)||i('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof e.inputValue,'"')),ft(t,t,e),dt(t,e),t.type=e.input,t),mt.file=(t,e)=>(ft(t,t,e),dt(t,e),t),mt.range=(t,e)=>{const n=t.querySelector("input"),r=t.querySelector("output");return n.value=e.inputValue,n.type=e.input,r.value=e.inputValue,ft(n,t,e),t},mt.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const n=document.createElement("option");F(n,e.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,t.appendChild(n)}return ft(t,t,e),t},mt.radio=t=>(t.textContent="",t),mt.checkbox=(t,e)=>{const n=q(b(),"checkbox");n.value=1,n.id=p.checkbox,n.checked=Boolean(e.inputValue);const r=t.querySelector("span");return F(r,e.inputPlaceholder),t},mt.textarea=(t,e)=>{if(t.value=e.inputValue,dt(t,e),ft(t,t,e),"MutationObserver"in window){const e=parseInt(window.getComputedStyle(b()).width);new MutationObserver(()=>{const n=t.offsetWidth+(r=t,parseInt(window.getComputedStyle(r).marginLeft)+parseInt(window.getComputedStyle(r).marginRight));var r;b().style.width=n>e?"".concat(n,"px"):null}).observe(t,{attributes:!0,attributeFilter:["style"]})}return t};const gt=(t,e)=>{const n=C();j(n,e,"htmlContainer"),e.html?(ot(e.html,n),$(n,"block")):e.text?(n.textContent=e.text,$(n,"block")):W(n),((t,e)=>{const n=b(),r=lt.innerParams.get(t),i=!r||e.input!==r.input;ht.forEach(t=>{const r=p[t],o=Z(n,r);((t,e)=>{const n=q(b(),t);if(n){(t=>{for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;["type","value","style"].includes(n)||t.removeAttribute(n)}})(n);for(const t in e)n.setAttribute(t,e[t])}})(t,e.inputAttributes),o.className=r,i&&W(o)}),e.input&&(i&&(t=>{if(!mt[t.input])return o('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(t.input,'"'));const e=pt(t.input),n=mt[t.input](e,t);$(n),setTimeout(()=>{B(n)})})(e),(t=>{const e=pt(t.input);t.customClass&&z(e,t.customClass.input)})(e))})(t,e)},yt=(t,e)=>{for(const n in m)e.icon!==n&&H(t,m[n]);z(t,m[e.icon]),wt(t,e),vt(),j(t,e,"icon")},vt=()=>{const t=b(),e=window.getComputedStyle(t).getPropertyValue("background-color"),n=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let r=0;r<n.length;r++)n[r].style.backgroundColor=e},bt=(t,e)=>{t.textContent="",F(t,e.iconHtml?_t(e.iconHtml):"success"===e.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===e.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':_t({question:"?",warning:"!",info:"i"}[e.icon]))},wt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const n of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])J(t,n,"backgroundColor",e.iconColor);J(t,".swal2-success-ring","borderColor",e.iconColor)}},_t=t=>'<div class="'.concat(p["icon-content"],'">').concat(t,"</div>"),Ct=(t,e)=>{((t,e)=>{const n=g(),r=b();e.toast?(K(n,"width",e.width),r.style.width="100%",r.insertBefore(I(),w())):K(r,"width",e.width),K(r,"padding",e.padding),e.background&&(r.style.background=e.background),W(x()),((t,e)=>{t.className="".concat(p.popup," ").concat(Y(t)?e.showClass.popup:""),e.toast?(z([document.documentElement,document.body],p["toast-shown"]),z(t,p.toast)):z(t,p.modal),j(t,e,"popup"),"string"==typeof e.customClass&&z(t,e.customClass),e.icon&&z(t,p["icon-".concat(e.icon)])})(r,e)})(0,e),((t,e)=>{const n=g();n&&(function(t,e){"string"==typeof e?t.style.background=e:e||z([document.documentElement,document.body],p["no-backdrop"])}(n,e.backdrop),!e.backdrop&&e.allowOutsideClick&&i('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(t,e){e in p?z(t,p[e]):(i('The "position" parameter is not valid, defaulting to "center"'),z(t,p.center))}(n,e.position),function(t,e){if(e&&"string"==typeof e){const n="grow-".concat(e);n in p&&z(t,p[n])}}(n,e.grow),j(n,e,"container"))})(0,e),((t,e)=>{const n=E();if(!e.progressSteps||0===e.progressSteps.length)return W(n);$(n),n.textContent="",e.currentProgressStep>=e.progressSteps.length&&i("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),e.progressSteps.forEach((t,r)=>{const i=(t=>{const e=document.createElement("li");return z(e,p["progress-step"]),F(e,t),e})(t);if(n.appendChild(i),r===e.currentProgressStep&&z(i,p["active-progress-step"]),r!==e.progressSteps.length-1){const t=(t=>{const e=document.createElement("li");return z(e,p["progress-step-line"]),t.progressStepsDistance&&(e.style.width=t.progressStepsDistance),e})(e);n.appendChild(t)}})})(0,e),((t,e)=>{const n=lt.innerParams.get(t),r=w();n&&e.icon===n.icon?(bt(r,e),yt(r,e)):e.icon||e.iconHtml?e.icon&&-1===Object.keys(m).indexOf(e.icon)?(o('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.icon,'"')),W(r)):($(r),bt(r,e),yt(r,e),z(r,e.showClass.icon)):W(r)})(t,e),((t,e)=>{const n=T();if(!e.imageUrl)return W(n);$(n,""),n.setAttribute("src",e.imageUrl),n.setAttribute("alt",e.imageAlt),K(n,"width",e.imageWidth),K(n,"height",e.imageHeight),n.className=p.image,j(n,e,"image")})(0,e),((t,e)=>{const n=_();Q(n,e.title||e.titleText,"block"),e.title&&ot(e.title,n),e.titleText&&(n.innerText=e.titleText),j(n,e,"title")})(0,e),((t,e)=>{const n=N();F(n,e.closeButtonHtml),j(n,e,"closeButton"),Q(n,e.showCloseButton),n.setAttribute("aria-label",e.closeButtonAriaLabel)})(0,e),gt(t,e),((t,e)=>{const n=O(),r=I(),i=S(),o=A(),s=k();e.showConfirmButton||e.showDenyButton||e.showCancelButton||W(n),j(n,e,"actions"),ct(i,"confirm",e),ct(o,"deny",e),ct(s,"cancel",e),function(t,e,n,r){if(!r.buttonsStyling)return H([t,e,n],p.styled);z([t,e,n],p.styled),r.confirmButtonColor&&(t.style.backgroundColor=r.confirmButtonColor,z(t,p["default-outline"])),r.denyButtonColor&&(e.style.backgroundColor=r.denyButtonColor,z(e,p["default-outline"])),r.cancelButtonColor&&(n.style.backgroundColor=r.cancelButtonColor,z(n,p["default-outline"]))}(i,o,s,e),e.reverseButtons&&(n.insertBefore(s,r),n.insertBefore(o,r),n.insertBefore(i,r)),F(r,e.loaderHtml),j(r,e,"loader")})(0,e),((t,e)=>{const n=P();Q(n,e.footer),e.footer&&ot(e.footer,n),j(n,e,"footer")})(0,e),a(e.didRender,b())},Tt=()=>S()&&S().click(),Et=t=>{let e=b();e||Me.fire(),e=b();const n=I();U()?W(w()):xt(e,t),$(n),e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},xt=(t,e)=>{const n=O(),r=I();!e&&Y(S())&&(e=S()),$(n),e&&(W(e),r.setAttribute("data-button-to-replace",e.className)),r.parentNode.insertBefore(r,e),z([t,n],p.loading)},St={},At=()=>{if(St.timeout)return(()=>{const t=R(),e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const n=parseInt(window.getComputedStyle(t).width),r=parseInt(e/n*100);t.style.removeProperty("transition"),t.style.width="".concat(r,"%")})(),St.timeout.stop()},It=()=>{if(St.timeout){const t=St.timeout.start();return et(t),t}};let kt=!1;const Ot={},Pt=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const t in Ot){const n=e.getAttribute(t);if(n)return void Ot[t].fire({template:n})}},Rt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Nt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Dt={},Lt=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Ut=t=>Object.prototype.hasOwnProperty.call(Rt,t),Mt=t=>Dt[t],Ft=t=>{Ut(t)||i('Unknown parameter "'.concat(t,'"'))},Vt=t=>{Lt.includes(t)&&i('The parameter "'.concat(t,'" is incompatible with toasts'))},jt=t=>{var e,n,r;Mt(t)&&(e=t,n=Mt(t),r='"'.concat(e,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),s.includes(r)||(s.push(r),i(r)))};var qt=Object.freeze({isValidParameter:Ut,isUpdatableParameter:t=>-1!==Nt.indexOf(t),isDeprecatedParameter:Mt,argsToParams:t=>{const e={};return"object"!=typeof t[0]||d(t[0])?["title","html","icon"].forEach((n,r)=>{const i=t[r];"string"==typeof i||d(i)?e[n]=i:void 0!==i&&o("Unexpected type of ".concat(n,'! Expected "string" or "Element", got ').concat(typeof i))}):Object.assign(e,t[0]),e},isVisible:()=>Y(b()),clickConfirm:Tt,clickDeny:()=>A()&&A().click(),clickCancel:()=>k()&&k().click(),getContainer:g,getPopup:b,getTitle:_,getHtmlContainer:C,getImage:T,getIcon:w,getInputLabel:()=>v(p["input-label"]),getCloseButton:N,getActions:O,getConfirmButton:S,getDenyButton:A,getCancelButton:k,getLoader:I,getFooter:P,getTimerProgressBar:R,getFocusableElements:D,getValidationMessage:x,isLoading:()=>b().hasAttribute("data-loading"),fire:function(...t){return new this(...t)},mixin:function(t){return class extends(this){_main(e,n){return super._main(e,Object.assign({},t,n))}}},showLoading:Et,enableLoading:Et,getTimerLeft:()=>St.timeout&&St.timeout.getTimerLeft(),stopTimer:At,resumeTimer:It,toggleTimer:()=>{const t=St.timeout;return t&&(t.running?At():It())},increaseTimer:t=>{if(St.timeout){const e=St.timeout.increase(t);return et(e,!0),e}},isTimerRunning:()=>St.timeout&&St.timeout.isRunning(),bindClickHandler:function(t="data-swal-template"){Ot[t]=this,kt||(document.body.addEventListener("click",Pt),kt=!0)}});function Bt(){const t=lt.innerParams.get(this);if(!t)return;const e=lt.domCache.get(this);W(e.loader),U()?t.icon&&$(w()):Gt(e),H([e.popup,e.actions],p.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Gt=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?$(e[0],"inline-block"):!Y(S())&&!Y(A())&&!Y(k())&&W(t.actions)},zt=t=>{const e=t.target,n=g();return!(Ht(t)||Zt(t)||e!==n&&(X(n)||"INPUT"===e.tagName||X(C())&&C().contains(e)))},Ht=t=>t.touches&&t.touches.length&&"stylus"===t.touches[0].touchType,Zt=t=>t.touches&&t.touches.length>1;var Kt={swalPromiseResolve:new WeakMap};function $t(t,e,n,i){U()?Xt(t,i):((t=>new Promise(e=>{if(!t)return e();const n=window.scrollX,r=window.scrollY;St.restoreFocusTimeout=setTimeout(()=>{St.previousActiveElement&&St.previousActiveElement.focus?(St.previousActiveElement.focus(),St.previousActiveElement=null):document.body&&document.body.focus(),e()},100),window.scrollTo(n,r)}))(n).then(()=>Xt(t,i)),St.keydownTarget.removeEventListener("keydown",St.keydownHandler,{capture:St.keydownListenerCapture}),St.keydownHandlerAdded=!1),e.parentNode&&e.remove(),L()&&(null!==M.previousBodyPadding&&(document.body.style.paddingRight="".concat(M.previousBodyPadding,"px"),M.previousBodyPadding=null),(()=>{if(V(document.body,p.iosfix)){const t=parseInt(document.body.style.top,10);H(document.body,p.iosfix),document.body.style.top="",document.body.scrollTop=-1*t}})(),r(document.body.children).forEach(t=>{t.hasAttribute("data-previous-aria-hidden")?(t.setAttribute("aria-hidden",t.getAttribute("data-previous-aria-hidden")),t.removeAttribute("data-previous-aria-hidden")):t.removeAttribute("aria-hidden")})),H([document.documentElement,document.body],[p.shown,p["height-auto"],p["no-backdrop"],p["toast-shown"]])}function Wt(t){const e=b();if(!e)return;t=Jt(t);const n=lt.innerParams.get(this);if(!n||V(e,n.hideClass.popup))return;const r=Kt.swalPromiseResolve.get(this);H(e,n.showClass.popup),z(e,n.hideClass.popup);const i=g();H(i,n.showClass.backdrop),z(i,n.hideClass.backdrop),Qt(this,e,n),r(t)}const Jt=t=>void 0===t?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),Qt=(t,e,n)=>{const r=g(),i=ut&&tt(e);a(n.willClose,e),i?Yt(t,e,r,n.returnFocus,n.didClose):$t(t,r,n.returnFocus,n.didClose)},Yt=(t,e,n,r,i)=>{St.swalCloseEventFinishedCallback=$t.bind(null,t,n,r,i),e.addEventListener(ut,function(t){t.target===e&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback)})},Xt=(t,e)=>{setTimeout(()=>{a(e),t._destroy()})};function te(t,e,n){const r=lt.domCache.get(t);e.forEach(t=>{r[t].disabled=n})}function ee(t,e){if(!t)return!1;if("radio"===t.type){const n=t.parentNode.parentNode.querySelectorAll("input");for(let t=0;t<n.length;t++)n[t].disabled=e}else t.disabled=e}class ne{constructor(t,e){this.callback=t,this.remaining=e,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}increase(t){const e=this.running;return e&&this.stop(),this.remaining+=t,e&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}var re={email:(t,e)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function ie(t){(function(t){t.inputValidator||Object.keys(re).forEach(e=>{t.input===e&&(t.inputValidator=re[e])})})(t),t.showLoaderOnConfirm&&!t.preConfirm&&i("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(t){(!t.target||"string"==typeof t.target&&!document.querySelector(t.target)||"string"!=typeof t.target&&!t.target.appendChild)&&(i('Target parameter is not valid, defaulting to "body"'),t.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),(t=>{const e=(()=>{const t=g();return!!t&&(t.remove(),H([document.documentElement,document.body],[p["no-backdrop"],p["toast-shown"],p["has-column"]]),!0)})();if(nt())return void o("SweetAlert2 requires document to initialize");const n=document.createElement("div");n.className=p.container,e&&z(n,p["no-transition"]),F(n,rt);const r="string"==typeof(i=t.target)?document.querySelector(i):i;var i;r.appendChild(n),(t=>{const e=b();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")})(t),(t=>{"rtl"===window.getComputedStyle(t).direction&&z(g(),p.rtl)})(r),(()=>{const t=b(),e=Z(t,p.input),n=Z(t,p.file),r=t.querySelector(".".concat(p.range," input")),i=t.querySelector(".".concat(p.range," output")),o=Z(t,p.select),s=t.querySelector(".".concat(p.checkbox," input")),a=Z(t,p.textarea);e.oninput=it,n.onchange=it,o.onchange=it,s.onchange=it,a.oninput=it,r.oninput=()=>{it(),i.value=r.value},r.onchange=()=>{it(),r.nextSibling.value=r.value}})()})(t)}const oe=["swal-title","swal-html","swal-footer"],se=(t,e)=>{r(t.attributes).forEach(n=>{-1===e.indexOf(n.name)&&i(['Unrecognized attribute "'.concat(n.name,'" on <').concat(t.tagName.toLowerCase(),">."),"".concat(e.length?"Allowed attributes are: ".concat(e.join(", ")):"To set the value, use HTML within the element.")])})},ae=t=>{const e=b();if(t.target!==e)return;const n=g();e.removeEventListener(ut,ae),n.style.overflowY="auto"},ue=(t,e)=>{ut&&tt(e)?(t.style.overflowY="hidden",e.addEventListener(ut,ae)):t.style.overflowY="auto"},ce=(t,e,n)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!V(document.body,p.iosfix)){const t=document.body.scrollTop;document.body.style.top="".concat(-1*t,"px"),z(document.body,p.iosfix),(()=>{const t=g();let e;t.ontouchstart=t=>{e=zt(t)},t.ontouchmove=t=>{e&&(t.preventDefault(),t.stopPropagation())}})(),(()=>{if(!navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)){const t=44;b().scrollHeight>window.innerHeight-t&&(g().style.paddingBottom="".concat(t,"px"))}})()}})(),e&&"hidden"!==n&&(null===M.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(M.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(M.previousBodyPadding+(()=>{const t=document.createElement("div");t.className=p["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e})(),"px"))),setTimeout(()=>{t.scrollTop=0})},le=(t,e,n)=>{z(t,n.showClass.backdrop),e.style.setProperty("opacity","0","important"),$(e,"grid"),setTimeout(()=>{z(e,n.showClass.popup),e.style.removeProperty("opacity")},10),z([document.documentElement,document.body],p.shown),n.heightAuto&&n.backdrop&&!n.toast&&z([document.documentElement,document.body],p["height-auto"])},he={select:(t,e,n)=>{const r=Z(t,p.select),i=(t,e,r)=>{const i=document.createElement("option");i.value=r,F(i,e),i.selected=fe(r,n.inputValue),t.appendChild(i)};e.forEach(t=>{const e=t[0],n=t[1];if(Array.isArray(n)){const t=document.createElement("optgroup");t.label=e,t.disabled=!1,r.appendChild(t),n.forEach(e=>i(t,e[1],e[0]))}else i(r,n,e)}),r.focus()},radio:(t,e,n)=>{const r=Z(t,p.radio);e.forEach(t=>{const e=t[0],i=t[1],o=document.createElement("input"),s=document.createElement("label");o.type="radio",o.name=p.radio,o.value=e,fe(e,n.inputValue)&&(o.checked=!0);const a=document.createElement("span");F(a,i),a.className=p.label,s.appendChild(o),s.appendChild(a),r.appendChild(s)});const i=r.querySelectorAll("input");i.length&&i[0].focus()}},de=t=>{const e=[];return"undefined"!=typeof Map&&t instanceof Map?t.forEach((t,n)=>{let r=t;"object"==typeof r&&(r=de(r)),e.push([n,r])}):Object.keys(t).forEach(n=>{let r=t[n];"object"==typeof r&&(r=de(r)),e.push([n,r])}),e},fe=(t,e)=>e&&e.toString()===t.toString(),pe=(t,e,n)=>{const r=((t,e)=>{const n=t.getInput();if(!n)return null;switch(e.input){case"checkbox":return(t=>t.checked?1:0)(n);case"radio":return(t=>t.checked?t.value:null)(n);case"file":return(t=>t.files.length?null!==t.getAttribute("multiple")?t.files:t.files[0]:null)(n);default:return e.inputAutoTrim?n.value.trim():n.value}})(t,e);e.inputValidator?me(t,e,r,n):t.getInput().checkValidity()?"deny"===n?ge(t,e,r):ve(t,e,r):(t.enableButtons(),t.showValidationMessage(e.validationMessage))},me=(t,e,n,r)=>{t.disableInput(),Promise.resolve().then(()=>l(e.inputValidator(n,e.validationMessage))).then(i=>{t.enableButtons(),t.enableInput(),i?t.showValidationMessage(i):"deny"===r?ge(t,e,n):ve(t,e,n)})},ge=(t,e,n)=>{e.showLoaderOnDeny&&Et(A()),e.preDeny?Promise.resolve().then(()=>l(e.preDeny(n,e.validationMessage))).then(e=>{!1===e?t.hideLoading():t.closePopup({isDenied:!0,value:void 0===e?n:e})}):t.closePopup({isDenied:!0,value:n})},ye=(t,e)=>{t.closePopup({isConfirmed:!0,value:e})},ve=(t,e,n)=>{e.showLoaderOnConfirm&&Et(),e.preConfirm?(t.resetValidationMessage(),Promise.resolve().then(()=>l(e.preConfirm(n,e.validationMessage))).then(e=>{Y(x())||!1===e?t.hideLoading():ye(t,void 0===e?n:e)})):ye(t,n)},be=(t,e,n)=>{const r=D();if(r.length)return(e+=n)===r.length?e=0:-1===e&&(e=r.length-1),r[e].focus();b().focus()},we=["ArrowRight","ArrowDown"],_e=["ArrowLeft","ArrowUp"],Ce=(t,e,n)=>{if(!e.isComposing&&e.target&&t.getInput()&&e.target.outerHTML===t.getInput().outerHTML){if(["textarea","file"].includes(n.input))return;Tt(),e.preventDefault()}},Te=(t,e)=>{const n=t.target,r=D();let i=-1;for(let o=0;o<r.length;o++)if(n===r[o]){i=o;break}be(0,i,t.shiftKey?-1:1),t.stopPropagation(),t.preventDefault()},Ee=t=>{if(![S(),A(),k()].includes(document.activeElement))return;const e=we.includes(t)?"nextElementSibling":"previousElementSibling",n=document.activeElement[e];n&&n.focus()},xe=(e,n,r)=>{u(n.allowEscapeKey)&&(e.preventDefault(),r(t.esc))};let Se=!1;const Ae=(t,e)=>{const o=(t=>{const e="string"==typeof t.template?document.querySelector(t.template):t.template;if(!e)return{};const o=e.content;return(t=>{const e=oe.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);r(t.children).forEach(t=>{const n=t.tagName.toLowerCase();-1===e.indexOf(n)&&i("Unrecognized element <".concat(n,">"))})})(o),Object.assign((t=>{const e={};return r(t.querySelectorAll("swal-param")).forEach(t=>{se(t,["name","value"]);const n=t.getAttribute("name");let r=t.getAttribute("value");"boolean"==typeof Rt[n]&&"false"===r&&(r=!1),"object"==typeof Rt[n]&&(r=JSON.parse(r)),e[n]=r}),e})(o),(t=>{const e={};return r(t.querySelectorAll("swal-button")).forEach(t=>{se(t,["type","color","aria-label"]);const r=t.getAttribute("type");e["".concat(r,"ButtonText")]=t.innerHTML,e["show".concat(n(r),"Button")]=!0,t.hasAttribute("color")&&(e["".concat(r,"ButtonColor")]=t.getAttribute("color")),t.hasAttribute("aria-label")&&(e["".concat(r,"ButtonAriaLabel")]=t.getAttribute("aria-label"))}),e})(o),(t=>{const e={},n=t.querySelector("swal-image");return n&&(se(n,["src","width","height","alt"]),n.hasAttribute("src")&&(e.imageUrl=n.getAttribute("src")),n.hasAttribute("width")&&(e.imageWidth=n.getAttribute("width")),n.hasAttribute("height")&&(e.imageHeight=n.getAttribute("height")),n.hasAttribute("alt")&&(e.imageAlt=n.getAttribute("alt"))),e})(o),(t=>{const e={},n=t.querySelector("swal-icon");return n&&(se(n,["type","color"]),n.hasAttribute("type")&&(e.icon=n.getAttribute("type")),n.hasAttribute("color")&&(e.iconColor=n.getAttribute("color")),e.iconHtml=n.innerHTML),e})(o),(t=>{const e={},n=t.querySelector("swal-input");n&&(se(n,["type","label","placeholder","value"]),e.input=n.getAttribute("type")||"text",n.hasAttribute("label")&&(e.inputLabel=n.getAttribute("label")),n.hasAttribute("placeholder")&&(e.inputPlaceholder=n.getAttribute("placeholder")),n.hasAttribute("value")&&(e.inputValue=n.getAttribute("value")));const i=t.querySelectorAll("swal-input-option");return i.length&&(e.inputOptions={},r(i).forEach(t=>{se(t,["value"]);const n=t.getAttribute("value");e.inputOptions[n]=t.innerHTML})),e})(o),((t,e)=>{const n={};for(const r in e){const i=e[r],o=t.querySelector(i);o&&(se(o,[]),n[i.replace(/^swal-/,"")]=o.innerHTML.trim())}return n})(o,oe))})(t),s=Object.assign({},Rt,e,o,t);return s.showClass=Object.assign({},Rt.showClass,s.showClass),s.hideClass=Object.assign({},Rt.hideClass,s.hideClass),s},Ie=(e,n,i)=>new Promise(s=>{const d=t=>{e.closePopup({isDismissed:!0,dismiss:t})};Kt.swalPromiseResolve.set(e,s),n.confirmButton.onclick=()=>((t,e)=>{t.disableButtons(),e.input?pe(t,e,"confirm"):ve(t,e,!0)})(e,i),n.denyButton.onclick=()=>((t,e)=>{t.disableButtons(),e.returnInputValueOnDeny?pe(t,e,"deny"):ge(t,e,!1)})(e,i),n.cancelButton.onclick=()=>((e,n)=>{e.disableButtons(),n(t.cancel)})(e,d),n.closeButton.onclick=()=>d(t.close),((e,n,r)=>{lt.innerParams.get(e).toast?((e,n,r)=>{n.popup.onclick=()=>{const n=lt.innerParams.get(e);n.showConfirmButton||n.showDenyButton||n.showCancelButton||n.showCloseButton||n.timer||n.input||r(t.close)}})(e,n,r):((t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=void 0,e.target===t.container&&(Se=!0)}}})(n),(t=>{t.container.onmousedown=()=>{t.popup.onmouseup=function(e){t.popup.onmouseup=void 0,(e.target===t.popup||t.popup.contains(e.target))&&(Se=!0)}}})(n),((e,n,r)=>{n.container.onclick=i=>{const o=lt.innerParams.get(e);Se?Se=!1:i.target===n.container&&u(o.allowOutsideClick)&&r(t.backdrop)}})(e,n,r))})(e,n,d),((t,e,n,r)=>{e.keydownTarget&&e.keydownHandlerAdded&&(e.keydownTarget.removeEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!1),n.toast||(e.keydownHandler=e=>((t,e,n)=>{const r=lt.innerParams.get(t);r&&(r.stopKeydownPropagation&&e.stopPropagation(),"Enter"===e.key?Ce(t,e,r):"Tab"===e.key?Te(e,r):[...we,..._e].includes(e.key)?Ee(e.key):"Escape"===e.key&&xe(e,r,n))})(t,e,r),e.keydownTarget=n.keydownListenerCapture?window:b(),e.keydownListenerCapture=n.keydownListenerCapture,e.keydownTarget.addEventListener("keydown",e.keydownHandler,{capture:e.keydownListenerCapture}),e.keydownHandlerAdded=!0)})(e,St,i,d),((t,e)=>{"select"===e.input||"radio"===e.input?((t,e)=>{const n=b(),r=t=>he[e.input](n,de(t),e);c(e.inputOptions)||h(e.inputOptions)?(Et(S()),l(e.inputOptions).then(e=>{t.hideLoading(),r(e)})):"object"==typeof e.inputOptions?r(e.inputOptions):o("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof e.inputOptions))})(t,e):["text","email","number","tel","textarea"].includes(e.input)&&(c(e.inputValue)||h(e.inputValue))&&((t,e)=>{const n=t.getInput();W(n),l(e.inputValue).then(r=>{n.value="number"===e.input?parseFloat(r)||0:"".concat(r),$(n),n.focus(),t.hideLoading()}).catch(e=>{o("Error in inputValue promise: ".concat(e)),n.value="",$(n),n.focus(),t.hideLoading()})})(t,e)})(e,i),(t=>{const e=g(),n=b();a(t.willOpen,n);const i=window.getComputedStyle(document.body).overflowY;le(e,n,t),setTimeout(()=>{ue(e,n)},10),L()&&(ce(e,t.scrollbarPadding,i),r(document.body.children).forEach(t=>{t===g()||t.contains(g())||(t.hasAttribute("aria-hidden")&&t.setAttribute("data-previous-aria-hidden",t.getAttribute("aria-hidden")),t.setAttribute("aria-hidden","true"))})),U()||St.previousActiveElement||(St.previousActiveElement=document.activeElement),setTimeout(()=>a(t.didOpen,n)),H(e,p["no-transition"])})(i),ke(St,i,d),Oe(n,i),setTimeout(()=>{n.container.scrollTop=0})}),ke=(t,e,n)=>{const r=R();W(r),e.timer&&(t.timeout=new ne(()=>{n("timer"),delete t.timeout},e.timer),e.timerProgressBar&&($(r),setTimeout(()=>{t.timeout&&t.timeout.running&&et(e.timer)})))},Oe=(t,e)=>{if(!e.toast)return u(e.allowEnterKey)?void(Pe(t,e)||be(0,-1,1)):Re()},Pe=(t,e)=>e.focusDeny&&Y(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&Y(t.cancelButton)?(t.cancelButton.focus(),!0):!(!e.focusConfirm||!Y(t.confirmButton)||(t.confirmButton.focus(),0)),Re=()=>{document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},Ne=t=>{for(const e in t)t[e]=new WeakMap};var De=Object.freeze({hideLoading:Bt,disableLoading:Bt,getInput:function(t){const e=lt.innerParams.get(t||this),n=lt.domCache.get(t||this);return n?q(n.popup,e.input):null},close:Wt,closePopup:Wt,closeModal:Wt,closeToast:Wt,enableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){te(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ee(this.getInput(),!1)},disableInput:function(){return ee(this.getInput(),!0)},showValidationMessage:function(t){const e=lt.domCache.get(this),n=lt.innerParams.get(this);F(e.validationMessage,t),e.validationMessage.className=p["validation-message"],n.customClass&&n.customClass.validationMessage&&z(e.validationMessage,n.customClass.validationMessage),$(e.validationMessage);const r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",p["validation-message"]),B(r),z(r,p.inputerror))},resetValidationMessage:function(){const t=lt.domCache.get(this);t.validationMessage&&W(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedBy"),H(e,p.inputerror))},getProgressSteps:function(){return lt.domCache.get(this).progressSteps},_main:function(t,e={}){(t=>{for(const e in t)Ft(e),t.toast&&Vt(e),jt(e)})(Object.assign({},e,t)),St.currentInstance&&St.currentInstance._destroy(),St.currentInstance=this;const n=Ae(t,e);ie(n),Object.freeze(n),St.timeout&&(St.timeout.stop(),delete St.timeout),clearTimeout(St.restoreFocusTimeout);const r=(t=>{const e={popup:b(),container:g(),actions:O(),confirmButton:S(),denyButton:A(),cancelButton:k(),loader:I(),closeButton:N(),validationMessage:x(),progressSteps:E()};return lt.domCache.set(t,e),e})(this);return Ct(this,n),lt.innerParams.set(this,n),Ie(this,r,n)},update:function(t){const e=b(),n=lt.innerParams.get(this);if(!e||V(e,n.hideClass.popup))return i("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const r={};Object.keys(t).forEach(e=>{Me.isUpdatableParameter(e)?r[e]=t[e]:i('Invalid parameter to update: "'.concat(e,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js\n\nIf you think this parameter should be updatable, request it here: https://github.com/sweetalert2/sweetalert2/issues/new?template=02_feature_request.md'))});const o=Object.assign({},n,r);Ct(this,o),lt.innerParams.set(this,o),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})},_destroy:function(){const t=lt.domCache.get(this),e=lt.innerParams.get(this);e&&(t.popup&&St.swalCloseEventFinishedCallback&&(St.swalCloseEventFinishedCallback(),delete St.swalCloseEventFinishedCallback),St.deferDisposalTimer&&(clearTimeout(St.deferDisposalTimer),delete St.deferDisposalTimer),a(e.didDestroy),delete this.params,delete St.keydownHandler,delete St.keydownTarget,Ne(lt),Ne(Kt))}});let Le;class Ue{constructor(...t){if("undefined"==typeof window)return;Le=this;const e=Object.freeze(this.constructor.argsToParams(t));Object.defineProperties(this,{params:{value:e,writable:!1,enumerable:!0,configurable:!0}});const n=this._main(this.params);lt.promise.set(this,n)}then(t){return lt.promise.get(this).then(t)}finally(t){return lt.promise.get(this).finally(t)}}Object.assign(Ue.prototype,De),Object.assign(Ue,qt),Object.keys(De).forEach(t=>{Ue[t]=function(...e){if(Le)return Le[t](...e)}}),Ue.DismissReason=t,Ue.version="11.0.7";const Me=Ue;return Me.default=Me,Me}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch(t){n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.3125em;padding:0}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(100,150,200,.5)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end" "gap gap gap";grid-template-rows:auto auto auto .625em;height:100%;padding:.625em .625em 0;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container::after{content:"";grid-column:1/4;grid-row:4;height:.625em}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7367f0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(115,103,240,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#ea5455;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(234,84,85,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7d88;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,125,136,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;height:.25em;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 0}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 0;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},8920:(t,e,n)=>{"use strict";var r=n(7368);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=o().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(s))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let b=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(T(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,T(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(g),r.LFG(a))},t.normalizeQueryParams=m,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:C,token:t,providedIn:"root"}),t})();function C(){return new _((0,r.LFG)(g),(0,r.LFG)(a))}function T(t){return t.replace(/\/index.html$/,"")}var E=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const x=r.kL8;class S{}let A=(()=>{class t extends S{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case E.Zero:return"zero";case E.One:return"one";case E.Two:return"two";case E.Few:return"few";case E.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function I(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}class k{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let O=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(E_){throw new Error(`Cannot find a differ supporting object '${e}' of type '${t=e,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new k(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new P(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new P(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class P{constructor(t,e){this.record=t,this.view=e}}let R=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}let L=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:S,useClass:A}]}),t})();function U(t){return"browser"===t}function M(t){return"server"===t}let F=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new V((0,r.LFG)(s),window)}),t})();class V{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=j(this.window.history)||j(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(E_){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(E_){return!1}}}function j(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class q{}class B extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new B,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(z=z||document.querySelector("base"),z?z.getAttribute("href"):null);return null==e?null:function(t){G=G||document.createElement("a"),G.setAttribute("href",t);const e=G.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){z=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return I(document.cookie,t)}}let G,z=null;const H=new r.OlP("TRANSITION_ID"),Z=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[H,s,r.zs3],multi:!0}];class K{static init(){(0,r.VLi)(new K)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(o)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?o().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let $=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const W=new r.OlP("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(W),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class Q{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=o().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Y=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),X=(()=>{class t extends Y{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(tt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(tt))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function tt(t){o().remove(t)}const et={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},nt=/%COMP%/g;function rt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?rt(t,i,n):(i=i.replace(nt,t),n.push(i))}return n}function it(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ot=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new st(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new at(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new ut(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=rt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(J),r.LFG(X),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class st{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(et[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=et[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=et[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,it(n)):this.eventManager.addEventListener(t,e,it(n))}}class at extends st{constructor(t,e,n,r){super(t),this.component=n;const i=rt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(nt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(nt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ut extends st{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=rt(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const t=document.createElement("style");t.textContent=i[o],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ct=(()=>{class t extends Q{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const lt=["alt","control","meta","shift"],ht={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ft={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let pt=(()=>{class t extends Q{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),s=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(e,i.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(lt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&dt.hasOwnProperty(e)&&(e=dt[e]))}return ht[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),lt.forEach(r=>{r!=n&&(0,ft[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const mt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){B.makeCurrent(),K.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),gt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:W,useClass:ct,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:W,useClass:pt,multi:!0,deps:[s]},[],{provide:ot,useClass:ot,deps:[J,X,r.AFp]},{provide:r.FYo,useExisting:ot},{provide:Y,useExisting:X},{provide:X,useClass:X,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:J,useClass:J,deps:[W,r.R0b]},{provide:q,useClass:$,deps:[]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:H,useExisting:r.AFp},Z]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:gt,imports:[L,r.hGG]}),t})();function vt(){return new bt((0,r.LFG)(s))}let bt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s))},t.\u0275prov=(0,r.Yz7)({factory:vt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var wt=n(9764),_t=n(8318),Ct=n(8470),Tt=n(9996),Et=n(2056);function xt(t,e){return new _t.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const u=(0,wt.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,s++),i[a]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let St=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),At=(()=>{class t extends St{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const It=new r.OlP("NgValueAccessor"),kt={provide:It,useExisting:(0,r.Gpc)(()=>Pt),multi:!0},Ot=new r.OlP("CompositionEventMode");let Pt=(()=>{class t extends St{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=o()?o().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Ot,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([kt]),r.qOj]}),t})();const Rt=new r.OlP("NgValidators"),Nt=new r.OlP("NgAsyncValidators");function Dt(t){return null!=t}function Lt(t){const e=(0,r.QGY)(t)?(0,wt.D)(t):t;return(0,r.CqO)(e),e}function Ut(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Mt(t,e){return e.map(e=>e(t))}function Ft(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Vt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Dt);return 0==e.length?null:function(t){return Ut(Mt(t,e))}}(Ft(t)):null}function jt(t){return null!=t?function(t){if(!t)return null;const e=t.filter(Dt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,Ct.k)(e))return xt(e,null);if((0,Et.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return xt(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return xt(t=1===t.length&&(0,Ct.k)(t[0])?t[0]:t,null).pipe((0,Tt.U)(t=>e(...t)))}return xt(t,null)}(Mt(t,e).map(Lt)).pipe((0,Tt.U)(Ut))}}(Ft(t)):null}function qt(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Bt(t){return t._rawValidators}function Gt(t){return t._rawAsyncValidators}let zt=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Vt(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=jt(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),Ht=(()=>{class t extends zt{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class Zt extends zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Kt{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let $t=(()=>{class t extends Kt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Zt,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),Wt=(()=>{class t extends Kt{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ht,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})();function Jt(t,e){return[...e.path,t]}function Qt(t,e){te(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&ne(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&ne(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Yt(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ee(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Xt(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function te(t,e,n){const r=Bt(t);null!==e.validator?t.setValidators(qt(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Gt(t);if(null!==e.asyncValidator?t.setAsyncValidators(qt(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();Xt(e._rawValidators,n),Xt(e._rawAsyncValidators,n)}}function ee(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Bt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Gt(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};Xt(e._rawValidators,t),Xt(e._rawAsyncValidators,t)}return r}function ne(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function re(t,e){te(t,e,!1)}function ie(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}function oe(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function se(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===Pt?n=t:Object.getPrototypeOf(t.constructor)===At?r=t:i=t}),i||r||n||null}function ae(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ue="VALID",ce="INVALID",le="PENDING",he="DISABLED";function de(t){return(ge(t)?t.validators:t)||null}function fe(t){return Array.isArray(t)?Vt(t):t||null}function pe(t,e){return(ge(e)?e.asyncValidators:t)||null}function me(t){return Array.isArray(t)?jt(t):t||null}function ge(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ye{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=fe(this._rawValidators),this._composedAsyncValidatorFn=me(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ue}get invalid(){return this.status===ce}get pending(){return this.status==le}get disabled(){return this.status===he}get enabled(){return this.status!==he}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=fe(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=me(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=le,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=he,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ue,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ue&&this.status!==le||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?he:ue}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=le,this._hasOwnPendingAsyncValidator=!0;const e=Lt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof be?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof we&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?he:this.errors?ce:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(le)?le:this._anyControlsHaveStatus(ce)?ce:ue}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){ge(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ve extends ye{constructor(t=null,e,n){super(de(e),pe(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ae(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ae(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class be extends ye{constructor(t,e,n){super(de(e),pe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof ve?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class we extends ye{constructor(t,e,n){super(de(e),pe(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof ve?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const _e={provide:Ht,useExisting:(0,r.Gpc)(()=>Te)},Ce=(()=>Promise.resolve(null))();let Te=(()=>{class t extends Ht{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new be({},Vt(t),jt(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ce.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),Qt(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ce.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),ae(this._directives,t)})}addFormGroup(t){Ce.then(()=>{const e=this._findContainer(t.path),n=new be({});re(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ce.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ce.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,oe(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rt,10),r.Y36(Nt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([_e]),r.qOj]}),t})();const Ee={provide:Zt,useExisting:(0,r.Gpc)(()=>Se)},xe=(()=>Promise.resolve(null))();let Se=(()=>{class t extends Zt{constructor(t,e,n,i){super(),this.control=new ve,this._registered=!1,this.update=new r.vpe,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=se(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),ie(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Jt(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){xe.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;xe.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ht,9),r.Y36(Rt,10),r.Y36(Nt,10),r.Y36(It,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([Ee]),r.qOj,r.TTD]}),t})(),Ae=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})(),Ie=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const ke=new r.OlP("NgModelWithFormControlWarning"),Oe={provide:Ht,useExisting:(0,r.Gpc)(()=>Pe)};let Pe=(()=>{class t extends Ht{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ee(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return Qt(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){Yt(t.control||null,t,!1),ae(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,oe(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(Yt(e||null,t),n instanceof ve&&(Qt(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);re(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ee(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){te(this.form,this,!1),this._oldForm&&ee(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Rt,10),r.Y36(Nt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([Oe]),r.qOj,r.TTD]}),t})();const Re={provide:Zt,useExisting:(0,r.Gpc)(()=>Ne)};let Ne=(()=>{class t extends Zt{constructor(t,e,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=se(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),ie(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return Jt(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ht,13),r.Y36(Rt,10),r.Y36(Nt,10),r.Y36(It,10),r.Y36(ke,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Re]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})();const De={provide:Rt,useExisting:(0,r.Gpc)(()=>Le),multi:!0};let Le=(()=>{class t{constructor(){this._required=!1}get required(){return this._required}set required(t){this._required=null!=t&&!1!==t&&"false"!=`${t}`,this._onChange&&this._onChange()}validate(t){return this.required?function(t){return null==(e=t.value)||0===e.length?{required:!0}:null;var e}(t):null}registerOnValidatorChange(t){this._onChange=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,e){2&t&&r.uIk("required",e.required?"":null)},inputs:{required:"required"},features:[r._Bn([De])]}),t})(),Ue=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Ie]]}),t})(),Me=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ue]}),t})(),Fe=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:ke,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[Ue]}),t})(),Ve=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,o=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,o=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,o=null!=e.asyncValidator?e.asyncValidator:null)),new be(n,{asyncValidators:o,updateOn:r,validators:i})}control(t,e,n){return new ve(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new we(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof ve||t instanceof be||t instanceof we?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:Fe}),t})();var je=n(878),qe=n(3982);function Be(t,e){return(0,qe.zg)(t,e,1)}var Ge=n(6673);function ze(t,e){return function(n){return n.lift(new He(t,e))}}class He{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Ze(t,this.predicate,this.thisArg))}}class Ze extends Ge.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}class Ke{}class $e{}class We{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(t=>{const e=t.indexOf(":");if(e>0){const n=t.slice(0,e),r=n.toLowerCase(),i=t.slice(e+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let n=t[e];const r=e.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof We?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new We;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof We?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const i=t.value;if(i){let t=this.headers.get(e);if(!t)return;t=t.filter(t=>-1===i.indexOf(t)),0===t.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,t)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Je{encodeKey(t){return Qe(t)}encodeValue(t){return Qe(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}function Qe(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function Ye(t){return`${t}`}class Xe{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Je,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(t=>{const r=t.indexOf("="),[i,o]=-1==r?[e.decodeKey(t),""]:[e.decodeKey(t.slice(0,r)),e.decodeValue(t.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const n=t.fromObject[e];this.map.set(e,Array.isArray(n)?n:[n])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(n=>{const r=t[n];Array.isArray(r)?r.forEach(t=>{e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(t=>e+"="+this.encoder.encodeValue(t)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Xe({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(Ye(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let e=this.map.get(t.param)||[];const n=e.indexOf(Ye(t.value));-1!==n&&e.splice(n,1),e.length>0?this.map.set(t.param,e):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class tn{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function en(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function nn(t){return"undefined"!=typeof Blob&&t instanceof Blob}function rn(t){return"undefined"!=typeof FormData&&t instanceof FormData}class on{constructor(t,e,n,r){let i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new We),this.context||(this.context=new tn),this.params){const t=this.params.toString();if(0===t.length)this.urlWithParams=e;else{const n=e.indexOf("?");this.urlWithParams=e+(-1===n?"?":n<e.length-1?"&":"")+t}}else this.params=new Xe,this.urlWithParams=e}serializeBody(){return null===this.body?null:en(this.body)||nn(this.body)||rn(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xe?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rn(this.body)?null:nn(this.body)?this.body.type||null:en(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xe?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,s=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,a=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let u=t.headers||this.headers,c=t.params||this.params;const l=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(u=Object.keys(t.setHeaders).reduce((e,n)=>e.set(n,t.setHeaders[n]),u)),t.setParams&&(c=Object.keys(t.setParams).reduce((e,n)=>e.set(n,t.setParams[n]),c)),new on(n,r,o,{params:c,headers:u,context:l,reportProgress:a,responseType:i,withCredentials:s})}}var sn=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({});class an{constructor(t,e=200,n="OK"){this.headers=t.headers||new We,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class un extends an{constructor(t={}){super(t),this.type=sn.ResponseHeader}clone(t={}){return new un({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class cn extends an{constructor(t={}){super(t),this.type=sn.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new cn({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class ln extends an{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function hn(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let dn=(()=>{class t{constructor(t){this.handler=t}request(t,e,n={}){let r;if(t instanceof on)r=t;else{let i,o;i=n.headers instanceof We?n.headers:new We(n.headers),n.params&&(o=n.params instanceof Xe?n.params:new Xe({fromObject:n.params})),r=new on(t,e,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,je.of)(r).pipe(Be(t=>this.handler.handle(t)));if(t instanceof on||"events"===n.observe)return i;const o=i.pipe(ze(t=>t instanceof cn));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Tt.U)(t=>{if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return o.pipe((0,Tt.U)(t=>{if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return o.pipe((0,Tt.U)(t=>{if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return o.pipe((0,Tt.U)(t=>t.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(t,e={}){return this.request("DELETE",t,e)}get(t,e={}){return this.request("GET",t,e)}head(t,e={}){return this.request("HEAD",t,e)}jsonp(t,e){return this.request("JSONP",t,{params:(new Xe).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,e={}){return this.request("OPTIONS",t,e)}patch(t,e,n={}){return this.request("PATCH",t,hn(n,e))}post(t,e,n={}){return this.request("POST",t,hn(n,e))}put(t,e,n={}){return this.request("PUT",t,hn(n,e))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Ke))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class fn{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const pn=new r.OlP("HTTP_INTERCEPTORS");let mn=(()=>{class t{intercept(t,e){return e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const gn=/^\)\]\}',?\n/;let yn=(()=>{class t{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new _t.y(e=>{const n=this.xhrFactory.build();if(n.open(t.method,t.urlWithParams),t.withCredentials&&(n.withCredentials=!0),t.headers.forEach((t,e)=>n.setRequestHeader(t,e.join(","))),t.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const e=t.detectContentTypeHeader();null!==e&&n.setRequestHeader("Content-Type",e)}if(t.responseType){const e=t.responseType.toLowerCase();n.responseType="json"!==e?e:"text"}const r=t.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const e=1223===n.status?204:n.status,r=n.statusText||"OK",o=new We(n.getAllResponseHeaders()),s=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(n)||t.url;return i=new un({headers:o,status:e,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),u=null;204!==i&&(u=void 0===n.response?n.responseText:n.response),0===i&&(i=u?200:0);let c=i>=200&&i<300;if("json"===t.responseType&&"string"==typeof u){const t=u;u=u.replace(gn,"");try{u=""!==u?JSON.parse(u):null}catch(l){u=t,c&&(c=!1,u={error:l,text:u})}}c?(e.next(new cn({body:u,headers:r,status:i,statusText:s,url:a||void 0})),e.complete()):e.error(new ln({error:u,headers:r,status:i,statusText:s,url:a||void 0}))},a=t=>{const{url:r}=o(),i=new ln({error:t,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});e.error(i)};let u=!1;const c=r=>{u||(e.next(o()),u=!0);let i={type:sn.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===t.responseType&&n.responseText&&(i.partialText=n.responseText),e.next(i)},l=t=>{let n={type:sn.UploadProgress,loaded:t.loaded};t.lengthComputable&&(n.total=t.total),e.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),t.reportProgress&&(n.addEventListener("progress",c),null!==r&&n.upload&&n.upload.addEventListener("progress",l)),n.send(r),e.next({type:sn.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),t.reportProgress&&(n.removeEventListener("progress",c),null!==r&&n.upload&&n.upload.removeEventListener("progress",l)),n.readyState!==n.DONE&&n.abort()}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(q))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const vn=new r.OlP("XSRF_COOKIE_NAME"),bn=new r.OlP("XSRF_HEADER_NAME");class wn{}let _n=(()=>{class t{constructor(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=I(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(s),r.LFG(r.Lbi),r.LFG(vn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Cn=(()=>{class t{constructor(t,e){this.tokenService=t,this.headerName=e}intercept(t,e){const n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);const r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(wn),r.LFG(bn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Tn=(()=>{class t{constructor(t,e){this.backend=t,this.injector=e,this.chain=null}handle(t){if(null===this.chain){const t=this.injector.get(pn,[]);this.chain=t.reduceRight((t,e)=>new fn(t,e),this.backend)}return this.chain.handle(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG($e),r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),En=(()=>{class t{static disable(){return{ngModule:t,providers:[{provide:Cn,useClass:mn}]}}static withOptions(e={}){return{ngModule:t,providers:[e.cookieName?{provide:vn,useValue:e.cookieName}:[],e.headerName?{provide:bn,useValue:e.headerName}:[]]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[Cn,{provide:pn,useExisting:Cn,multi:!0},{provide:wn,useClass:_n},{provide:vn,useValue:"XSRF-TOKEN"},{provide:bn,useValue:"X-XSRF-TOKEN"}]}),t})(),xn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[dn,{provide:Ke,useClass:Tn},yn,{provide:$e,useExisting:yn}],imports:[[En.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t})();var Sn=n(5959),An=n(3895);class In extends Sn.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new An.N;return this._value}next(t){super.next(this._value=t)}}var kn=n(6163);class On extends Ge.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Pn extends Ge.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Rn=n(6015);function Nn(t,e,n,r,i=new Pn(t,n,r)){if(!i.closed)return e instanceof _t.y?e.subscribe(i):(0,Rn.s)(e)(i)}var Dn=n(9342);const Ln={};class Un{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Mn(t,this.resultSelector))}}class Mn extends On{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Ln),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Nn(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Ln?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Fn=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Vn=n(7471);function jn(...t){return(0,Vn.J)(1)((0,je.of)(...t))}var qn=n(653);function Bn(t){return new _t.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,wt.D)(n):(0,qn.c)()).subscribe(e)})}var Gn=n(2875),zn=n(6882);function Hn(t,e){return"function"==typeof e?n=>n.pipe(Hn((n,r)=>(0,wt.D)(t(n,r)).pipe((0,Tt.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Zn(t))}class Zn{constructor(t){this.project=t}call(t,e){return e.subscribe(new Kn(t,this.project))}}class Kn extends zn.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new zn.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,zn.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const $n=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Wn(t){return e=>0===t?(0,qn.c)():e.lift(new Jn(t))}class Jn{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new Qn(t,this.total))}}class Qn extends Ge.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function Yn(...t){const e=t[t.length-1];return(0,kn.K)(e)?(t.pop(),n=>jn(t,n,e)):e=>jn(t,e)}function Xn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new tr(t,e,n))}}class tr{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new er(t,this.accumulator,this.seed,this.hasSeed))}}class er extends Ge.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function nr(t){return function(e){const n=new rr(t),r=e.lift(n);return n.caught=r}}class rr{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ir(t,this.selector,this.caught))}}class ir extends zn.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new zn.IY(this);this.add(r);const i=(0,zn.ft)(n,r);i!==r&&this.add(i)}}}function or(t){return function(e){return 0===t?(0,qn.c)():e.lift(new sr(t))}}class sr{constructor(t){if(this.total=t,this.total<0)throw new $n}call(t,e){return e.subscribe(new ar(t,this.total))}}class ar extends Ge.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function ur(t=hr){return e=>e.lift(new cr(t))}class cr{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new lr(t,this.errorFactory))}}class lr extends Ge.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(MC){t=MC}this.destination.error(t)}}}function hr(){return new Fn}function dr(t=null){return e=>e.lift(new fr(t))}class fr{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new pr(t,this.defaultValue))}}class pr extends Ge.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var mr=n(3392);function gr(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):mr.y,Wn(1),n?dr(e):ur(()=>new Fn))}var yr=n(6599),vr=n(1564),br=n(7570);class wr{constructor(t){this.callback=t}call(t,e){return e.subscribe(new _r(t,this.callback))}}class _r extends Ge.L{constructor(t,e){super(t),this.add(new br.w(e))}}class Cr{constructor(t,e){this.id=t,this.url=e}}class Tr extends Cr{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends Cr{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xr extends Cr{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Sr extends Cr{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ar extends Cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends Cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kr extends Cr{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Or extends Cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pr extends Cr{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Nr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Dr{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lr{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ur{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mr{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Vr="primary";class jr{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function qr(t){return new jr(t)}function Br(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Gr(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Hr(t[i],e[i]))return!1;return!0}function Hr(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Zr(t){return Array.prototype.concat.apply([],t)}function Kr(t){return t.length>0?t[t.length-1]:null}function $r(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Wr(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,wt.D)(Promise.resolve(t)):(0,je.of)(t)}const Jr={exact:function t(e,n,r){if(!oi(e.segments,n.segments))return!1;if(!ei(e.segments,n.segments,r))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!e.children[i])return!1;if(!t(e.children[i],n.children[i],r))return!1}return!0},subset:Xr},Qr={exact:function(t,e){return zr(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Hr(t[n],e[n]))},ignored:()=>!0};function Yr(t,e,n){return Jr[n.paths](t.root,e.root,n.matrixParams)&&Qr[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function Xr(t,e,n){return ti(t,e,e.segments,n)}function ti(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!!oi(i,n)&&!e.hasChildren()&&!!ei(i,n,r)}if(t.segments.length===n.length){if(!oi(t.segments,n))return!1;if(!ei(t.segments,n,r))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!Xr(t.children[n],e.children[n],r))return!1}return!0}{const i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!!oi(t.segments,i)&&!!ei(t.segments,i,r)&&!!t.children.primary&&ti(t.children.primary,e,o,r)}}function ei(t,e,n){return e.every((e,r)=>Qr[n](t[r].parameters,e.parameters))}class ni{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qr(this.queryParams)),this._queryParamMap}toString(){return ui.serialize(this)}}class ri{constructor(t,e){this.segments=t,this.children=e,this.parent=null,$r(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ci(this)}}class ii{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=qr(this.parameters)),this._parameterMap}toString(){return gi(this)}}function oi(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class si{}class ai{parse(t){const e=new _i(t);return new ni(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${li(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${di(e)}=${di(t)}`).join("&"):`${di(e)}=${di(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const ui=new ai;function ci(t){return t.segments.map(t=>gi(t)).join("/")}function li(t,e){if(!t.hasChildren())return ci(t);if(e){const e=t.children.primary?li(t.children.primary,!1):"",n=[];return $r(t.children,(t,e)=>{e!==Vr&&n.push(`${e}:${li(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return $r(t.children,(t,r)=>{r===Vr&&(n=n.concat(e(t,r)))}),$r(t.children,(t,r)=>{r!==Vr&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Vr?[li(t.children.primary,!1)]:[`${n}:${li(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${ci(t)}/${e[0]}`:`${ci(t)}/(${e.join("//")})`}}function hi(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function di(t){return hi(t).replace(/%3B/gi,";")}function fi(t){return hi(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pi(t){return decodeURIComponent(t)}function mi(t){return pi(t.replace(/\+/g,"%20"))}function gi(t){return`${fi(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fi(t)}=${fi(e[t])}`).join("")}`;var e}const yi=/^[^\/()?;=#]+/;function vi(t){const e=t.match(yi);return e?e[0]:""}const bi=/^[^=?&#]+/,wi=/^[^?&#]+/;class _i{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ri([],{}):new ri([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new ri(t,e)),n}parseSegment(){const t=vi(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new ii(pi(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vi(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vi(this.remaining);t&&(n=t,this.capture(n))}t[pi(e)]=pi(n)}parseQueryParam(t){const e=function(t){const e=t.match(bi);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(wi);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=mi(e),i=mi(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vi(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Vr);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new ri([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Ci{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Ti(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Ti(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Ei(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return Ei(t,this._root).map(t=>t.value)}}function Ti(t,e){if(t===e.value)return e;for(const n of e.children){const e=Ti(t,n);if(e)return e}return null}function Ei(t,e){if(t===e.value)return[e];for(const n of e.children){const r=Ei(t,n);if(r.length)return r.unshift(e),r}return[]}class xi{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Si(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Ai extends Ci{constructor(t,e){super(t),this.snapshot=e,Ni(this,t)}toString(){return this.snapshot.toString()}}function Ii(t,e){const n=function(t,e){const n=new Pi([],{},{},"",{},Vr,e,null,t.root,-1,{});return new Ri("",new xi(n,[]))}(t,e),r=new In([new ii("",{})]),i=new In({}),o=new In({}),s=new In({}),a=new In(""),u=new ki(r,i,s,a,o,Vr,e,n.root);return u.snapshot=n.root,new Ai(new xi(u,[]),n)}class ki{constructor(t,e,n,r,i,o,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(t=>qr(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(t=>qr(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Oi(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Pi{constructor(t,e,n,r,i,o,s,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=qr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=qr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ri extends Ci{constructor(t,e){super(e),this.url=t,Ni(this,e)}toString(){return Di(this._root)}}function Ni(t,e){e.value._routerState=t,e.children.forEach(e=>Ni(t,e))}function Di(t){const e=t.children.length>0?` { ${t.children.map(Di).join(", ")} } `:"";return`${t.value}${e}`}function Li(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zr(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),zr(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),zr(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Ui(t,e){return zr(t.params,e.params)&&function(t,e){return oi(t,e)&&t.every((t,n)=>zr(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Ui(t.parent,e.parent))}function Mi(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Mi(t,e,r);return Mi(t,e)})}(t,e,n);return new xi(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return Fi(e,t),t}}const n=new ki(new In((r=e.value).url),new In(r.params),new In(r.queryParams),new In(r.fragment),new In(r.data),r.outlet,r.component,r),i=e.children.map(e=>Mi(t,e));return new xi(n,i)}var r}function Fi(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)Fi(t.children[n],e.children[n])}function Vi(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function ji(t){return"object"==typeof t&&null!=t&&t.outlets}function qi(t,e,n,r,i){let o={};return r&&$r(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new ni(n.root===t?e:Bi(n.root,t,e),o,i)}function Bi(t,e,n){const r={};return $r(t.children,(t,i)=>{r[i]=t===e?n:Bi(t,e,n)}),new ri(t.segments,r)}class Gi{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vi(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(ji);if(r&&r!==Kr(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class zi{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Hi(t,e,n){if(t||(t=new ri([],{})),0===t.segments.length&&t.hasChildren())return Zi(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(ji(s))break;const a=`${s}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!Ji(a,u,e))return o;r+=2}else{if(!Ji(a,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new ri(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new ri(t.segments.slice(r.pathIndex),t.children),Zi(e,0,i)}return r.match&&0===i.length?new ri(t.segments,{}):r.match&&!t.hasChildren()?Ki(t,e,n):r.match?Zi(t,0,i):Ki(t,e,n)}function Zi(t,e,n){if(0===n.length)return new ri(t.segments,{});{const r=function(t){return ji(t[0])?t[0].outlets:{[Vr]:t}}(n),i={};return $r(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Hi(t.children[r],e,n))}),$r(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new ri(t.segments,i)}}function Ki(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(ji(o)){const t=$i(o.outlets);return new ri(r,t)}if(0===i&&Vi(n[0])){r.push(new ii(t.segments[e].path,Wi(n[0]))),i++;continue}const s=ji(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Vi(a)?(r.push(new ii(s,Wi(a))),i+=2):(r.push(new ii(s,{})),i++)}return new ri(r,{})}function $i(t){const e={};return $r(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Ki(new ri([],{}),0,t))}),e}function Wi(t){const e={};return $r(t,(t,n)=>e[n]=`${t}`),e}function Ji(t,e,n){return t==n.path&&zr(e,n.parameters)}class Qi{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Li(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Si(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),$r(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Si(t);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Si(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Mr(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Lr(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Li(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Yi(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Yi(t){Li(t.value),t.children.forEach(Yi)}class Xi{constructor(t,e){this.routes=t,this.module=e}}function to(t){return"function"==typeof t}function eo(t){return t instanceof ni}const no=Symbol("INITIAL_VALUE");function ro(){return Hn(t=>function(...t){let e,n;return(0,kn.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Ct.k)(t[0])&&(t=t[0]),(0,Dn.n)(t,n).lift(new Un(e))}(t.map(t=>t.pipe(Wn(1),Yn(no)))).pipe(Xn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==no)return t;if(r===no&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||eo(r))return r}return t},t)},no),ze(t=>t!==no),(0,Tt.U)(t=>eo(t)?t:!0===t),Wn(1)))}let io=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[es]},encapsulation:2}),t})();function oo(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];so(r,ao(e,r))}}function so(t,e){t.children&&oo(t.children,e)}function ao(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function uo(t){const e=t.children&&t.children.map(uo),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Vr&&(n.component=io),n}function co(t){return t.outlet||Vr}function lo(t,e){const n=t.filter(t=>co(t)===e);return n.push(...t.filter(t=>co(t)!==e)),n}const ho={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function fo(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},ho):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Gr)(n,t,e);if(!i)return Object.assign({},ho);const o={};$r(i.posParams,(t,e)=>{o[e]=t.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function po(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>mo(t,e,n)&&co(n)!==Vr)}(t,n,r)){const i=new ri(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&co(o)!==Vr){const n=new ri([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[co(o)]=n}return i}(t,e,r,new ri(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>mo(t,e,n))}(t,n,r)){const o=new ri(t.segments,function(t,e,n,r,i,o){const s={};for(const a of r)if(mo(t,n,a)&&!i[co(a)]){const n=new ri([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[co(a)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new ri(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function mo(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function go(t,e,n,r){return!!(co(t)===r||r!==Vr&&mo(e,n,t))&&("**"===t.path||fo(e,t,n).matched)}function yo(t,e,n){return 0===e.length&&!t.children[n]}class vo{constructor(t){this.segmentGroup=t||null}}class bo{constructor(t){this.urlTree=t}}function wo(t){return new _t.y(e=>e.error(new vo(t)))}function _o(t){return new _t.y(e=>e.error(new bo(t)))}function Co(t){return new _t.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class To{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=po(this.urlTree.root,[],[],this.config).segmentGroup,e=new ri(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Vr).pipe((0,Tt.U)(t=>this.createUrlTree(Eo(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nr(t=>{if(t instanceof bo)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof vo)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Vr).pipe((0,Tt.U)(e=>this.createUrlTree(Eo(e),t.queryParams,t.fragment))).pipe(nr(t=>{if(t instanceof vo)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new ri([],{[Vr]:t}):t;return new ni(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Tt.U)(t=>new ri([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,wt.D)(r).pipe(Be(r=>{const i=n.children[r],o=lo(e,r);return this.expandSegmentGroup(t,o,i,r).pipe((0,Tt.U)(t=>({segment:t,outlet:r})))}),Xn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ze((e,n)=>t(e,n,r)):mr.y,or(1),n?dr(e):ur(()=>new Fn))}())}expandSegment(t,e,n,r,i,o){return(0,wt.D)(n).pipe(Be(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(nr(t=>{if(t instanceof vo)return(0,je.of)(null);throw t}))),gr(t=>!!t),nr((t,n)=>{if(t instanceof Fn||"EmptyError"===t.name){if(yo(e,r,i))return(0,je.of)(new ri([],{}));throw new vo(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return go(r,e,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):wo(e):wo(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?_o(i):this.lineralizeSegments(n,i).pipe((0,qe.zg)(n=>{const i=new ri(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:u,positionalParamSegments:c}=fo(e,r,i);if(!s)return wo(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?_o(l):this.lineralizeSegments(r,l).pipe((0,qe.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,je.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Tt.U)(t=>(n._loadedConfig=t,new ri(r,{})))):(0,je.of)(new ri(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=fo(e,n,r);if(!o)return wo(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,qe.zg)(t=>{const r=t.module,o=t.routes,{segmentGroup:a,slicedSegments:c}=po(e,s,u,o),l=new ri(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,o,l).pipe((0,Tt.U)(t=>new ri(s,t)));if(0===o.length&&0===c.length)return(0,je.of)(new ri(s,{}));const h=co(n)===i;return this.expandSegment(r,l,o,c,h?Vr:i,!0).pipe((0,Tt.U)(t=>new ri(s.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,je.of)(new Xi(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,je.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,qe.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Tt.U)(t=>(e._loadedConfig=t,t))):function(t){return new _t.y(e=>e.error(Br(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,je.of)(new Xi([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,je.of)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&to(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!to(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Wr(o)});return(0,je.of)(i).pipe(ro(),(0,yr.b)(t=>{if(!eo(t))return;const e=Br(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Tt.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,je.of)(n);if(r.numberOfChildren>1||!r.children.primary)return Co(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new ni(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return $r(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return $r(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new ri(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function Eo(t){const e={};for(const n of Object.keys(t.children)){const r=Eo(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new ri(t.segments.concat(e.segments),e.children)}return t}(new ri(t.segments,e))}class xo{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class So{constructor(t,e){this.component=t,this.route=e}}function Ao(t,e,n){const r=t._root;return ko(r,e?e._root:null,n,[r.value])}function Io(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function ko(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Si(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!oi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!oi(t.url,e.url)||!zr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ui(t,e)||!zr(t.queryParams,e.queryParams);case"paramsChange":default:return!Ui(t,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xo(r)):(o.data=s.data,o._resolvedData=s._resolvedData),ko(t,e,o.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new So(a.outlet.component,s))}else s&&Oo(e,a,i),i.canActivateChecks.push(new xo(r)),ko(t,null,o.component?a?a.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]}),$r(o,(t,e)=>Oo(t,n.getContext(e),i)),i}function Oo(t,e,n){const r=Si(t),i=t.value;$r(r,(t,r)=>{Oo(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new So(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Po{}function Ro(t){return new _t.y(e=>e.error(t))}class No{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const t=po(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Vr);if(null===e)return null;const n=new Pi([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Vr,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new xi(n,e),i=new Ri(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Oi(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],o=lo(t,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=Lo(n);return r.sort((t,e)=>t.value.outlet===Vr?-1:e.value.outlet===Vr?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return yo(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!go(t,e,n,r))return null;let i,o=[],s=[];if("**"===t.path){const r=n.length>0?Kr(n).parameters:{};i=new Pi(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(t),co(t),t.component,t,Uo(e),Mo(e)+n.length,Vo(t))}else{const r=fo(e,t,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new Pi(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Fo(t),co(t),t.component,t,Uo(e),Mo(e)+o.length,Vo(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=po(e,o,s,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new xi(i,t)]}if(0===a.length&&0===c.length)return[new xi(i,[])];const l=co(t)===r,h=this.processSegment(a,u,c,l?Vr:r);return null===h?null:[new xi(i,h)]}}function Do(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lo(t){const e=[],n=new Set;for(const r of t){if(!Do(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=Lo(r.children);e.push(new xi(r.value,t))}return e.filter(t=>!n.has(t))}function Uo(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Mo(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Fo(t){return t.data||{}}function Vo(t){return t.resolve||{}}function jo(t){return Hn(e=>{const n=t(e);return n?(0,wt.D)(n).pipe((0,Tt.U)(()=>e)):(0,je.of)(e)})}class qo extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Bo=new r.OlP("ROUTES");class Go{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Tt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new Xi(Zr(i.injector.get(Bo,void 0,r.XFs.Self|r.XFs.Optional)).map(uo),i)}),nr(t=>{throw e._loader$=void 0,t}));return e._loader$=new Gn.c(n,()=>new Sn.xQ).pipe((0,vr.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,wt.D)(this.loader.load(t)):Wr(t()).pipe((0,qe.zg)(t=>t instanceof r.YKP?(0,je.of)(t):(0,wt.D)(this.compiler.compileModuleAsync(t))))}}class zo{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ho,this.attachRef=null}}class Ho{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new zo,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Zo{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Ko(t){throw t}function $o(t,e,n){return e.parse("/")}function Wo(t,e){return(0,je.of)(null)}const Jo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Qo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Yo=(()=>{class t{constructor(t,e,n,i,o,s,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new Sn.xQ,this.errorHandler=Ko,this.malformedUriErrorHandler=$o,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Wo,afterPreactivation:Wo},this.urlHandlingStrategy=new Zo,this.routeReuseStrategy=new qo,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const c=o.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new ni(new ri([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Go(s,a,t=>this.triggerEvent(new Rr(t)),t=>this.triggerEvent(new Nr(t))),this.routerState=Ii(this.currentUrlTree,this.rootComponentType),this.transitions=new In({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ze(t=>0!==t.id),(0,Tt.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Hn(t=>{let n=!1,r=!1;return(0,je.of)(t).pipe((0,yr.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Hn(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return(0,je.of)(t).pipe(Hn(t=>{const n=this.transitions.getValue();return e.next(new Tr(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?qn.E:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Hn(t=>function(t,e,n,r,i){return new To(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe((0,Tt.U)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),(0,yr.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return(0,qe.zg)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){try{const s=new No(t,e,n,r,i,o).recognize();return null===s?Ro(new Po):(0,je.of)(s)}catch(MC){return Ro(MC)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Tt.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,yr.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new Ar(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,a=new Tr(n,this.serializeUrl(r),i,o);e.next(a);const u=Ii(r,this.rootComponentType).snapshot;return(0,je.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),qn.E}),jo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,yr.b)(t=>{const e=new Ir(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Tt.U)(t=>Object.assign(Object.assign({},t),{guards:Ao(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,qe.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,je.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,wt.D)(t).pipe((0,qe.zg)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,je.of)(!0);const s=o.map(o=>{const s=Io(o,e,i);let a;if(function(t){return t&&to(t.canDeactivate)}(s))a=Wr(s.canDeactivate(t,e,n,r));else{if(!to(s))throw new Error("Invalid CanDeactivate guard");a=Wr(s(t,e,n,r))}return a.pipe(gr())});return(0,je.of)(s).pipe(ro())}(t.component,t.route,n,e,r)),gr(t=>!0!==t,!0))}(s,r,i,t).pipe((0,qe.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,wt.D)(e).pipe(Be(e=>jn(function(t,e){return null!==t&&e&&e(new Dr(t)),(0,je.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new Ur(t)),(0,je.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Bn(()=>{const i=e.guards.map(i=>{const o=Io(i,e.node,n);let s;if(function(t){return t&&to(t.canActivateChild)}(o))s=Wr(o.canActivateChild(r,t));else{if(!to(o))throw new Error("Invalid CanActivateChild guard");s=Wr(o(r,t))}return s.pipe(gr())});return(0,je.of)(i).pipe(ro())}));return(0,je.of)(i).pipe(ro())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,je.of)(!0);const i=r.map(r=>Bn(()=>{const i=Io(r,e,n);let o;if(function(t){return t&&to(t.canActivate)}(i))o=Wr(i.canActivate(e,t));else{if(!to(i))throw new Error("Invalid CanActivate guard");o=Wr(i(e,t))}return o.pipe(gr())}));return(0,je.of)(i).pipe(ro())}(t,e.route,n))),gr(t=>!0!==t,!0))}(r,o,t,e):(0,je.of)(n)),(0,Tt.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,yr.b)(t=>{if(eo(t.guardsResult)){const e=Br(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new kr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ze(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xr(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),jo(t=>{if(t.guards.canActivateChecks.length)return(0,je.of)(t).pipe((0,yr.b)(t=>{const e=new Or(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Hn(t=>{let n=!1;return(0,je.of)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,(0,qe.zg)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return(0,je.of)(t);let o=0;return(0,wt.D)(n).pipe(Be(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,je.of)({});const o={};return(0,wt.D)(i).pipe((0,qe.zg)(i=>function(t,e,n,r){const i=Io(t,e,r);return Wr(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,yr.b)(t=>{o[i]=t}))),or(1),(0,qe.zg)(()=>Object.keys(o).length===i.length?(0,je.of)(o):qn.E))}(t._resolve,t,e,r).pipe((0,Tt.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Oi(t,n).resolve),null)))}(t.route,e,r,i)),(0,yr.b)(()=>o++),or(1),(0,qe.zg)(e=>o===n.length?(0,je.of)(t):qn.E))})),(0,yr.b)({next:()=>n=!0,complete:()=>{if(!n){const n=new xr(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),(0,yr.b)(t=>{const e=new Pr(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),jo(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Tt.U)(t=>{const e=function(t,e,n){const r=Mi(t,e._root,n?n._root:void 0);return new Ai(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,yr.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,a=t=>this.triggerEvent(t),(0,Tt.U)(t=>(new Qi(s,t.targetRouterState,t.currentRouterState,a).activate(o),t))),(0,yr.b)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xr(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new wr(i))),nr(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=eo(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xr(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Sr(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(lp){t.reject(lp)}}var i;return qn.E}));var i,o,s,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){oo(t),this.config=t.map(uo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=e,a=n||this.routerState.root,u=s?this.currentUrlTree.fragment:i;let c=null;switch(o){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return qi(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Gi(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return $r(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Gi(n,e,r)}(n);if(o.toRoot())return qi(e.root,new ri([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new zi(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new zi(t,t===e.root,0)}const r=Vi(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new zi(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),a=s.processChildren?Zi(s.segmentGroup,s.index,o.commands):Hi(s.segmentGroup,s.index,o.commands);return qi(s.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=eo(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(MC){e=this.malformedUriErrorHandler(MC,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},Jo):!1===e?Object.assign({},Qo):e,eo(t))return Yr(this.currentUrlTree,t,n);const r=this.parseUrl(t);return Yr(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Er(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){if(this.disposed)return Promise.resolve(!1);const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),a=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(si),r.LFG(Ho),r.LFG(_),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),Xo=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Sn.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ts(this.skipLocationChange),replaceUrl:ts(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ts(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Yo),r.Y36(ki),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function ts(t){return""===t||!!t}let es=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||Vr,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new ns(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ho),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class ns{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===ki?this.route:t===Ho?this.childContexts:this.parent.get(t,e)}}class rs{}class is{preload(t,e){return(0,je.of)(null)}}let os=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Go(e,n,e=>t.triggerEvent(new Rr(e)),e=>t.triggerEvent(new Nr(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ze(t=>t instanceof Er),Be(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,wt.D)(n).pipe((0,Vn.J)(),(0,Tt.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,je.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,qe.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Yo),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(rs))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),ss=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Tr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Er&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Fr&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Fr(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Yo),r.LFG(F),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const as=new r.OlP("ROUTER_CONFIGURATION"),us=new r.OlP("ROUTER_FORROOT_GUARD"),cs=[_,{provide:si,useClass:ai},{provide:Yo,useFactory:function(t,e,n,r,i,o,s,a={},u,c){const l=new Yo(null,t,e,n,r,i,o,Zr(s));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[si,Ho,_,r.zs3,r.v3s,r.Sil,Bo,as,[class{},new r.FiY],[class{},new r.FiY]]},Ho,{provide:ki,useFactory:function(t){return t.routerState.root},deps:[Yo]},{provide:r.v3s,useClass:r.EAV},os,is,class{preload(t,e){return e().pipe(nr(()=>(0,je.of)(null)))}},{provide:as,useValue:{enableTracing:!1}}];function ls(){return new r.PXZ("Router",Yo)}let hs=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[cs,ms(e),{provide:us,useFactory:ps,deps:[[Yo,new r.FiY,new r.tp0]]},{provide:as,useValue:n||{}},{provide:g,useFactory:fs,deps:[a,[new r.tBr(v),new r.FiY],as]},{provide:ss,useFactory:ds,deps:[Yo,F,as]},{provide:rs,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:is},{provide:r.PXZ,multi:!0,useFactory:ls},[gs,{provide:r.ip1,multi:!0,useFactory:ys,deps:[gs]},{provide:bs,useFactory:vs,deps:[gs]},{provide:r.tb,multi:!0,useExisting:bs}]]}}static forChild(e){return{ngModule:t,providers:[ms(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(us,8),r.LFG(Yo,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function ds(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ss(t,e,n)}function fs(t,e,n={}){return n.useHash?new w(t,e):new b(t,e)}function ps(t){return"guarded"}function ms(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:Bo,multi:!0,useValue:t}]}let gs=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new Sn.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Yo),r=this.injector.get(as);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,je.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(as),n=this.injector.get(os),i=this.injector.get(ss),o=this.injector.get(Yo),s=this.injector.get(r.z2F);t===s.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function ys(t){return t.appInitializer.bind(t)}function vs(t){return t.bootstrapListener.bind(t)}const bs=new r.OlP("Router Initializer");class ws{constructor(){this.id="",this.deposito="",this.usuario="",this.udp="",this.id_usuario="",this.id_deposito="",this.id_plantilla="",this.campo1="",this.campo2="",this.campo3="",this.campo4="",this.campo5="",this.campo6="",this.campo7="",this.campo8="",this.campo9="",this.campo10="",this.campo11="",this.campo12="",this.campo13="",this.campo14="",this.campo15="",this.campo16="",this.campo17="",this.campo18="",this.campo19="",this.campo20="",this.campo21="",this.campo22="",this.campo23="",this.campo24="",this.campo25="",this.campo26="",this.campo27="",this.campo28="",this.campo29="",this.campo30="",this.campoubicacion="",this.estado=!0,this.pathimagen=""}}var _s=n(2501),Cs=n.n(_s),Ts=n(8569);class Es{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new xs(t,this.dueTime,this.scheduler))}}class xs extends Ge.L{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Ss,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function Ss(t){t.debouncedNext()}var As=n(9098),Is=n(2346),ks=n(1062),Os=n(4762),Ps=n(250),Rs=n(5119),Ns="firebasestorage.googleapis.com",Ds=function(t){function e(n,r){var i=t.call(this,Ls(n),"Firebase Storage: "+r+" ("+Ls(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,Os.ZT)(e,t),e.prototype._codeEquals=function(t){return Ls(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.message=this.customData.serverResponse?this._baseMessage+"\n"+this.customData.serverResponse:this._baseMessage},enumerable:!1,configurable:!0}),e}(Ps.ZR);function Ls(t){return"storage/"+t}function Us(){return new Ds("unknown","An unknown error occurred, please check the error payload for server response.")}function Ms(){return new Ds("canceled","User canceled the upload/download.")}function Fs(){return new Ds("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Vs(t){return new Ds("invalid-argument",t)}function js(){return new Ds("app-deleted","The Firebase app was deleted.")}function qs(t){return new Ds("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Bs(t,e){return new Ds("invalid-format","String does not match format '"+t+"': "+e)}function Gs(t){throw new Ds("internal-error","Internal error: "+t)}var zs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Hs=function(){return function(t,e){this.data=t,this.contentType=e||null}}();function Zs(t,e){switch(t){case zs.RAW:return new Hs(Ks(e));case zs.BASE64:case zs.BASE64URL:return new Hs($s(t,e));case zs.DATA_URL:return new Hs((n=new Ws(e)).base64?$s(zs.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(MC){throw Bs(zs.DATA_URL,"Malformed data URL.")}return Ks(e)}(n.rest),new Ws(e).contentType)}var n;throw Us()}function Ks(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1))){var i=r,o=t.charCodeAt(++n);e.push(240|(r=65536|(1023&i)<<10|1023&o)>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function $s(t,e){switch(t){case zs.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw Bs(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case zs.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw Bs(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(MC){throw Bs(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Ws=function(){return function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw Bs(zs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n,r,i=e[1]||null;null!=i&&(this.base64=(n=i).length>=(r=";base64").length&&n.substring(n.length-r.length)===r,this.contentType=this.base64?i.substring(0,i.length-";base64".length):i),this.rest=t.substring(t.indexOf(",")+1)}}(),Js={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Qs(t){switch(t){case"running":case"pausing":case"canceling":return Js.RUNNING;case"paused":return Js.PAUSED;case"success":return Js.SUCCESS;case"canceled":return Js.CANCELED;case"error":default:return Js.ERROR}}var Ys=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}({}),Xs=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Ys.NO_ERROR,this.sendPromise_=new Promise(function(e){t.xhr_.addEventListener("abort",function(){t.errorCode_=Ys.ABORT,e(t)}),t.xhr_.addEventListener("error",function(){t.errorCode_=Ys.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(){e(t)})})}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Gs("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Gs("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Gs("cannot .getStatus() before sending");try{return this.xhr_.status}catch(MC){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Gs("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}(),ta=function(){function t(){}return t.prototype.createXhrIo=function(){return new Xs},t}(),ea=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(MC){return new t(e,"")}if(""===r.path)return r;throw new Ds("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)",o=new RegExp("^gs://"+i+"(/(.*))?$","i");function s(t){t.path_=decodeURIComponent(t.path)}for(var a=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+a+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://"+(n===Ns?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:s}],c=0;c<u.length;c++){var l=u[c],h=l.regex.exec(e);if(h){var d=h[l.indices.path];d||(d=""),r=new t(h[l.indices.bucket],d),l.postModify(r);break}}if(null==r)throw function(t){return new Ds("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),na=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function ra(t){return"string"==typeof t||t instanceof String}function ia(t){return oa()&&t instanceof Blob}function oa(){return"undefined"!=typeof Blob}function sa(t,e,n,r){if(r<e)throw Vs("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw Vs("Invalid value for '"+t+"'. Expected "+n+" or less.")}function aa(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null==n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function ua(t){var e=encodeURIComponent,n="?";for(var r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n.slice(0,-1)}var ca=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());!function(t){return void 0!==t}(a)?i():i(a)}catch(MC){o(MC)}else null!==s?((r=Us()).serverResponse=s.getResponseText(),o(t.errorCallback_?t.errorCallback_(s,r):r)):o(r=n.canceled?t.appDelete_?js():Ms():new Ds("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new la(!1,null,!0)):this.backoffId_=function(e,n,r){var i=1,o=null,s=!1,a=0;function u(){return 2===a}var c=!1;function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];c||(c=!0,n.apply(null,t))}function h(e){o=setTimeout(function(){o=null,function(e,n){if(n)e(!1,new la(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===Ys.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new la(s,n))}else{var a=n.getErrorCode()===Ys.ABORT;e(!1,new la(!1,null,a))}})}function i(e){null!==t.progressCallback_&&t.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)}}(d,u())},e)}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,Os.ev)([null,t],e));else{var r;u()||s?l.call.apply(l,(0,Os.ev)([null,t],e)):(i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),h(r))}}var f=!1;function p(t){f||(f=!0,c||(null!==o?(t||(a=2),clearTimeout(o),h(0)):t||(a=1)))}return h(0),setTimeout(function(){s=!0,p(!0)},r),p}(0,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),la=function(){return function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}}();function ha(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function da(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=ha();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(oa())return new Blob(t);throw new Ds("unsupported-environment","This browser doesn't seem to support creating Blobs")}var fa=function(){function t(t,e){var n=0,r="";ia(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(ia(this.data_)){var r=(o=e,s=n,(i=this.data_).webkitSlice?i.webkitSlice(o,s):i.mozSlice?i.mozSlice(o,s):i.slice?i.slice(o,s):null);return null===r?null:new t(r)}var i,o,s;return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(oa()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(da.apply(null,r))}var i=e.map(function(t){return ra(t)?Zs(zs.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var s=new Uint8Array(o),a=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]}),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}();function pa(t){var e;try{e=JSON.parse(t)}catch(MC){return null}return function(t){return"object"==typeof t&&!Array.isArray(t)}(e)?e:null}function ma(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function ga(t,e){return e}var ya=function(){return function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||ga}}(),va=null;function ba(){if(va)return va;var t=[];t.push(new ya("bucket")),t.push(new ya("generation")),t.push(new ya("metageneration")),t.push(new ya("name","fullPath",!0));var e=new ya("name");e.xform=function(t,e){return function(t){return!ra(t)||t.length<2?t:ma(t)}(e)},t.push(e);var n=new ya("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new ya("timeCreated")),t.push(new ya("updated")),t.push(new ya("md5Hash",null,!0)),t.push(new ya("cacheControl",null,!0)),t.push(new ya("contentDisposition",null,!0)),t.push(new ya("contentEncoding",null,!0)),t.push(new ya("contentLanguage",null,!0)),t.push(new ya("contentType",null,!0)),t.push(new ya("metadata","customMetadata",!0)),va=t}function wa(t,e,n){var r=pa(e);return null===r?null:function(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=new ea(t.bucket,t.fullPath);return e._makeStorageReference(n)}})}(r,t),r}(t,r,n)}function _a(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}var Ca=function(){return function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}();function Ta(t){if(!t)throw Us()}function Ea(t,e){return function(n,r){var i=wa(t,r,e);return Ta(null!==i),i}}function xa(t){return function(e,n){var r;return(r=401===e.getStatus()?e.getResponseText().includes("Firebase App Check token is invalid")?new Ds("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Ds("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?new Ds("quota-exceeded","Quota for bucket '"+t.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===e.getStatus()?new Ds("unauthorized","User does not have permission to access '"+t.path+"'."):n).serverResponse=n.serverResponse,r}}function Sa(t){var e=xa(t);return function(n,r){var i=e(n,r);return 404===n.getStatus()&&(i=new Ds("object-not-found","Object '"+t.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Aa(t,e,n){var r=aa(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Ca(r,"GET",Ea(t,n),i);return o.errorHandler=Sa(e),o}function Ia(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return e&&e.type()||"application/octet-stream"}(0,e)),r}var ka=function(){return function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}}();function Oa(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(MC){Ta(!1)}return Ta(!!n&&-1!==(e||["active"]).indexOf(n)),n}var Pa=262144,Ra=function(){return function(t,e,n){if(function(t){return"function"==typeof t}(t)||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}}}();function Na(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then(function(){return t.apply(void 0,e)})}}var Da=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=ba(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise(function(t,e){r._resolve=t,r._reject=e,r._start()}),this._promise.then(null,function(){})}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}})},t.prototype._createResumable=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Ia(e,r,i),a={name:s.fullPath},u=aa(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=_a(s,n),h=new Ca(u,"POST",function(t){var e;Oa(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(MC){Ta(!1)}return Ta(ra(e)),e},t.maxUploadRetryTime);return h.urlParams=a,h.headers=c,h.body=l,h.errorHandler=xa(e),h}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()},t._errorHandler)})},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken(function(n,r){var i=function(t,e,n,r){var i=new Ca(n,"POST",function(t){var e=Oa(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(MC){Ta(!1)}n||Ta(!1);var i=Number(n);return Ta(!isNaN(i)),new ka(i,r.size(),"final"===e)},t.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=xa(e),i}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then(function(e){e=e,t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()},t._errorHandler)})},t.prototype._continueUpload=function(){var t=this,e=Pa*this._chunkMultiplier,n=new ka(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken(function(i,o){var s;try{s=function(t,e,n,r,i,o,s,a){var u=new ka(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Ds("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},f=r.slice(h,h+l);if(null===f)throw Fs();var p=new Ca(n,"POST",function(t,n){var i,s=Oa(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?Ea(e,o)(t,n):null,new ka(a,c,"final"===s,i)},e.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=xa(t),p}(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(MC){return t._error=MC,void t._transition("error")}var a=t._ref.storage._makeRequest(s,i,o);t._request=a,a.getPromise().then(function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()},t._errorHandler)})},t.prototype._increaseMultiplier=function(){Pa*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken(function(e,n){var r=Aa(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._transition("success")},t._metadataErrorHandler)})},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken(function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Ia(e,r,i),c=_a(u,n),l=fa.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===l)throw Fs();var h={name:u.fullPath},d=aa(o,t.host),f=t.maxUploadRetryTime,p=new Ca(d,"POST",Ea(t,n),f);return p.urlParams=h,p.headers=s,p.body=l.uploadData(),p.errorHandler=xa(e),p}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then(function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")},t._errorHandler)})},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":this._state=t,this._notifyObservers();break;case"canceled":this._error=Ms(),this._state=t,this._notifyObservers();break;case"error":case"success":this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Qs(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new Ra(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach(function(e){t._notifyObserver(e)})},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(Qs(this._state)){case Js.SUCCESS:Na(this._resolve.bind(null,this.snapshot))();break;case Js.CANCELED:case Js.ERROR:Na(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(Qs(this._state)){case Js.RUNNING:case Js.PAUSED:t.next&&Na(t.next.bind(t,this.snapshot))();break;case Js.SUCCESS:t.complete&&Na(t.complete.bind(t))();break;case Js.CANCELED:case Js.ERROR:t.error&&Na(t.error.bind(t,this._error))();break;default:t.error&&Na(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),La=function(){function t(t,e){this._service=t,this._location=e instanceof ea?e:ea.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new ea(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return ma(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new ea(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw qs(t)},t}();function Ua(t){var e={prefixes:[],items:[]};return Ma(t,e).then(function(){return e})}function Ma(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:return[4,Fa(t,{pageToken:n})];case 1:return r=s.sent(),(i=e.prefixes).push.apply(i,r.prefixes),(o=e.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,Ma(t,e,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}})})}function Fa(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return null!=e&&"number"==typeof e.maxResults&&sa("options.maxResults",1,1e3,e.maxResults),r=function(t,e,n,r,i){var o={};o.prefix=e.isRoot?"":e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=aa(e.bucketOnlyServerUrl(),t.host),a=t.maxOperationRetryTime,u=new Ca(s,"GET",function(t,e){return function(n,r){var i=function(t,e,n){var r=pa(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t._makeStorageReference(new ea(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++)a=t._makeStorageReference(new ea(e,c[u].name)),r.items.push(a);return r}(t,e,r)}(t,e,r);return Ta(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=xa(e),u}(t.storage,t._location,"/",(n=e||{}).pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}})})}function Va(t,e){var n=function(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new ea(t._location.bucket,n);return new La(t.storage,r)}function ja(t){return/^[A-Za-z]+:\/\//.test(t)}function qa(t,e){if(t instanceof za){var n=t;if(null==n._bucket)throw new Ds("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new La(n,n._bucket);return null!=e?qa(r,e):r}if(void 0!==e){if(e.includes(".."))throw Vs('`path` param cannot contain ".."');return Va(t,e)}return t}function Ba(t,e){if(e&&ja(e)){if(t instanceof za)return new La(t,e);throw Vs("To use ref(service, url), the first argument must be a Storage instance.")}return qa(t,e)}function Ga(t,e){var n=null==e?void 0:e.storageBucket;return null==n?null:ea.makeFromBucketSpec(n,t)}var za=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Ns,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ea.makeFromBucketSpec(i,this._host):Ga(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,this._bucket=null!=this._url?ea.makeFromBucketSpec(this._url,t):Ga(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){sa("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){sa("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}})})},t.prototype._getAppCheckToken=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t;return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}})})},t.prototype._delete=function(){return this._deleted=!0,this._requests.forEach(function(t){return t.cancel()}),this._requests.clear(),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new La(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new na(js());var i=function(t,e,n,r,i,o){var s=ua(t.urlParams),a=t.url+s,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new ca(a,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(function(){return r._requests.delete(i)},function(){return r._requests.delete(i)}),i},t.prototype.makeRequestWithTokens=function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=n.sent(),[2,this._makeRequest(t,e[0],e[1])]}})})},t}();function Ha(t,e){return Ba(t=(0,Ps.m9)(t),e)}var Za,Ka,$a=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Wa=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new $a(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then(function(e){if(t)return t(new $a(e,n,n._ref))},e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"==typeof e?function(t){return e(new $a(t,i,i._ref))}:{next:e.next?function(t){return e.next(new $a(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Ja=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map(function(e){return new Qa(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map(function(e){return new Qa(e,t._service)})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Qa=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){return new t(function(t,e){return Va(t,e)}(this._delegate,e),this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Wa(function(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new Da(t,new fa(e),n)}(t=(0,Ps.m9)(t),e,n)}(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=zs.RAW),this._throwIfRoot("putString");var r=Zs(e,t),i=(0,Os.pi)({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new Wa(new Da(this._delegate,new fa(r.data,!0),i),this)},t.prototype.listAll=function(){var t=this;return function(t){return Ua(t=(0,Ps.m9)(t))}(this._delegate).then(function(e){return new Ja(e,t.storage)})},t.prototype.list=function(t){var e=this;return function(t,e){return Fa(t=(0,Ps.m9)(t),e)}(this._delegate,t||void 0).then(function(t){return new Ja(t,e.storage)})},t.prototype.getMetadata=function(){return function(t){return function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=Aa(t.storage,t._location,ba()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Ps.m9)(t))}(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=aa(e.fullServerUrl(),t.host),o=_a(n,r),s=t.maxOperationRetryTime,a=new Ca(i,"PATCH",Ea(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Sa(e),a}(t.storage,t._location,e,ba()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}})})}(t=(0,Ps.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=aa(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Ca(r,"GET",function(t,e){return function(n,r){var i=wa(t,r,e);return Ta(null!==i),function(t,e,n){var r=pa(e);if(null===r)return null;if(!ra(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map(function(e){var r=t.fullPath;return aa("/b/"+o(t.bucket)+"/o/"+o(r),n)+ua({alt:"media",token:e})})[0]}(i,r,t.host)}}(t,n),i);return o.errorHandler=Sa(e),o}(t.storage,t._location,ba()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then(function(t){if(null===t)throw new Ds("no-download-url","The given file does not have any download URLs.");return t})]}})})}(t=(0,Ps.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=aa(e.fullServerUrl(),t.host),r=new Ca(n,"DELETE",function(t,e){},t.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=Sa(e),r}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}})})}(t=(0,Ps.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw qs(t)},t}(),Ya=function(){function t(t,e){var n=this;this.app=t,this._delegate=e,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(ja(t))throw Vs("ref() expected a child path but got a URL, use refFromURL instead.");return new Qa(Ha(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!ja(t))throw Vs("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ea.makeFromUrl(t,this._delegate.host)}catch(MC){throw Vs("refFromUrl() expected a valid full URL but got an invalid one.")}return new Qa(Ha(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e){!function(t,e,n){t.host="http://"+e+":"+n}(this._delegate,t,e)},t}();function Xa(t){const e=function(t){return new _t.y(e=>{const n=t=>e.next(t);n(t.snapshot);const r=t.on("state_changed",n);return t.then(t=>{n(t),e.complete()},r=>{n(t.snapshot),(t=>{e.error(t)})(r)}),function(){r()}}).pipe(function(t,e=Ts.P){return n=>n.lift(new Es(t,e))}(0))}(t);return{task:t,then:t.then.bind(t),catch:t.catch.bind(t),pause:t.pause.bind(t),cancel:t.cancel.bind(t),resume:t.resume.bind(t),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function tu(t,e,n){return{getDownloadURL:()=>(0,je.of)(void 0).pipe((0,As.QV)(e.outsideAngular),Hn(()=>t.getDownloadURL()),n),getMetadata:()=>(0,je.of)(void 0).pipe((0,As.QV)(e.outsideAngular),Hn(()=>t.getMetadata()),n),delete:()=>(0,wt.D)(t.delete()),child:r=>tu(t.child(r),e,n),updateMetadata:e=>(0,wt.D)(t.updateMetadata(e)),put:(e,n)=>Xa(t.put(e,n)),putString:(e,n,r)=>Xa(t.putString(e,n,r)),listAll:()=>(0,wt.D)(t.listAll())}}Ka={TaskState:Js,TaskEvent:{STATE_CHANGED:"state_changed"},StringFormat:zs,Storage:za,Reference:Qa},(Za=ks.Z).INTERNAL.registerComponent(new Rs.wA("storage",function(t,e){var n=e.instanceIdentifier,r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("app-check-internal");return new Ya(r,new za(r,i,o,new ta,n,ks.Z.SDK_VERSION))},"PUBLIC").setServiceProps(Ka).setMultipleInstances(!0)),Za.registerVersion("@firebase/storage","0.5.2");const eu=new r.OlP("angularfire2.storageBucket"),nu=new r.OlP("angularfire2.storage.maxUploadRetryTime"),ru=new r.OlP("angularfire2.storage.maxOperationRetryTime");let iu=(()=>{class t{constructor(t,e,n,r,i,o,s){this.schedulers=new Is.HU(i),this.keepUnstableUntilFirst=(0,Is.ss)(this.schedulers);const a=(0,Is.on)(t,i,e);this.storage=(0,Is.sI)(`${a.name}.storage.${n}`,"AngularFireStorage",a,()=>{const t=i.runOutsideAngular(()=>a.storage(n||void 0));return o&&t.setMaxUploadRetryTime(o),s&&t.setMaxOperationRetryTime(s),t},[o,s])}ref(t){return tu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst)}refFromURL(t){return tu(this.storage.refFromURL(t),this.schedulers,this.keepUnstableUntilFirst)}upload(t,e,n){return tu(this.storage.ref(t),this.schedulers,this.keepUnstableUntilFirst).put(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(eu,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(nu,8),r.LFG(ru,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(eu,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(nu,8),r.LFG(ru,8))},token:t,providedIn:"any"}),t})(),ou=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})(),su=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[iu],imports:[ou]}),t})(),au=(()=>{class t{constructor(t){this.http=t,this.url="https://lockers-59f72-default-rtdb.firebaseio.com"}crearImagen(t){return this.http.post("https://lockers-59f72-default-rtdb.firebaseio.com/Images.json",t).pipe((0,Tt.U)(e=>(t.id=e.name,t)))}actualizarImagen(t){const e={id:t.id,deposito:t.deposito,usuario:t.usuario,udp:t.udp,id_usuario:t.id_usuario,id_deposito:t.id_deposito,id_plantilla:t.id_plantilla,campoubicacion:t.campoubicacion,campo1:t.campo1,campo2:t.campo2,campo3:t.campo3,campo4:t.campo4,campo5:t.campo5,campo6:t.campo6,campo7:t.campo7,campo8:t.campo8,campo9:t.campo9,campo10:t.campo10,campo11:t.campo11,campo12:t.campo12,campo13:t.campo13,campo14:t.campo14,campo15:t.campo15,campo16:t.campo16,campo17:t.campo17,campo18:t.campo18,campo19:t.campo19,campo20:t.campo20,campo21:t.campo21,campo22:t.campo22,campo23:t.campo23,campo24:t.campo24,campo25:t.campo25,campo26:t.campo26,campo27:t.campo27,campo28:t.campo28,campo29:t.campo29,campo30:t.campo30,estado:t.estado,pathimagen:t.pathimagen};return e.id="",this.http.put(`https://lockers-59f72-default-rtdb.firebaseio.com/Images/${t.id}.json`,e)}addSponsor(t){const e={id:t.id,deposito:t.deposito,usuario:t.usuario,udp:t.udp,id_usuario:t.id_usuario,id_deposito:t.id_deposito,id_plantilla:t.id_plantilla,campoubicacion:t.campoubicacion,campo1:t.campo1,campo2:t.campo2,campo3:t.campo3,campo4:t.campo4,campo5:t.campo5,campo6:t.campo6,campo7:t.campo7,campo8:t.campo8,campo9:t.campo9,campo10:t.campo10,campo11:t.campo11,campo12:t.campo12,campo13:t.campo13,campo14:t.campo14,campo15:t.campo15,campo16:t.campo16,campo17:t.campo17,campo18:t.campo18,campo19:t.campo19,campo20:t.campo20,campo21:t.campo21,campo22:t.campo22,campo23:t.campo23,campo24:t.campo24,campo25:t.campo25,campo26:t.campo26,campo27:t.campo27,campo28:t.campo28,campo29:t.campo29,campo30:t.campo30,estado:t.estado,pathimagen:t.pathimagen};return e.id="",this.http.put(`https://lockers-59f72-default-rtdb.firebaseio.com/Images/${t.id}.json`,e)}borrarheroe(t){return this.http.delete(`https://lockers-59f72-default-rtdb.firebaseio.com/Images/${t}.json`)}GetHeroeID(t){return this.http.get(`https://lockers-59f72-default-rtdb.firebaseio.com/Images/${t}.json`)}GetHeroes(){return this.http.get("https://lockers-59f72-default-rtdb.firebaseio.com/Images.json").pipe((0,Tt.U)(this.crearArreglo))}crearArreglo(t){const e=[];return console.log(t),null===t?[]:(Object.keys(t).forEach(n=>{const r=t[n];r.id=n,e.push(r)}),e)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(dn))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function uu(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",26),r.NdJ("click",function(){return r.CHM(t),r.oxw().imagenes.estado=!0}),r._UZ(1,"i",27),r._uU(2,"Activo"),r.qZA()}}function cu(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",28),r.NdJ("click",function(){return r.CHM(t),r.oxw().imagenes.estado=!1}),r._UZ(1,"i",29),r._uU(2,"Inactivo"),r.qZA()}}function lu(t,e){1&t&&(r.TgZ(0,"small",30),r._uU(1," Debe seleccionar una imagen"),r.qZA())}function hu(t,e){if(1&t&&(r.TgZ(0,"div"),r.TgZ(1,"h3"),r._uU(2,"Results!"),r.qZA(),r._UZ(3,"img",31),r._UZ(4,"br"),r.TgZ(5,"a",32),r._uU(6,"Download Me!"),r.qZA(),r.qZA()),2&t){const t=e.ngIf;r.xp6(3),r.Q6J("src",t,r.LSH),r.xp6(2),r.Q6J("href",t,r.LSH)}}let du=(()=>{class t{constructor(t,e,n,r){this.storage=t,this.imageService=e,this.capturarparametro=n,this.imagenes={id:"",deposito:"",usuario:"",udp:"",id_usuario:"",id_deposito:"",id_plantilla:"",campo1:"",campo2:"",campo3:"",campo4:"",campo5:"",campo6:"",campo7:"",campo8:"",campo9:"",campo10:"",campo11:"",campo12:"",campo13:"",campo14:"",campo15:"",campo16:"",campo17:"",campo18:"",campo19:"",campo20:"",campo21:"",campo22:"",campo23:"",campo24:"",campo25:"",campo26:"",campo27:"",campo28:"",campo29:"",campo30:"",campoubicacion:"",estado:!0,pathimagen:""},this.imageType="",this.fileError=!1,this.capturarparametro.params.subscribe(t=>{this.ids=t.id,"nuevo"!==this.ids&&this.imageService.GetHeroeID(this.ids).subscribe(t=>{this.imagenes=t,this.imagenes.id=this.ids})})}ngOnInit(){}upload(t){this.fileError=!1,this.path=t.target.files[0],this.imageType=t.target.files[0].type}guardar(t){if(t.invalid)return void console.log("Formulario no valido");let e;if(Cs().fire({icon:"info",title:"Espere",text:"Guardando Informaci\xf3n",allowOutsideClick:!1}),Cs().showLoading(),this.imagenes.id){e=this.imageService.actualizarImagen(this.imagenes),this.imageName=this.ids;const t=`Test/${this.imageName}`,n=this.storage.ref(t);this.storage.upload(t,this.path).then(()=>{n.getDownloadURL().subscribe(t=>{this.downloadURL=t;const e=new ws;e.id=this.ids,e.deposito=this.imagenes.deposito,e.usuario=this.imagenes.usuario,e.udp=this.imagenes.udp,e.id_usuario=this.imagenes.id_usuario,e.id_deposito=this.imagenes.id_deposito,e.id_plantilla=this.imagenes.id_plantilla,e.campoubicacion=this.imagenes.campoubicacion,e.campo1=this.imagenes.campo1,e.campo2=this.imagenes.campo2,e.campo3=this.imagenes.campo3,e.campo4=this.imagenes.campo4,e.campo5=this.imagenes.campo5,e.campo6=this.imagenes.campo6,e.campo7=this.imagenes.campo7,e.campo8=this.imagenes.campo8,e.campo9=this.imagenes.campo9,e.campo10=this.imagenes.campo10,e.campo11=this.imagenes.campo11,e.campo12=this.imagenes.campo12,e.campo13=this.imagenes.campo13,e.campo14=this.imagenes.campo14,e.campo15=this.imagenes.campo15,e.campo16=this.imagenes.campo16,e.campo17=this.imagenes.campo17,e.campo18=this.imagenes.campo18,e.campo19=this.imagenes.campo19,e.campo20=this.imagenes.campo20,e.campo21=this.imagenes.campo21,e.campo22=this.imagenes.campo22,e.campo23=this.imagenes.campo23,e.campo24=this.imagenes.campo24,e.campo25=this.imagenes.campo25,e.campo26=this.imagenes.campo26,e.campo27=this.imagenes.campo27,e.campo28=this.imagenes.campo28,e.campo29=this.imagenes.campo29,e.campo30=this.imagenes.campo30,e.estado=this.imagenes.estado,e.pathimagen=this.downloadURL,this.dbAddSponsor=this.imageService.addSponsor(e).subscribe(t=>{this.dbAddSponsor.unsubscribe(),Cs().fire({title:"Registro completado de la Im\xe1gen",icon:"success",text:"Se completo el registro del documento con \xe9xito."})})})}).catch(t=>{console.log(t),Cs().fire({title:"Algo sali\xf3 mal!",icon:"error",text:"Algo sali\xf3 mal al subir la imagen de su empresa, int\xe9ntalo de nuevo."})})}else e=this.imageService.crearImagen(this.imagenes);e.subscribe(t=>{Cs().fire({title:this.imagenes.deposito,text:"Se Actualizo correctamente",icon:"success"})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(iu),r.Y36(au),r.Y36(ki),r.Y36(Yo))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-insert-image"]],decls:50,vars:7,consts:[[1,"container"],[1,"row"],[1,"col","text-right"],["routerLink","/users",1,"btn","btn-danger"],[1,"fa","fa-arrow-left"],[1,"row","animated","fadeIn","faster"],[1,"col"],[3,"ngSubmit"],["f","ngForm"],[1,"form-group"],["name","id","type","text","disabled","disabled","placeholder","Firebase ID",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-text","text-muted"],["name","nombre","type","text","disabled","disabled","required","","placeholder","Nombre de la imagen",1,"form-control",3,"ngModel","ngModelChange"],["name","poder","type","text","disabled","disabled","required","","placeholder","Path",1,"form-control",3,"ngModel","ngModelChange"],["class","btn btn-outline-success w-50","type","button",3,"click",4,"ngIf"],["class","btn btn-outline-danger w-50","type","button",3,"click",4,"ngIf"],[1,"input-group"],[1,"input-group-prepend"],[1,"input-group-text"],[1,"material-icons"],["type","file","accept",".png,.jpg,.pdf",1,"form-control",3,"change"],["class","text-danger",4,"ngIf"],[1,"form-group","text-center"],["type","submit",1,"btn","btn-primary","w-25"],[1,"fa","fa-save"],[4,"ngIf"],["type","button",1,"btn","btn-outline-success","w-50",3,"click"],[1,"fa","fa-smile-wink"],["type","button",1,"btn","btn-outline-danger","w-50",3,"click"],[1,"fa","fa-dizzy"],[1,"text-danger"],[2,"height","50",3,"src"],["target","_blank","rel","noopener",3,"href"]],template:function(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"h1"),r._uU(2,"Im\xe1genes"),r.qZA(),r._UZ(3,"hr"),r.TgZ(4,"div",1),r.TgZ(5,"div",2),r.TgZ(6,"button",3),r._UZ(7,"i",4),r._uU(8," Regresar "),r.qZA(),r.qZA(),r.qZA(),r.TgZ(9,"div",5),r.TgZ(10,"div",6),r.TgZ(11,"form",7,8),r.NdJ("ngSubmit",function(){r.CHM(t);const n=r.MAs(12);return e.guardar(n)}),r.TgZ(13,"div",9),r.TgZ(14,"label"),r._uU(15,"Firebase ID"),r.qZA(),r.TgZ(16,"input",10),r.NdJ("ngModelChange",function(t){return e.imagenes.id=t}),r.qZA(),r.TgZ(17,"small",11),r._uU(18,"Campo autogenerado"),r.qZA(),r.qZA(),r.TgZ(19,"div",9),r.TgZ(20,"label"),r._uU(21,"NOMBRE DEL DEPOSITO"),r.qZA(),r.TgZ(22,"input",12),r.NdJ("ngModelChange",function(t){return e.imagenes.deposito=t}),r.qZA(),r.qZA(),r.TgZ(23,"div",9),r.TgZ(24,"label"),r._uU(25,"USUARIO"),r.qZA(),r.TgZ(26,"input",13),r.NdJ("ngModelChange",function(t){return e.imagenes.usuario=t}),r.qZA(),r.qZA(),r.TgZ(27,"div",9),r.TgZ(28,"label"),r._uU(29,"ESTADO IM\xc1GEN"),r.qZA(),r._UZ(30,"br"),r.YNc(31,uu,3,0,"button",14),r.YNc(32,cu,3,0,"button",15),r.qZA(),r.TgZ(33,"div",16),r.TgZ(34,"div",17),r.TgZ(35,"span",18),r.TgZ(36,"i",19),r._uU(37,"insert_photo"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",6),r.TgZ(39,"label"),r._uU(40,"Seleccione el logo o imag\xe9n de su empresa, compa\xf1ia o marca:"),r.qZA(),r.TgZ(41,"input",20),r.NdJ("change",function(t){return e.upload(t)}),r.qZA(),r.YNc(42,lu,2,0,"small",21),r.qZA(),r.qZA(),r._UZ(43,"hr"),r.TgZ(44,"div",22),r.TgZ(45,"button",23),r._UZ(46,"i",24),r._uU(47,"Guardar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(48,"div",0),r.YNc(49,hu,7,2,"div",25),r.qZA(),r.qZA()}2&t&&(r.xp6(16),r.Q6J("ngModel",e.imagenes.id),r.xp6(6),r.Q6J("ngModel",e.imagenes.deposito),r.xp6(4),r.Q6J("ngModel",e.imagenes.usuario),r.xp6(5),r.Q6J("ngIf",e.imagenes.estado),r.xp6(1),r.Q6J("ngIf",!e.imagenes.estado),r.xp6(10),r.Q6J("ngIf",e.fileError),r.xp6(7),r.Q6J("ngIf",e.downloadURL))},directives:[Xo,Ae,Wt,Te,Pt,$t,Se,Le,R],styles:[""]}),t})();function fu(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",20),r.NdJ("click",function(){r.CHM(t);const e=r.oxw(),n=e.$implicit,i=e.index;return r.oxw(2).verImagen(n,i)}),r._UZ(1,"i",21),r.qZA()}}const pu=function(t){return["/images",t]};function mu(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r.TgZ(4,"button",15),r._UZ(5,"i",16),r.qZA(),r.TgZ(6,"button",17),r.NdJ("click",function(){const e=r.CHM(t),n=e.$implicit,i=e.index;return r.oxw(2).borrar(n,i)}),r._UZ(7,"i",18),r.qZA(),r.qZA(),r.TgZ(8,"td"),r.YNc(9,fu,2,0,"button",19),r.qZA(),r.TgZ(10,"td"),r._uU(11),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.TgZ(18,"td"),r._uU(19),r.qZA(),r.TgZ(20,"td"),r._uU(21),r.qZA(),r.TgZ(22,"td"),r._uU(23),r.qZA(),r.TgZ(24,"td"),r._uU(25),r.qZA(),r.TgZ(26,"td"),r._uU(27),r.qZA(),r.TgZ(28,"td"),r._uU(29),r.qZA(),r.TgZ(30,"td"),r._uU(31),r.qZA(),r.TgZ(32,"td"),r._uU(33),r.qZA(),r.TgZ(34,"td"),r._uU(35),r.qZA(),r.TgZ(36,"td"),r._uU(37),r.qZA(),r.TgZ(38,"td"),r._uU(39),r.qZA(),r.TgZ(40,"td"),r._uU(41),r.qZA(),r.TgZ(42,"td"),r._uU(43),r.qZA(),r.TgZ(44,"td"),r._uU(45),r.qZA(),r.TgZ(46,"td"),r._uU(47),r.qZA(),r.TgZ(48,"td"),r._uU(49),r.qZA(),r.TgZ(50,"td"),r._uU(51),r.qZA(),r.TgZ(52,"td"),r._uU(53),r.qZA(),r.TgZ(54,"td"),r._uU(55),r.qZA(),r.TgZ(56,"td"),r._uU(57),r.qZA(),r.TgZ(58,"td"),r._uU(59),r.qZA(),r.TgZ(60,"td"),r._uU(61),r.qZA(),r.TgZ(62,"td"),r._uU(63),r.qZA(),r.TgZ(64,"td"),r._uU(65),r.qZA(),r.TgZ(66,"td"),r._uU(67),r.qZA(),r.TgZ(68,"td"),r._uU(69),r.qZA(),r.TgZ(70,"td"),r._uU(71),r.qZA(),r.TgZ(72,"td"),r._uU(73),r.qZA(),r.TgZ(74,"td"),r._uU(75),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=e.index;r.xp6(2),r.Oqu(n+1),r.xp6(2),r.Q6J("routerLink",r.VKq(36,pu,t.id)),r.xp6(5),r.Q6J("ngIf",""!=t.pathimagen),r.xp6(2),r.Oqu(t.deposito),r.xp6(2),r.Oqu(t.usuario),r.xp6(2),r.Oqu(t.campoubicacion),r.xp6(2),r.Oqu(t.campo1),r.xp6(2),r.Oqu(t.campo2),r.xp6(2),r.Oqu(t.campo3),r.xp6(2),r.Oqu(t.campo4),r.xp6(2),r.Oqu(t.campo5),r.xp6(2),r.Oqu(t.campo6),r.xp6(2),r.Oqu(t.campo7),r.xp6(2),r.Oqu(t.campo8),r.xp6(2),r.Oqu(t.campo9),r.xp6(2),r.Oqu(t.campo10),r.xp6(2),r.Oqu(t.campo11),r.xp6(2),r.Oqu(t.campo12),r.xp6(2),r.Oqu(t.campo13),r.xp6(2),r.Oqu(t.campo14),r.xp6(2),r.Oqu(t.campo15),r.xp6(2),r.Oqu(t.campo16),r.xp6(2),r.Oqu(t.campo17),r.xp6(2),r.Oqu(t.campo18),r.xp6(2),r.Oqu(t.campo19),r.xp6(2),r.Oqu(t.campo20),r.xp6(2),r.Oqu(t.campo21),r.xp6(2),r.Oqu(t.campo22),r.xp6(2),r.Oqu(t.campo23),r.xp6(2),r.Oqu(t.campo24),r.xp6(2),r.Oqu(t.campo25),r.xp6(2),r.Oqu(t.campo26),r.xp6(2),r.Oqu(t.campo27),r.xp6(2),r.Oqu(t.campo28),r.xp6(2),r.Oqu(t.campo29),r.xp6(2),r.Oqu(t.campo30)}}function gu(t,e){if(1&t&&(r.TgZ(0,"table",11),r.TgZ(1,"thead",12),r.TgZ(2,"tr"),r.TgZ(3,"th",13),r._uU(4,"#"),r.qZA(),r.TgZ(5,"th",13),r._uU(6,"Tools"),r.qZA(),r.TgZ(7,"th",13),r._uU(8,"Im\xe1gen"),r.qZA(),r.TgZ(9,"th",13),r._uU(10,"Deposito"),r.qZA(),r.TgZ(11,"th",13),r._uU(12,"Usuario"),r.qZA(),r.TgZ(13,"th",13),r._uU(14,"Ubicaci\xf3n"),r.qZA(),r.TgZ(15,"th",13),r._uU(16,"Campo1"),r.qZA(),r.TgZ(17,"th",13),r._uU(18,"Campo2"),r.qZA(),r.TgZ(19,"th",13),r._uU(20,"Campo3"),r.qZA(),r.TgZ(21,"th",13),r._uU(22,"Campo4"),r.qZA(),r.TgZ(23,"th",13),r._uU(24,"Campo5"),r.qZA(),r.TgZ(25,"th",13),r._uU(26,"Campo6"),r.qZA(),r.TgZ(27,"th",13),r._uU(28,"Campo7"),r.qZA(),r.TgZ(29,"th",13),r._uU(30,"Campo8"),r.qZA(),r.TgZ(31,"th",13),r._uU(32,"Campo9"),r.qZA(),r.TgZ(33,"th",13),r._uU(34,"Campo10"),r.qZA(),r.TgZ(35,"th",13),r._uU(36,"Campo11"),r.qZA(),r.TgZ(37,"th",13),r._uU(38,"Campo12"),r.qZA(),r.TgZ(39,"th",13),r._uU(40,"Campo13"),r.qZA(),r.TgZ(41,"th",13),r._uU(42,"Campo14"),r.qZA(),r.TgZ(43,"th",13),r._uU(44,"Campo15"),r.qZA(),r.TgZ(45,"th",13),r._uU(46,"Campo16"),r.qZA(),r.TgZ(47,"th",13),r._uU(48,"Campo17"),r.qZA(),r.TgZ(49,"th",13),r._uU(50,"Campo18"),r.qZA(),r.TgZ(51,"th",13),r._uU(52,"Campo19"),r.qZA(),r.TgZ(53,"th",13),r._uU(54,"Campo20"),r.qZA(),r.TgZ(55,"th",13),r._uU(56,"Campo21"),r.qZA(),r.TgZ(57,"th",13),r._uU(58,"Campo22"),r.qZA(),r.TgZ(59,"th",13),r._uU(60,"Campo23"),r.qZA(),r.TgZ(61,"th",13),r._uU(62,"Campo24"),r.qZA(),r.TgZ(63,"th",13),r._uU(64,"Campo25"),r.qZA(),r.TgZ(65,"th",13),r._uU(66,"Campo26"),r.qZA(),r.TgZ(67,"th",13),r._uU(68,"Campo27"),r.qZA(),r.TgZ(69,"th",13),r._uU(70,"Campo28"),r.qZA(),r.TgZ(71,"th",13),r._uU(72,"Campo29"),r.qZA(),r.TgZ(73,"th",13),r._uU(74,"Campo30"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(75,"tbody"),r.YNc(76,mu,76,38,"tr",14),r.qZA(),r.qZA()),2&t){const t=r.oxw();r.xp6(76),r.Q6J("ngForOf",t.heroesarray)}}function yu(t,e){1&t&&(r.TgZ(0,"div",22),r.TgZ(1,"h4",23),r._uU(2,"No existen registros"),r.qZA(),r.TgZ(3,"p"),r._UZ(4,"i",24),r.qZA(),r.qZA())}function vu(t,e){1&t&&(r.TgZ(0,"div",25),r.TgZ(1,"h4",23),r._uU(2,"Cargando"),r.qZA(),r.TgZ(3,"p"),r._UZ(4,"i",26),r.qZA(),r.TgZ(5,"p",27),r._uU(6," Espere por favor "),r.qZA(),r.qZA())}const bu=[{path:"login",component:(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this.storage=e,this.imageService=n,this.capturarparametro=r,this.router=i,this.Loginform=new be({usuario:new ve(null),password:new ve(null)})}ngOnInit(){}register(){var t,e;const n=null===(t=this.Loginform.get("usuario"))||void 0===t?void 0:t.value,r=null===(e=this.Loginform.get("password"))||void 0===e?void 0:e.value;"lockers"===n&&"admin"===r?(Cs().fire({title:"EXITO",allowOutsideClick:!1,icon:"success",text:"DATOS CORRECTOS"}),this.Loginform.reset(),this.router.navigateByUrl("/users")):Cs().fire({title:"ERROR",icon:"error",text:"DATOS INCORRECTOS."})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Ve),r.Y36(iu),r.Y36(au),r.Y36(ki),r.Y36(Yo))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:19,vars:1,consts:[["src",".assets/img/login/wave.png",1,"wave"],[1,"container"],[1,"img"],["src","./assets/img/login/bg.svg"],[1,"login-content"],[3,"formGroup","ngSubmit"],["src","./assets/img/login/avatar.svg"],[1,"title"],[1,"form-group"],["for","exampleInputEmail1"],["type","text","formControlName","usuario","id","exampleInputEmail1","aria-describedby","emailHelp","placeholder","Ingrese su Usuario",1,"form-control"],["for","exampleInputPassword1"],["type","password","formControlName","password","id","exampleInputPassword1","placeholder","Ingrese su Contrase\xf1a",1,"form-control"],["type","submit",1,"btn","btn-primary"]],template:function(t,e){1&t&&(r._UZ(0,"img",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r._UZ(3,"img",3),r.qZA(),r.TgZ(4,"div",4),r.TgZ(5,"form",5),r.NdJ("ngSubmit",function(){return e.register()}),r._UZ(6,"img",6),r.TgZ(7,"h2",7),r._uU(8,"Bienvenido"),r.qZA(),r.TgZ(9,"div",8),r.TgZ(10,"label",9),r._uU(11,"USUARIO"),r.qZA(),r._UZ(12,"input",10),r.qZA(),r.TgZ(13,"div",8),r.TgZ(14,"label",11),r._uU(15,"CONTRASE\xd1A"),r.qZA(),r._UZ(16,"input",12),r.qZA(),r.TgZ(17,"button",13),r._uU(18,"ENVIAR"),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(5),r.Q6J("formGroup",e.Loginform))},directives:[Ae,Wt,Pe,Pt,$t,Ne],styles:['.wave[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;height:100%;z-index:-1}.container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:grid;grid-template-columns:repeat(2,1fr);grid-gap:7rem;padding:0 2rem}.img[_ngcontent-%COMP%]{justify-content:flex-end}.img[_ngcontent-%COMP%], .login-content[_ngcontent-%COMP%]{display:flex;align-items:center}.login-content[_ngcontent-%COMP%]{justify-content:flex-start;text-align:center}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:500px}form[_ngcontent-%COMP%]{width:360px}.login-content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100px}.login-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:15px 0;color:#333;text-transform:uppercase;font-size:2.9rem}.login-content[_ngcontent-%COMP%]   .input-div[_ngcontent-%COMP%]{position:relative;display:grid;grid-template-columns:7% 93%;margin:25px 0;padding:5px 0;border-bottom:2px solid #d9d9d9}.login-content[_ngcontent-%COMP%]   .input-div.one[_ngcontent-%COMP%]{margin-top:0}.i[_ngcontent-%COMP%]{color:#d9d9d9;display:flex;justify-content:center;align-items:center}.i[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:.3s}.input-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;height:45px}.input-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);color:#999;font-size:18px;transition:.3s}.input-div[_ngcontent-%COMP%]:after, .input-div[_ngcontent-%COMP%]:before{content:"";position:absolute;bottom:-2px;width:0;height:2px;background-color:#38d39f;transition:.4s}.input-div[_ngcontent-%COMP%]:before{right:50%}.input-div[_ngcontent-%COMP%]:after{left:50%}.input-div.focus[_ngcontent-%COMP%]:after, .input-div.focus[_ngcontent-%COMP%]:before{width:50%}.input-div.focus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > h5[_ngcontent-%COMP%]{top:-5px;font-size:15px}.input-div.focus[_ngcontent-%COMP%] > .i[_ngcontent-%COMP%] > i[_ngcontent-%COMP%]{color:#38d39f}.input-div[_ngcontent-%COMP%] > div[_ngcontent-%COMP%] > input[_ngcontent-%COMP%]{position:absolute;left:0;top:0;width:100%;height:100%;border:none;outline:none;background:none;padding:.5rem .7rem;font-size:1.2rem;color:#555;font-family:poppins,sans-serif}.input-div.pass[_ngcontent-%COMP%]{margin-bottom:4px}a[_ngcontent-%COMP%]{display:block;text-align:right;text-decoration:none;color:#999;font-size:.9rem;transition:.3s}a[_ngcontent-%COMP%]:hover{color:#38d39f}.btn[_ngcontent-%COMP%]{display:block;width:100%;height:50px;border-radius:25px;outline:none;border:none;background-color:#303030;background-size:200%;font-size:1.2rem;color:#fff;font-family:Poppins,sans-serif;text-transform:uppercase;margin:1rem 0;cursor:pointer;transition:.5s}.btn[_ngcontent-%COMP%]:hover{background-position:100%}@media screen and (max-width:1050px){.container[_ngcontent-%COMP%]{grid-gap:5rem}}@media screen and (max-width:1000px){form[_ngcontent-%COMP%]{width:290px}.login-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2.4rem;margin:8px 0}.img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:400px}}@media screen and (max-width:900px){.container[_ngcontent-%COMP%]{grid-template-columns:1fr}.img[_ngcontent-%COMP%], .wave[_ngcontent-%COMP%]{display:none}.login-content[_ngcontent-%COMP%]{justify-content:center}}']}),t})()},{path:"users",component:(()=>{class t{constructor(t){this.imageService=t,this.heroesarray=[],this.cargando=!1}ngOnInit(){this.cargando=!0,this.imageService.GetHeroes().subscribe(t=>{this.heroesarray=t,console.log(this.heroesarray),this.cargando=!1})}borrar(t,e){Cs().fire({icon:"question",title:`\xbfEsta seguro de borrar a ${t.deposito}?`,showCancelButton:!0}).then(n=>{n.value&&(this.heroesarray.splice(e,1),this.imageService.borrarheroe(t.id).subscribe())})}verImagen(t,e){""===t.pathimagen?console.log("campo vacio"):console.log("tiene imagen"),window.open(t.pathimagen,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(au))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-users"]],decls:14,vars:3,consts:[[1,"container-fluid"],[1,"jumbotron","jumbotron-fluid"],[1,"container-fluid","text-center"],[1,"display-4"],[1,"row"],[1,"col-md-1"],[1,"col-md-10","text-center"],[1,"table-responsive","text-nowrap"],["class","table table-striped table  animated fadeIn faster animated fadeIn",4,"ngIf"],["class","alert alert-warning text-center mt-3",4,"ngIf"],["class","alert alert-info text-center mt-3",4,"ngIf"],[1,"table","table-striped","table","animated","fadeIn","faster","animated","fadeIn"],[1,"thead-dark"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"routerLink"],[1,"fa","fa-pen"],[1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["class","btn btn-info",3,"click",4,"ngIf"],[1,"btn","btn-info",3,"click"],["aria-hidden","true",1,"fa","fa-picture-o"],[1,"alert","alert-warning","text-center","mt-3"],[1,"alert-heading"],[1,"fa","fa-exclamation","fa-2x"],[1,"alert","alert-info","text-center","mt-3"],[1,"fa","fa-sync-alt","fa-spin","fa-2x"],[1,"mb-0"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div"),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"h2",3),r._uU(5,"Listado de Registros"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(6,"div",4),r._UZ(7,"div",5),r.TgZ(8,"div",6),r.TgZ(9,"div",7),r.YNc(10,gu,77,1,"table",8),r.qZA(),r.YNc(11,yu,5,0,"div",9),r.YNc(12,vu,7,0,"div",10),r.qZA(),r._UZ(13,"div",5),r.qZA(),r.qZA()),2&t&&(r.xp6(10),r.Q6J("ngIf",!e.cargando&&e.heroesarray.length>0),r.xp6(1),r.Q6J("ngIf",!e.cargando&&0===e.heroesarray.length),r.xp6(1),r.Q6J("ngIf",e.cargando))},directives:[R,O,Xo],styles:[""]}),t})()},{path:"images/:id",component:du},{path:"**",pathMatch:"full",redirectTo:"login"}];let wu=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[hs.forRoot(bu)],hs]}),t})(),_u=(()=>{class t{constructor(){this.title="Locker"}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:[es],styles:["",'[_nghost-%COMP%] {\n        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";\n        font-size: 14px;\n        color: #333;\n        box-sizing: border-box;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n    }\n\n    h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], h6[_ngcontent-%COMP%] {\n        margin: 8px 0;\n    }\n\n    p[_ngcontent-%COMP%] {\n        margin: 0;\n    }\n\n    .spacer[_ngcontent-%COMP%] {\n        flex: 1;\n    }\n\n    .toolbar[_ngcontent-%COMP%] {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        height: 10px;\n        display: flex;\n        align-items: center;\n        background-color: #1976d2;\n        color: white;\n        font-weight: 600;\n    }\n\n    .toolbar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\n        margin: 0 16px;\n    }\n\n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%] {\n        height: 40px;\n        margin: 0 8px;\n    }\n\n    .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%] {\n        height: 40px;\n        margin: 0 16px;\n    }\n\n    .toolbar[_ngcontent-%COMP%]   #twitter-logo[_ngcontent-%COMP%]:hover, .toolbar[_ngcontent-%COMP%]   #youtube-logo[_ngcontent-%COMP%]:hover {\n        opacity: 0.8;\n    }\n\n    .content[_ngcontent-%COMP%] {\n        display: flex;\n        margin: 82px auto 32px;\n        padding: 0 16px;\n        max-width: 960px;\n        flex-direction: column;\n        align-items: center;\n    }\n\n    svg.material-icons[_ngcontent-%COMP%] {\n        height: 24px;\n        width: auto;\n    }\n\n    svg.material-icons[_ngcontent-%COMP%]:not(:last-child) {\n        margin-right: 8px;\n    }\n\n    .card[_ngcontent-%COMP%]   svg.material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n        fill: #888;\n    }\n\n    .card-container[_ngcontent-%COMP%] {\n        display: flex;\n        flex-wrap: wrap;\n        justify-content: center;\n        margin-top: 16px;\n    }\n\n    .card[_ngcontent-%COMP%] {\n        border-radius: 4px;\n        border: 1px solid #eee;\n        background-color: #fafafa;\n        height: 40px;\n        width: 200px;\n        margin: 0 8px 16px;\n        padding: 16px;\n        display: flex;\n        flex-direction: row;\n        justify-content: center;\n        align-items: center;\n        transition: all 0.2s ease-in-out;\n        line-height: 24px;\n    }\n\n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(:last-child) {\n        margin-right: 0;\n    }\n\n    .card.card-small[_ngcontent-%COMP%] {\n        height: 16px;\n        width: 168px;\n    }\n\n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card) {\n        cursor: pointer;\n    }\n\n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover {\n        transform: translateY(-3px);\n        box-shadow: 0 4px 17px rgba(0, 0, 0, 0.35);\n    }\n\n    .card-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:not(.highlight-card):hover   .material-icons[_ngcontent-%COMP%]   path[_ngcontent-%COMP%] {\n        fill: rgb(105, 103, 103);\n    }\n\n    .card.highlight-card[_ngcontent-%COMP%] {\n        background-color: #1976d2;\n        color: white;\n        font-weight: 600;\n        border: none;\n        width: auto;\n        min-width: 30%;\n        position: relative;\n    }\n\n    .card.card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n        margin-left: 60px;\n    }\n\n    svg#rocket[_ngcontent-%COMP%] {\n        width: 80px;\n        position: absolute;\n        left: -10px;\n        top: -24px;\n    }\n\n    svg#rocket-smoke[_ngcontent-%COMP%] {\n        height: calc(100vh - 95px);\n        position: absolute;\n        top: 10px;\n        right: 180px;\n        z-index: -10;\n    }\n\n    a[_ngcontent-%COMP%], a[_ngcontent-%COMP%]:visited, a[_ngcontent-%COMP%]:hover {\n        color: #1976d2;\n        text-decoration: none;\n    }\n\n    a[_ngcontent-%COMP%]:hover {\n        color: #125699;\n    }\n\n    .terminal[_ngcontent-%COMP%] {\n        position: relative;\n        width: 80%;\n        max-width: 600px;\n        border-radius: 6px;\n        padding-top: 45px;\n        margin-top: 8px;\n        overflow: hidden;\n        background-color: rgb(15, 15, 16);\n    }\n\n    .terminal[_ngcontent-%COMP%]::before {\n        content: "\\2022 \\2022 \\2022";\n        position: absolute;\n        top: 0;\n        left: 0;\n        height: 4px;\n        background: rgb(58, 58, 58);\n        color: #c2c3c4;\n        width: 100%;\n        font-size: 2rem;\n        line-height: 0;\n        padding: 14px 0;\n        text-indent: 4px;\n    }\n\n    .terminal[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%] {\n        font-family: SFMono-Regular, Consolas, Liberation Mono, Menlo, monospace;\n        color: white;\n        padding: 0 1rem 1rem;\n        margin: 0;\n    }\n\n    .circle-link[_ngcontent-%COMP%] {\n        height: 40px;\n        width: 40px;\n        border-radius: 40px;\n        margin: 8px;\n        background-color: white;\n        border: 1px solid #eeeeee;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        cursor: pointer;\n        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.12), 0 1px 2px rgba(0, 0, 0, 0.24);\n        transition: 1s ease-out;\n    }\n\n    .circle-link[_ngcontent-%COMP%]:hover {\n        transform: translateY(-0.25rem);\n        box-shadow: 0px 3px 15px rgba(0, 0, 0, 0.2);\n    }\n\n    footer[_ngcontent-%COMP%] {\n        margin-top: 8px;\n        display: flex;\n        align-items: center;\n        line-height: 20px;\n    }\n\n    footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\n        display: flex;\n        align-items: center;\n    }\n\n    .github-star-badge[_ngcontent-%COMP%] {\n        color: #24292e;\n        display: flex;\n        align-items: center;\n        font-size: 12px;\n        padding: 3px 10px;\n        border: 1px solid rgba(27, 31, 35, .2);\n        border-radius: 3px;\n        background-image: linear-gradient(-180deg, #fafbfc, #eff3f6 90%);\n        margin-left: 4px;\n        font-weight: 600;\n        font-family: -apple-system, BlinkMacSystemFont, Segoe UI, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol;\n    }\n\n    .github-star-badge[_ngcontent-%COMP%]:hover {\n        background-image: linear-gradient(-180deg, #f0f3f6, #e6ebf1 90%);\n        border-color: rgba(27, 31, 35, .35);\n        background-position: -.5em;\n    }\n\n    .github-star-badge[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%] {\n        height: 16px;\n        width: 16px;\n        margin-right: 4px;\n    }\n\n    svg#clouds[_ngcontent-%COMP%] {\n        position: fixed;\n        bottom: -160px;\n        left: -230px;\n        z-index: -10;\n        width: 1920px;\n    }\n\n    \n\n    @media screen and (max-width: 767px) {\n\n        .card-container[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.circle-link), .terminal[_ngcontent-%COMP%] {\n            width: 100%;\n        }\n\n        .card[_ngcontent-%COMP%]:not(.highlight-card) {\n            height: 16px;\n            margin: 8px 0;\n        }\n\n        .card.highlight-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\n            margin-left: 72px;\n        }\n\n        svg#rocket-smoke[_ngcontent-%COMP%] {\n            right: 120px;\n            transform: rotate(-5deg);\n        }\n    }\n\n    @media screen and (max-width: 575px) {\n        svg#rocket-smoke[_ngcontent-%COMP%] {\n            display: none;\n            visibility: hidden;\n        }\n    }']}),t})();function Cu(){return t=>t.lift(new Tu)}class Tu{call(t,e){return e.subscribe(new Eu(t))}}class Eu extends Ge.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function xu(t,e){return n=>n.lift(new Su(t,e))}class Su{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Au(t,this.compare,this.keySelector))}}class Au extends Ge.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Iu=n(1858),ku=n(308),Ou=function(t,e){return(Ou=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Pu(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ru,Nu="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Du=Du||{},Lu=Nu||self;function Uu(){}function Mu(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Fu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vu="closure_uid_"+(1e9*Math.random()>>>0),ju=0;function qu(t,e,n){return t.call.apply(t.bind,arguments)}function Bu(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Gu(t,e,n){return(Gu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?qu:Bu).apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Hu(){return Date.now()}function Zu(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Ku(){this.j=this.j,this.i=this.i}Ku.prototype.j=!1,Ku.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Vu)&&t[Vu]||(t[Vu]=++ju)}(this)},Ku.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var $u=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Wu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Ju(t){return Array.prototype.concat.apply([],arguments)}function Qu(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Yu(t){return/^[\s\xa0]*$/.test(t)}var Xu,tc=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ec(t,e){return-1!=t.indexOf(e)}function nc(t,e){return t<e?-1:t>e?1:0}t:{var rc=Lu.navigator;if(rc){var ic=rc.userAgent;if(ic){Xu=ic;break t}}Xu=""}function oc(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function sc(t){var e={};for(var n in t)e[n]=t[n];return e}var ac="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uc(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ac.length;o++)n=ac[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function cc(t){return cc[" "](t),t}cc[" "]=Uu;var lc,hc,dc=ec(Xu,"Opera"),fc=ec(Xu,"Trident")||ec(Xu,"MSIE"),pc=ec(Xu,"Edge"),mc=pc||fc,gc=ec(Xu,"Gecko")&&!(ec(Xu.toLowerCase(),"webkit")&&!ec(Xu,"Edge"))&&!(ec(Xu,"Trident")||ec(Xu,"MSIE"))&&!ec(Xu,"Edge"),yc=ec(Xu.toLowerCase(),"webkit")&&!ec(Xu,"Edge");function vc(){var t=Lu.document;return t?t.documentMode:void 0}t:{var bc="",wc=(hc=Xu,gc?/rv:([^\);]+)(\)|;)/.exec(hc):pc?/Edge\/([\d\.]+)/.exec(hc):fc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(hc):yc?/WebKit\/(\S+)/.exec(hc):dc?/(?:Version)[ \/]?(\S+)/.exec(hc):void 0);if(wc&&(bc=wc?wc[1]:""),fc){var _c=vc();if(null!=_c&&_c>parseFloat(bc)){lc=String(_c);break t}}lc=bc}var Cc={};function Tc(t){return function(t,e){var n=Cc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=tc(String(lc)).split("."),r=tc(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=nc(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||nc(0==s[2].length,0==a[2].length)||nc(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e})}var Ec=Lu.document&&fc&&(vc()||parseInt(lc,10))||void 0,xc=!fc||9<=Number(Ec),Sc=fc&&!Tc("9"),Ac=function(){if(!Lu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Lu.addEventListener("test",Uu,e),Lu.removeEventListener("test",Uu,e)}catch(n){}return t}();function Ic(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function kc(t,e){if(Ic.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(gc){t:{try{cc(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Oc[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ic.prototype.b=function(){this.defaultPrevented=!0},Zu(kc,Ic);var Oc={2:"touch",3:"pen",4:"mouse"};kc.prototype.b=function(){kc.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Sc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Pc="closure_listenable_"+(1e6*Math.random()|0),Rc=0;function Nc(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Rc,this.Y=this.Z=!1}function Dc(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Lc(t){this.src=t,this.a={},this.b=0}function Uc(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=$u(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Dc(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Mc(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Lc.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Mc(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Nc(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Fc="closure_lm_"+(1e6*Math.random()|0),Vc={};function jc(t,e,n,r,i){if(r&&r.once)return Bc(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)jc(t,e[o],n,r,i);return null}return n=Jc(n),t&&t[Pc]?t.va(e,n,Fu(r)?!!r.capture:!!r,i):qc(t,e,n,!1,r,i)}function qc(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fu(i)?!!i.capture:!!i;if(s&&!xc)return null;var a=$c(t);if(a||(t[Fc]=a=new Lc(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Kc,e=xc?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ac||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Hc(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Bc(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bc(t,e[o],n,r,i);return null}return n=Jc(n),t&&t[Pc]?t.wa(e,n,Fu(r)?!!r.capture:!!r,i):qc(t,e,n,!0,r,i)}function Gc(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Gc(t,e[o],n,r,i);else r=Fu(r)?!!r.capture:!!r,n=Jc(n),t&&t[Pc]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=Mc(o=t.a[e],n,r,i))&&(Dc(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--))):t&&(t=$c(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Mc(e,n,r,i)),(n=-1<t?e[t]:null)&&zc(n))}function zc(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Pc])Uc(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Hc(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$c(e))?(Uc(n,t),0==n.b&&(n.src=null,e[Fc]=null)):Dc(t)}}}function Hc(t){return t in Vc?Vc[t]:Vc[t]="on"+t}function Zc(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zc(t),n.call(r,e)}function Kc(t,e){if(t.Y)return!0;if(!xc){if(!e)t:{e=["window","event"];for(var n=Lu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Zc(t,e=new kc(e,this))}return Zc(t,new kc(e,this))}function $c(t){return(t=t[Fc])instanceof Lc?t:null}var Wc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jc(t){return"function"==typeof t?t:(t[Wc]||(t[Wc]=function(e){return t.handleEvent(e)}),t[Wc])}function Qc(){Ku.call(this),this.c=new Lc(this),this.J=this,this.C=null}function Yc(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Ic(e,t);else if(e instanceof Ic)e.target=e.target||t;else{var i=e;uc(e=new Ic(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=Xc(s,r,!0,e)&&i}if(i=Xc(s=e.a=t,r,!0,e)&&i,i=Xc(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Xc(s=e.a=n[o],r,!1,e)&&i}function Xc(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Uc(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Zu(Qc,Ku),Qc.prototype[Pc]=!0,(Ru=Qc.prototype).addEventListener=function(t,e,n,r){jc(this,t,e,n,r)},Ru.removeEventListener=function(t,e,n,r){Gc(this,t,e,n,r)},Ru.G=function(){if(Qc.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Dc(n[r]);delete e.a[t],e.b--}}this.C=null},Ru.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ru.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var tl=Lu.JSON.stringify;function el(){this.b=this.a=null}var nl,rl=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new ol},function(t){t.reset()});function il(){var t=cl,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function ol(){this.next=this.b=this.a=null}function sl(t){Lu.setTimeout(function(){throw t},0)}function al(t,e){nl||function(){var t=Lu.Promise.resolve(void 0);nl=function(){t.then(ll)}}(),ul||(nl(),ul=!0),cl.add(t,e)}el.prototype.add=function(t,e){var n=rl.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},ol.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},ol.prototype.reset=function(){this.next=this.b=this.a=null};var ul=!1,cl=new el;function ll(){for(var t;t=il();){try{t.a.call(t.b)}catch(n){sl(n)}var e=rl;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}ul=!1}function hl(t,e){Qc.call(this),this.b=t||1,this.a=e||Lu,this.f=Gu(this.Za,this),this.g=Hu()}function dl(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function fl(t,e,n){if("function"==typeof t)n&&(t=Gu(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Gu(t.handleEvent,t)}return 2147483647<Number(e)?-1:Lu.setTimeout(t,e||0)}function pl(t){t.a=fl(function(){t.a=null,t.c&&(t.c=!1,pl(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Zu(hl,Qc),(Ru=hl.prototype).aa=!1,Ru.M=null,Ru.Za=function(){if(this.aa){var t=Hu()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Yc(this,"tick"),this.aa&&(dl(this),this.start()))}},Ru.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Hu())},Ru.G=function(){hl.X.G.call(this),dl(this),delete this.a};var ml=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ou(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:pl(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Lu.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Ku);function gl(t){Ku.call(this),this.b=t,this.a={}}Zu(gl,Ku);var yl=[];function vl(t,e,n,r){Array.isArray(n)||(n&&(yl[0]=n.toString()),n=yl);for(var i=0;i<n.length;i++){var o=jc(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function bl(t){oc(t.a,function(t,e){this.a.hasOwnProperty(e)&&zc(t)},t),t.a={}}function wl(){this.a=!0}function _l(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return tl(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}gl.prototype.G=function(){gl.X.G.call(this),bl(this)},gl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},wl.prototype.info=function(){};var Cl={},Tl=null;function El(){return Tl=Tl||new Qc}function xl(t){Ic.call(this,Cl.Fa,t)}function Sl(t){var e=El();Yc(e,new xl(e,t))}function Al(t,e){Ic.call(this,Cl.STAT_EVENT,t),this.stat=e}function Il(t){var e=El();Yc(e,new Al(e,t))}function kl(t){Ic.call(this,Cl.Ga,t)}function Ol(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Lu.setTimeout(function(){t()},e)}Cl.Fa="serverreachability",Zu(xl,Ic),Cl.STAT_EVENT="statevent",Zu(Al,Ic),Cl.Ga="timingevent",Zu(kl,Ic);var Pl={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Rl={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Nl(){}function Dl(){}Nl.prototype.a=null;var Ll,Ul={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function Ml(){Ic.call(this,"d")}function Fl(){Ic.call(this,"c")}function Vl(){}function jl(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new gl(this),this.P=ql,this.R=new hl(t=mc?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Zu(Ml,Ic),Zu(Fl,Ic),Zu(Vl,Nl),Ll=new Vl;var ql=45e3,Bl={},Gl={};function zl(t,e,n){t.H=1,t.i=dh(sh(e)),t.j=n,t.I=!0,Hl(t,null)}function Hl(t,e){t.u=Hu(),$l(t),t.l=sh(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),xh(n.b,"t",r),t.D=0,t.a=bd(t.g,t.g.C?e:null),0<t.O&&(t.F=new ml(Gu(t.Ca,t,t.a),t.O)),vl(t.J,t.a,"readystatechange",t.Xa),e=t.B?sc(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Sl(1),function(t,e,n,r,i,o){t.info(function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s})}(t.c,t.m,t.l,t.f,t.S,t.j)}function Zl(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Kl(t,n);if(i==Gl){4==e&&(t.h=4,Il(14),r=!1),_l(t.c,t.f,null,"[Incomplete Response]");break}if(i==Bl){t.h=4,Il(15),_l(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}_l(t.c,t.f,i,null),Xl(t,i)}4==e&&0==n.length&&(t.h=1,Il(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),hd(e),e.F=!0,Il(11))):(_l(t.c,t.f,n,"[Invalid Chunked Response]"),Yl(t),Ql(t))}function Kl(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Gl:(n=Number(e.substring(n,r)),isNaN(n)?Bl:(r+=1)+n>e.length?Gl:(e=e.substr(r,n),t.D=r+n,e))}function $l(t){t.T=Hu()+t.P,Wl(t,t.P)}function Wl(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Ol(Gu(t.Va,t),e)}function Jl(t){t.o&&(Lu.clearTimeout(t.o),t.o=null)}function Ql(t){0==t.g.v||t.A||pd(t.g,t)}function Yl(t){Jl(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,dl(t.R),bl(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Xl(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Rh(n.b,t)))if(n.I=t.N,!t.C&&Rh(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(tC){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;fd(n),nd(n)}ld(n),Il(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Ol(Gu(n.Sa,n),6e3));if(1>=Ph(n.b)&&n.ea){try{n.ea()}catch(tC){}n.ea=void 0}}else gd(n,11)}else if((t.C||n.a==t)&&fd(n),!Yu(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ec(l,"spdy")||ec(l,"quic")||ec(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Nh(h,h.b),h.b=null))}if(u.A){var d=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;d&&(u.na=d,hh(u.B,u.A,d))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Hu()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var f=t;if((u=n).la=vd(u,u.C?u.ga:null,u.fa),f.C){Dh(u.b,f);var p=f,m=u.D;m&&p.setTimeout(m),p.o&&(Jl(p),$l(p)),u.a=f}else cd(u);0<n.g.length&&od(n)}else"stop"!=i[0]&&"close"!=i[0]||gd(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?gd(n,7):ed(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Sl(4)}catch(tC){}}function th(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Mu(t)||"string"==typeof t)Wu(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Mu(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Mu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function eh(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof eh)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function nh(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];rh(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)rh(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function rh(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ru=jl.prototype).setTimeout=function(t){this.P=t},Ru.Xa=function(t){t=t.target;var e=this.F;e&&3==Qh(t)?e.f():this.Ca(t)},Ru.Ca=function(t){try{if(t==this.a)t:{var e=Qh(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!mc&&!this.a.$())){this.A||4!=e||7==n||Sl(8==n||0>=r?3:2),Jl(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Yu(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Il(12),Yl(this),Ql(this);break t}_l(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Xl(this,u)}this.I?(Zl(this,e,o),mc&&this.b&&3==e&&(vl(this.J,this.R,"tick",this.Wa),this.R.start())):(_l(this.c,this.f,o,null),Xl(this,o)),4==e&&Yl(this),this.b&&!this.A&&(4==e?pd(this.g,this):(this.b=!1,$l(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Il(12)):(this.h=0,Il(13)),Yl(this),Ql(this)}}}catch(c){}},Ru.Wa=function(){if(this.a){var t=Qh(this.a),e=this.a.$();this.D<e.length&&(Jl(this),Zl(this,t,e),this.b&&4!=t&&$l(this))}},Ru.cancel=function(){this.A=!0,Yl(this)},Ru.Va=function(){this.o=null;var t=Hu();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(Sl(3),Il(17)),Yl(this),this.h=2,Ql(this)):Wl(this,this.T-t)},(Ru=eh.prototype).K=function(){nh(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ru.L=function(){return nh(this),this.a.concat()},Ru.get=function(t,e){return rh(this.b,t)?this.b[t]:e},Ru.set=function(t,e){rh(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ru.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ih=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function oh(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof oh){this.a=void 0!==e?e:t.a,ah(this,t.f),this.j=t.j,uh(this,t.c),ch(this,t.h),this.g=t.g,e=t.b;var n=new _h;n.c=e.c,e.a&&(n.a=new eh(e.a),n.b=e.b),lh(this,n),this.i=t.i}else t&&(n=String(t).match(ih))?(this.a=!!e,ah(this,n[1]||"",!0),this.j=fh(n[2]||""),uh(this,n[3]||"",!0),ch(this,n[4]),this.g=fh(n[5]||"",!0),lh(this,n[6]||"",!0),this.i=fh(n[7]||"")):(this.a=!!e,this.b=new _h(null,this.a))}function sh(t){return new oh(t)}function ah(t,e,n){t.f=n?fh(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function uh(t,e,n){t.c=n?fh(e,!0):e}function ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function lh(t,e,n){e instanceof _h?(t.b=e,function(t,e){e&&!t.f&&(Ch(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Th(this,e),xh(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=ph(e,bh)),t.b=new _h(e,t.a))}function hh(t,e,n){t.b.set(e,n)}function dh(t){return hh(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Hu()).toString(36)),t}function fh(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ph(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,mh),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function mh(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}oh.prototype.toString=function(){var t=[],e=this.f;e&&t.push(ph(e,gh,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(ph(e,gh,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(ph(n,"/"==n.charAt(0)?vh:yh,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",ph(n,wh)),t.join("")};var gh=/[#\/\?@]/g,yh=/[#\?:]/g,vh=/[#\?]/g,bh=/[#\?@]/g,wh=/#/g;function _h(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Ch(t){t.a||(t.a=new eh,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Th(t,e){Ch(t),e=Sh(t,e),rh(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,rh((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&nh(t)))}function Eh(t,e){return Ch(t),e=Sh(t,e),rh(t.a.b,e)}function xh(t,e,n){Th(t,e),0<n.length&&(t.c=null,t.a.set(Sh(t,e),Qu(n)),t.b+=n.length)}function Sh(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ru=_h.prototype).add=function(t,e){Ch(this),this.c=null,t=Sh(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ru.forEach=function(t,e){Ch(this),this.a.forEach(function(n,r){Wu(n,function(n){t.call(e,n,r,this)},this)},this)},Ru.L=function(){Ch(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ru.K=function(t){Ch(this);var e=[];if("string"==typeof t)Eh(this,t)&&(e=Ju(e,this.a.get(Sh(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Ju(e,t[n])}return e},Ru.set=function(t,e){return Ch(this),this.c=null,Eh(this,t=Sh(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ru.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ru.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Ah=function(){return function(t,e){this.b=t,this.a=e}}();function Ih(t){this.g=t||kh,t=Lu.PerformanceNavigationTiming?0<(t=Lu.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Lu.ia&&Lu.ia.ya&&Lu.ia.ya()&&Lu.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var kh=10;function Oh(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ph(t){return t.b?1:t.a?t.a.size:0}function Rh(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Nh(t,e){t.a?t.a.add(e):t.b=e}function Dh(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Lh(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Pu(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Qu(t.c)}function Uh(){}function Mh(){this.a=new Uh}function Fh(t,e,n){var r=n||"";try{th(t,function(t,n){var i=t;Fu(t)&&(i=tl(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(MC){throw e.push(r+"type="+encodeURIComponent("_badmap")),MC}}function Vh(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}Ih.prototype.cancel=function(){var t,e;if(this.c=Lh(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Pu(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Uh.prototype.stringify=function(t){return Lu.JSON.stringify(t,void 0)},Uh.prototype.parse=function(t){return Lu.JSON.parse(t,void 0)};var jh=Lu.JSON.parse;function qh(t){Qc.call(this),this.headers=new eh,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Bh,this.D=this.F=!1}Zu(qh,Qc);var Bh="",Gh=/^https?$/i,zh=["POST","PUT"];function Hh(t){return"content-type"==t.toLowerCase()}function Zh(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Kh(t),Wh(t)}function Kh(t){t.u||(t.u=!0,Yc(t,"complete"),Yc(t,"error"))}function $h(t){if(t.b&&void 0!==Du&&(!t.s[1]||4!=Qh(t)||2!=t.W()))if(t.l&&4==Qh(t))fl(t.za,0,t);else if(Yc(t,"readystatechange"),4==Qh(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ih)[1]||null;if(!o&&Lu.self&&Lu.self.location){var s=Lu.self.location.protocol;o=s.substr(0,s.length-1)}i=!Gh.test(o?o.toLowerCase():"")}e=i}if(e)Yc(t,"complete"),Yc(t,"success");else{t.h=6;try{var a=2<Qh(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Kh(t)}}finally{Wh(t)}}}function Wh(t,e){if(t.a){Jh(t);var n=t.a,r=t.s[0]?Uu:null;t.a=null,t.s=null,e||Yc(t,"ready");try{n.onreadystatechange=r}catch(MC){}}}function Jh(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Lu.clearTimeout(t.m),t.m=null)}function Qh(t){return t.a?t.a.readyState:0}function Yh(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return oc(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hh(t,e,n))}function Xh(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function td(t){this.pa=0,this.g=[],this.c=new wl,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=Xh("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=Xh("baseRetryDelayMs",5e3,t),this.Ra=Xh("retryDelaySeedMs",1e4,t),this.Ma=Xh("forwardChannelMaxRetries",2,t),this.ma=Xh("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Ih(t&&t.concurrentRequestLimit),this.ka=new Mh,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function ed(t){if(rd(t),3==t.v){var e=t.R++,n=sh(t.B);hh(n,"SID",t.J),hh(n,"RID",e),hh(n,"TYPE","terminate"),ad(t,n),(e=new jl(t,t.c,e,void 0)).H=2,e.i=dh(sh(n)),n=!1,Lu.navigator&&Lu.navigator.sendBeacon&&(n=Lu.navigator.sendBeacon(e.i.toString(),"")),!n&&Lu.Image&&((new Image).src=e.i,n=!0),n||(e.a=bd(e.g,null),e.a.ba(e.i)),e.u=Hu(),$l(e)}yd(t)}function nd(t){t.a&&(hd(t),t.a.cancel(),t.a=null)}function rd(t){nd(t),t.j&&(Lu.clearTimeout(t.j),t.j=null),fd(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Lu.clearTimeout(t.h),t.h=null)}function id(t,e){t.g.push(new Ah(t.Oa++,e)),3==t.v&&od(t)}function od(t){Oh(t.b)||t.h||(t.h=!0,al(t.Ba,t),t.u=0)}function sd(t,e){var n;n=e?e.f:t.R++;var r=sh(t.B);hh(r,"SID",t.J),hh(r,"RID",n),hh(r,"AID",t.P),ad(t,r),t.i&&t.l&&Yh(r,t.i,t.l),n=new jl(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ud(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Nh(t.b,n),zl(n,r,e)}function ad(t,e){t.f&&th({},function(t,n){hh(e,n,t)})}function ud(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Gu(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Fh(l,s,"req"+c+"_")}catch(Wd){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function cd(t){t.a||t.j||(t.T=1,al(t.Aa,t),t.o=0)}function ld(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Ol(Gu(t.Aa,t),md(t,t.o)),t.o++,0))}function hd(t){null!=t.s&&(Lu.clearTimeout(t.s),t.s=null)}function dd(t){t.a=new jl(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=sh(t.la);hh(e,"RID","rpc"),hh(e,"SID",t.J),hh(e,"CI",t.H?"0":"1"),hh(e,"AID",t.P),ad(t,e),hh(e,"TYPE","xmlhttp"),t.i&&t.l&&Yh(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=dh(sh(e)),n.j=null,n.I=!0,Hl(n,t)}function fd(t){null!=t.m&&(Lu.clearTimeout(t.m),t.m=null)}function pd(t,e){var n=null;if(t.a==e){fd(t),hd(t),t.a=null;var r=2}else{if(!Rh(t.b,e))return;n=e.s,Dh(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Hu()-e.u;var i=t.u;Yc(r=El(),new kl(r,n,e,i)),od(t)}else cd(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ph(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Ol(Gu(t.Ba,t,e),md(t,t.u)),t.u++,0)))}(t,e)||2==r&&ld(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:gd(t,5);break;case 4:gd(t,10);break;case 3:gd(t,6);break;default:gd(t,2)}}function md(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function gd(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Gu(t.Ya,t);n||(n=new oh("//www.google.com/images/cleardot.gif"),Lu.location&&"http"==Lu.location.protocol||ah(n,"https"),dh(n)),function(t,e){var n=new wl;if(Lu.Image){var r=new Image;r.onload=zu(Vh,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Vh,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Vh,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Vh,n,r,"TestLoadImage: timeout",!1,e),Lu.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Il(2);t.v=0,t.f&&t.f.ra(e),yd(t),rd(t)}function yd(t){t.v=0,t.I=-1,t.f&&(0==Lh(t.b).length&&0==t.g.length||(t.b.c.length=0,Qu(t.g),t.g.length=0),t.f.qa())}function vd(t,e,n){var r=function(t){return t instanceof oh?sh(t):new oh(t,void 0)}(n);if(""!=r.c)e&&uh(r,e+"."+r.c),ch(r,r.h);else{var i=Lu.location;r=function(t,e,n,r){var i=new oh(null,void 0);return t&&ah(i,t),e&&uh(i,e),n&&ch(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&oc(t.V,function(t,e){hh(r,e,t)}),n=t.na,(e=t.A)&&n&&hh(r,e,n),hh(r,"VER",t.ha),ad(t,r),r}function bd(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qh(t.Na)).F=t.C,e}function wd(){}function _d(){if(fc&&!(10<=Number(Ec)))throw Error("Environmental error: no available transport.")}function Cd(t,e){Qc.call(this),this.a=new td(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Yu(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Yu(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new xd(this)}function Td(t){Ml.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ed(){Fl.call(this),this.status=1}function xd(t){this.a=t}(Ru=qh.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:Ll),this.a.onreadystatechange=Gu(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Zh(this,o)}t=n||"";var i=new eh(this.headers);r&&th(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=Hh,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Lu.FormData&&t instanceof Lu.FormData,!(0<=$u(zh,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Jh(this),0<this.o&&((this.D=function(t){return fc&&Tc(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Gu(this.xa,this)):this.m=fl(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Zh(this,o)}},Ru.xa=function(){void 0!==Du&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Yc(this,"timeout"),this.abort(8))},Ru.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Yc(this,"complete"),Yc(this,"abort"),Wh(this))},Ru.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Wh(this,!0)),qh.X.G.call(this)},Ru.za=function(){this.j||(this.A||this.l||this.g?$h(this):this.Ua())},Ru.Ua=function(){$h(this)},Ru.W=function(){try{return 2<Qh(this)?this.a.status:-1}catch(hc){return-1}},Ru.$=function(){try{return this.a?this.a.responseText:""}catch(hc){return""}},Ru.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jh(e)}},Ru.ua=function(){return this.h},Ru.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ru=td.prototype).ha=8,Ru.v=1,Ru.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new jl(this,this.c,t,void 0),r=this.l;if(this.O&&(r?uc(r=sc(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ud(this,n,e),hh(i=sh(this.B),"RID",t),hh(i,"CVER",22),this.A&&hh(i,"X-HTTP-Session-Id",this.A),ad(this,i),this.i&&r&&Yh(i,this.i,r),Nh(this.b,n),this.Ia&&hh(i,"TYPE","init"),this.da?(hh(i,"$req",e),hh(i,"SID","null"),n.U=!0,zl(n,i,null)):zl(n,i,e),this.v=2}}else 3==this.v&&(t?sd(this,t):0==this.g.length||Oh(this.b)||sd(this))},Ru.Aa=function(){if(this.j=null,dd(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Ol(Gu(this.Ta,this),t)}},Ru.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,Il(10),nd(this),dd(this))},Ru.Sa=function(){null!=this.m&&(this.m=null,nd(this),ld(this),Il(19))},Ru.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),Il(2)):(this.c.info("Failed to ping google.com"),Il(1))},(Ru=wd.prototype).ta=function(){},Ru.sa=function(){},Ru.ra=function(){},Ru.qa=function(){},Ru.Ja=function(){},_d.prototype.a=function(t,e){return new Cd(t,e)},Zu(Cd,Qc),Cd.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;Il(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=vd(t,null,t.fa),od(t)},Cd.prototype.close=function(){ed(this.a)},Cd.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,id(this.a,e)}else this.l?((e={}).__data__=tl(t),id(this.a,e)):id(this.a,t)},Cd.prototype.G=function(){this.a.f=null,delete this.f,ed(this.a),delete this.a,Cd.X.G.call(this)},Zu(Td,Ml),Zu(Ed,Fl),Zu(xd,wd),xd.prototype.ta=function(){Yc(this.a,"a")},xd.prototype.sa=function(t){Yc(this.a,new Td(t))},xd.prototype.ra=function(t){Yc(this.a,new Ed(t))},xd.prototype.qa=function(){Yc(this.a,"b")},_d.prototype.createWebChannel=_d.prototype.a,Cd.prototype.send=Cd.prototype.h,Cd.prototype.open=Cd.prototype.g,Cd.prototype.close=Cd.prototype.close,Pl.NO_ERROR=0,Pl.TIMEOUT=8,Pl.HTTP_ERROR=6,Rl.COMPLETE="complete",Dl.EventType=Ul,Ul.OPEN="a",Ul.CLOSE="b",Ul.ERROR="c",Ul.MESSAGE="d",Qc.prototype.listen=Qc.prototype.va,qh.prototype.listenOnce=qh.prototype.wa,qh.prototype.getLastError=qh.prototype.Qa,qh.prototype.getLastErrorCode=qh.prototype.ua,qh.prototype.getStatus=qh.prototype.W,qh.prototype.getResponseJson=qh.prototype.Pa,qh.prototype.getResponseText=qh.prototype.$,qh.prototype.send=qh.prototype.ba;var Sd=Pl,Ad=Rl,Id=Cl,kd=Dl,Od=qh,Pd=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Pd.o=-1;var Rd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Nd=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,Os.ZT)(e,t),e}(Error),Dd=new ku.Yd("@firebase/firestore");function Ld(){return Dd.logLevel}function Ud(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dd.logLevel<=ku.in.DEBUG){var r=e.map(Vd);Dd.debug.apply(Dd,(0,Os.ev)(["Firestore (8.5.0): "+t],r))}}function Md(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dd.logLevel<=ku.in.ERROR){var r=e.map(Vd);Dd.error.apply(Dd,(0,Os.ev)(["Firestore (8.5.0): "+t],r))}}function Fd(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Dd.logLevel<=ku.in.WARN){var r=e.map(Vd);Dd.warn.apply(Dd,(0,Os.ev)(["Firestore (8.5.0): "+t],r))}}function Vd(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(MC){return t}}function jd(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.5.0) INTERNAL ASSERTION FAILED: "+t;throw Md(e),new Error(e)}function qd(t,e){t||jd()}function Bd(t,e){return t}function Gd(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var zd=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Gd(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Hd(t,e){return t<e?-1:t>e?1:0}function Zd(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function Kd(t){return t+"\0"}var $d=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Nd(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Nd(Rd.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Nd(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Nd(Rd.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Hd(this.nanoseconds,t.nanoseconds):Hd(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Wd=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new $d(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Jd(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qd(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Yd(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Xd=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&jd(),void 0===n?n=t.length-e:n>t.length-e&&jd(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),tf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Xd),ef=/^[_a-zA-Z][_a-zA-Z0-9]*$/,nf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return ef.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Nd(Rd.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Nd(Rd.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Nd(Rd.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Xd),rf=function(){function t(t){this.fields=t,t.sort(nf.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Zd(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),of=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.binaryString)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Hd(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();of.EMPTY_BYTE_STRING=new of("");var sf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function af(t){if(qd(!!t),"string"==typeof t){var e=0,n=sf.exec(t);if(qd(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:uf(t.seconds),nanos:uf(t.nanos)}}function uf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function cf(t){return"string"==typeof t?of.fromBase64String(t):of.fromUint8Array(t)}function lf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function hf(t){var e=t.mapValue.fields.__previous_value__;return lf(e)?hf(e):e}function df(t){var e=af(t.mapValue.fields.__local_write_time__.timestampValue);return new $d(e.seconds,e.nanos)}function ff(t){return null==t}function pf(t){return 0===t&&1/t==-1/0}function mf(t){return"number"==typeof t&&Number.isInteger(t)&&!pf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var gf=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(tf.fromString(e))},t.fromName=function(e){return new t(tf.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===tf.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return tf.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new tf(e.slice()))},t}();function yf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?lf(t)?4:10:jd()}function vf(t,e){var n=yf(t);if(n!==yf(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return df(t).isEqual(df(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=af(t.timestampValue),r=af(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return cf(t.bytesValue).isEqual(cf(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return uf(t.geoPointValue.latitude)===uf(e.geoPointValue.latitude)&&uf(t.geoPointValue.longitude)===uf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return uf(t.integerValue)===uf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=uf(t.doubleValue),r=uf(e.doubleValue);return n===r?pf(n)===pf(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Zd(t.arrayValue.values||[],e.arrayValue.values||[],vf);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Jd(n)!==Jd(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!vf(n[i],r[i])))return!1;return!0}(t,e);default:return jd()}}function bf(t,e){return void 0!==(t.values||[]).find(function(t){return vf(t,e)})}function wf(t,e){var n=yf(t),r=yf(e);if(n!==r)return Hd(n,r);switch(n){case 0:return 0;case 1:return Hd(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=uf(t.integerValue||t.doubleValue),r=uf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return _f(t.timestampValue,e.timestampValue);case 4:return _f(df(t),df(e));case 5:return Hd(t.stringValue,e.stringValue);case 6:return function(t,e){var n=cf(t),r=cf(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Hd(n[i],r[i]);if(0!==o)return o}return Hd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Hd(uf(t.latitude),uf(e.latitude));return 0!==n?n:Hd(uf(t.longitude),uf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=wf(n[i],r[i]);if(o)return o}return Hd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=Hd(r[s],o[s]);if(0!==a)return a;var u=wf(n[r[s]],i[o[s]]);if(0!==u)return u}return Hd(r.length,o.length)}(t.mapValue,e.mapValue);default:throw jd()}}function _f(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Hd(t,e);var n=af(t),r=af(e),i=Hd(n.seconds,r.seconds);return 0!==i?i:Hd(n.nanos,r.nanos)}function Cf(t){return Tf(t)}function Tf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=af(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?cf(t.bytesValue).toBase64():"referenceValue"in t?gf.fromName(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=Tf(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+Tf(t.fields[o])}return e+"}"}(t.mapValue):jd();var e}function Ef(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function xf(t){return!!t&&"integerValue"in t}function Sf(t){return!!t&&"arrayValue"in t}function Af(t){return!!t&&"nullValue"in t}function If(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function kf(t){return!!t&&"mapValue"in t}var Of=function(){function t(t){this.overlayMap=new Map,this.partialValue=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(e){return t.extractNestedValue(this.buildProto(),e)},t.prototype.toProto=function(){return this.field(nf.emptyPath())},t.prototype.set=function(t,e){this.setOverlay(t,e)},t.prototype.setAll=function(t){var e=this;t.forEach(function(t,n){t?e.set(n,t):e.delete(n)})},t.prototype.delete=function(t){this.setOverlay(t,null)},t.prototype.isEqual=function(t){return vf(this.buildProto(),t.buildProto())},t.prototype.setOverlay=function(t,e){for(var n=this.overlayMap,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===yf(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.lastSegment(),e)},t.prototype.applyOverlay=function(e,n){var r=this,i=!1,o=t.extractNestedValue(this.partialValue,e),s=kf(o)?Object.assign({},o.mapValue.fields):{};return n.forEach(function(t,n){if(t instanceof Map){var o=r.applyOverlay(e.child(n),t);null!=o&&(s[n]=o,i=!0)}else null!==t?(s[n]=t,i=!0):s.hasOwnProperty(n)&&(delete s[n],i=!0)}),i?{mapValue:{fields:s}}:null},t.prototype.buildProto=function(){var t=this.applyOverlay(nf.emptyPath(),this.overlayMap);return null!=t&&(this.partialValue=t,this.overlayMap.clear()),this.partialValue},t.extractNestedValue=function(t,e){if(e.isEmpty())return t;for(var n=t,r=0;r<e.length-1;++r){if(!n.mapValue.fields)return null;if(!kf(n=n.mapValue.fields[e.get(r)]))return null}return(n=(n.mapValue.fields||{})[e.lastSegment()])||null},t.prototype.clone=function(){return new t(this.buildProto())},t}();function Pf(t){var e=[];return Qd(t.fields||{},function(t,n){var r=new nf([t]);if(kf(n)){var i=Pf(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)}),new rf(e)}var Rf=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Wd.min(),Of.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,Of.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,Of.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=Of.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=Of.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.toProto())+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Nf=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.h=null};function Df(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new Nf(t,e,n,r,i,o,s)}function Lf(t){var e=Bd(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.canonicalString()+t.op.toString()+Cf(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.canonicalString()+t.dir}(t)}).join(","),ff(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=$f(e.startAt)),e.endAt&&(n+="|ub:",n+=$f(e.endAt)),e.h=n}return e.h}function Uf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Jf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!vf(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Yf(t.startAt,e.startAt)&&Yf(t.endAt,e.endAt)}function Mf(t){return gf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Ff=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,Os.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Vf(t,n,r):"array-contains"===n?new Gf(t,r):"in"===n?new zf(t,r):"not-in"===n?new Hf(t,r):"array-contains-any"===n?new Zf(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new jf(t,n):new qf(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(wf(e,this.value)):null!==e&&yf(this.value)===yf(e)&&this.m(wf(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return jd()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Vf=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gf.fromName(r.referenceValue),i}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){var e=gf.comparator(t.key,this.key);return this.m(e)},e}(Ff),jf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Bf(0,n),r}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ff),qf=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Bf(0,n),r}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Ff);function Bf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return gf.fromName(t.referenceValue)})}var Gf=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return Sf(e)&&bf(e.arrayValue,this.value)},e}(Ff),zf=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&bf(this.value.arrayValue,e)},e}(Ff),Hf=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){if(bf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!bf(this.value.arrayValue,e)},e}(Ff),Zf=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,Os.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!Sf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return bf(e.value.arrayValue,t)})},e}(Ff),Kf=function(t,e){this.position=t,this.before=e};function $f(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return Cf(t)}).join(",")}var Wf=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Jf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Qf(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.isKeyField()?gf.comparator(gf.fromName(s.referenceValue),n.key):wf(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Yf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!vf(t.position[n],e.position[n]))return!1;return!0}var Xf=function(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.p=null,this.T=null};function tp(t,e,n,r,i,o,s,a){return new Xf(t,e,n,r,i,o,s,a)}function ep(t){return new Xf(t)}function np(t){return!ff(t.limit)&&"F"===t.limitType}function rp(t){return!ff(t.limit)&&"L"===t.limitType}function ip(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function op(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function sp(t){return null!==t.collectionGroup}function ap(t){var e=Bd(t);if(null===e.p){e.p=[];var n=op(e),r=ip(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Wf(n)),e.p.push(new Wf(nf.keyField(),"asc"));else{for(var i=!1,o=0,s=e.explicitOrderBy;o<s.length;o++){var a=s[o];e.p.push(a),a.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Wf(nf.keyField(),u))}}}return e.p}function up(t){var e=Bd(t);if(!e.T)if("F"===e.limitType)e.T=Df(e.path,e.collectionGroup,ap(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=ap(e);r<i.length;r++){var o=i[r];n.push(new Wf(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new Kf(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Kf(e.startAt.position,!e.startAt.before):null;e.T=Df(e.path,e.collectionGroup,n,e.filters,e.limit,s,a)}return e.T}function cp(t,e,n){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function lp(t,e){return Uf(up(t),up(e))&&t.limitType===e.limitType}function hp(t){return Lf(up(t))+"|lt:"+t.limitType}function dp(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.canonicalString()+" "+e.op+" "+Cf(e.value);var e}).join(", ")+"]"),ff(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+$f(t.startAt)),t.endAt&&(e+=", endAt: "+$f(t.endAt)),"Target("+e+")"}(up(t))+"; limitType="+t.limitType+")"}function fp(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):gf.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Qf(t.startAt,ap(t),e)||t.endAt&&Qf(t.endAt,ap(t),e))}(t,e)}function pp(t){return function(e,n){for(var r=!1,i=0,o=ap(t);i<o.length;i++){var s=o[i],a=mp(s,e,n);if(0!==a)return a;r=r||s.field.isKeyField()}return 0}}function mp(t,e,n){var r=t.field.isKeyField()?gf.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?wf(r,i):jd()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return jd()}}function gp(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pf(e)?"-0":e}}function yp(t){return{integerValue:""+t}}function vp(t,e){return mf(e)?yp(e):gp(t,e)}var bp=function(){this._=void 0};function wp(t,e,n){return t instanceof Tp?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ep?xp(t,e):t instanceof Sp?Ap(t,e):function(t,e){var n=Cp(t,e),r=kp(n)+kp(t.A);return xf(n)&&xf(t.A)?yp(r):gp(t.R,r)}(t,e)}function _p(t,e,n){return t instanceof Ep?xp(t,e):t instanceof Sp?Ap(t,e):n}function Cp(t,e){return t instanceof Ip?xf(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Tp=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e}(bp),Ep=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Os.ZT)(e,t),e}(bp);function xp(t,e){for(var n=Op(e),r=function(t){n.some(function(e){return vf(e,t)})||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Sp=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,Os.ZT)(e,t),e}(bp);function Ap(t,e){for(var n=Op(e),r=function(t){n=n.filter(function(e){return!vf(e,t)})},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ip=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,Os.ZT)(e,t),e}(bp);function kp(t){return uf(t.integerValue||t.doubleValue)}function Op(t){return Sf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Pp=function(t,e){this.field=t,this.transform=e},Rp=function(t,e){this.version=t,this.transformResults=e},Np=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Dp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Lp=function(){};function Up(t,e,n){t instanceof qp?function(t,e,n){var r=t.value.clone(),i=zp(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Bp?function(t,e,n){if(Dp(t.precondition,e)){var r=zp(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Gp(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Mp(t,e,n){t instanceof qp?function(t,e,n){if(Dp(t.precondition,e)){var r=t.value.clone(),i=Hp(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(jp(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Bp?function(t,e,n){if(Dp(t.precondition,e)){var r=Hp(t.fieldTransforms,n,e),i=e.data;i.setAll(Gp(t)),i.setAll(r),e.convertToFoundDocument(jp(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){Dp(t.precondition,e)&&e.convertToNoDocument(Wd.min())}(t,e)}function Fp(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e.data.field(o.field),a=Cp(o.transform,s||null);null!=a&&(null==n&&(n=Of.empty()),n.set(o.field,a))}return n||null}function Vp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Zd(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ep&&e instanceof Ep||t instanceof Sp&&e instanceof Sp?Zd(t.elements,e.elements,vf):t instanceof Ip&&e instanceof Ip?vf(t.A,e.A):t instanceof Tp&&e instanceof Tp}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function jp(t){return t.isFoundDocument()?t.version:Wd.min()}var qp=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,Os.ZT)(e,t),e}(Lp),Bp=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.fieldMask=r,s.precondition=i,s.fieldTransforms=o,s.type=1,s}return(0,Os.ZT)(e,t),e}(Lp);function Gp(t){var e=new Map;return t.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}}),e}function zp(t,e,n){var r=new Map;qd(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,_p(s,a,n[i]))}return r}function Hp(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var s=o[i],a=s.transform,u=n.data.field(s.field);r.set(s.field,wp(a,u,e))}return r}var Zp,Kp,$p=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,Os.ZT)(e,t),e}(Lp),Wp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,Os.ZT)(e,t),e}(Lp),Jp=function(t){this.count=t};function Qp(t){switch(t){case Rd.OK:return jd();case Rd.CANCELLED:case Rd.UNKNOWN:case Rd.DEADLINE_EXCEEDED:case Rd.RESOURCE_EXHAUSTED:case Rd.INTERNAL:case Rd.UNAVAILABLE:case Rd.UNAUTHENTICATED:return!1;case Rd.INVALID_ARGUMENT:case Rd.NOT_FOUND:case Rd.ALREADY_EXISTS:case Rd.PERMISSION_DENIED:case Rd.FAILED_PRECONDITION:case Rd.ABORTED:case Rd.OUT_OF_RANGE:case Rd.UNIMPLEMENTED:case Rd.DATA_LOSS:return!0;default:return jd()}}function Yp(t){if(void 0===t)return Md("GRPC error has no .code"),Rd.UNKNOWN;switch(t){case Zp.OK:return Rd.OK;case Zp.CANCELLED:return Rd.CANCELLED;case Zp.UNKNOWN:return Rd.UNKNOWN;case Zp.DEADLINE_EXCEEDED:return Rd.DEADLINE_EXCEEDED;case Zp.RESOURCE_EXHAUSTED:return Rd.RESOURCE_EXHAUSTED;case Zp.INTERNAL:return Rd.INTERNAL;case Zp.UNAVAILABLE:return Rd.UNAVAILABLE;case Zp.UNAUTHENTICATED:return Rd.UNAUTHENTICATED;case Zp.INVALID_ARGUMENT:return Rd.INVALID_ARGUMENT;case Zp.NOT_FOUND:return Rd.NOT_FOUND;case Zp.ALREADY_EXISTS:return Rd.ALREADY_EXISTS;case Zp.PERMISSION_DENIED:return Rd.PERMISSION_DENIED;case Zp.FAILED_PRECONDITION:return Rd.FAILED_PRECONDITION;case Zp.ABORTED:return Rd.ABORTED;case Zp.OUT_OF_RANGE:return Rd.OUT_OF_RANGE;case Zp.UNIMPLEMENTED:return Rd.UNIMPLEMENTED;case Zp.DATA_LOSS:return Rd.DATA_LOSS;default:return jd()}}(Kp=Zp||(Zp={}))[Kp.OK=0]="OK",Kp[Kp.CANCELLED=1]="CANCELLED",Kp[Kp.UNKNOWN=2]="UNKNOWN",Kp[Kp.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Kp[Kp.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Kp[Kp.NOT_FOUND=5]="NOT_FOUND",Kp[Kp.ALREADY_EXISTS=6]="ALREADY_EXISTS",Kp[Kp.PERMISSION_DENIED=7]="PERMISSION_DENIED",Kp[Kp.UNAUTHENTICATED=16]="UNAUTHENTICATED",Kp[Kp.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Kp[Kp.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Kp[Kp.ABORTED=10]="ABORTED",Kp[Kp.OUT_OF_RANGE=11]="OUT_OF_RANGE",Kp[Kp.UNIMPLEMENTED=12]="UNIMPLEMENTED",Kp[Kp.INTERNAL=13]="INTERNAL",Kp[Kp.UNAVAILABLE=14]="UNAVAILABLE",Kp[Kp.DATA_LOSS=15]="DATA_LOSS";var Xp=function(){function t(t,e){this.comparator=t,this.root=e||em.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,em.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,em.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.inorderTraversal(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new tm(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new tm(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new tm(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new tm(this.root,t,this.comparator,!0)},t}(),tm=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),em=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw jd();if(this.right.isRed())throw jd();var t=this.left.check();if(t!==this.right.check())throw jd();return t+(this.isRed()?0:1)},t}();em.EMPTY=null,em.RED=!0,em.BLACK=!1,em.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw jd()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw jd()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new em(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var nm=function(){function t(t){this.comparator=t,this.data=new Xp(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new rm(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new rm(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),rm=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),im=new Xp(gf.comparator);function om(){return im}var sm=new Xp(gf.comparator);function am(){return sm}var um=new Xp(gf.comparator);function cm(){return um}var lm=new nm(gf.comparator);function hm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=lm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var dm=new nm(Hd);function fm(){return dm}var pm=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,mm.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Wd.min(),r,fm(),om(),hm())},t}(),mm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(of.EMPTY_BYTE_STRING,n,hm(),hm(),hm())},t}(),gm=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ym=function(t,e){this.targetId=t,this.V=e},vm=function(t,e,n,r){void 0===n&&(n=of.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},bm=function(){function t(){this.S=0,this.D=Cm(),this.C=of.EMPTY_BYTE_STRING,this.N=!1,this.F=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"O",{get:function(){return this.F},enumerable:!1,configurable:!0}),t.prototype.$=function(t){t.approximateByteSize()>0&&(this.F=!0,this.C=t)},t.prototype.M=function(){var t=hm(),e=hm(),n=hm();return this.D.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:jd()}}),new mm(this.C,this.N,t,e,n)},t.prototype.L=function(){this.F=!1,this.D=Cm()},t.prototype.B=function(t,e){this.F=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.F=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.F=!0,this.N=!0},t}(),wm=function(){function t(t){this.W=t,this.G=new Map,this.H=om(),this.J=_m(),this.Y=new nm(Hd)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.tt(r=o[i],t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.$(t.resumeToken);break;case 1:r.K(),r.k||r.L(),r.$(t.resumeToken);break;case 2:r.K(),r.k||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.$(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.$(t.resumeToken));break;default:jd()}})},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach(function(t,r){n.st(r)&&e(r)})},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Mf(i))if(0===n){var o=new gf(i.path);this.tt(e,o,Rf.newNoDocument(o,Wd.min()))}else qd(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach(function(r,i){var o=e.ot(i);if(o){if(r.current&&Mf(o.target)){var s=new gf(o.target.path);null!==e.H.get(s)||e.at(i,s)||e.tt(i,s,Rf.newNoDocument(s,t))}r.O&&(n.set(i,r.M()),r.L())}});var r=hm();this.J.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(t))});var i=new pm(t,n,this.Y,this.H,r);return this.H=om(),this.J=_m(),this.Y=new nm(Hd),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new bm,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new nm(Hd),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Ud("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.k?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new bm),this.W.getRemoteKeysForTarget(t).forEach(function(n){e.tt(t,n,null)})},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function _m(){return new Xp(gf.comparator)}function Cm(){return new Xp(gf.comparator)}var Tm={asc:"ASCENDING",desc:"DESCENDING"},Em={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xm=function(t,e){this.databaseId=t,this.I=e};function Sm(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Am(t,e){return t.I?e.toBase64():e.toUint8Array()}function Im(t,e){return Sm(t,e.toTimestamp())}function km(t){return qd(!!t),Wd.fromTimestamp(function(t){var e=af(t);return new $d(e.seconds,e.nanos)}(t))}function Om(t,e){return function(t){return new tf(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Pm(t){var e=tf.fromString(t);return qd(eg(e)),e}function Rm(t,e){return Om(t.databaseId,e.path)}function Nm(t,e){var n=Pm(e);if(n.get(1)!==t.databaseId.projectId)throw new Nd(Rd.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Nd(Rd.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new gf(Mm(n))}function Dm(t,e){return Om(t.databaseId,e)}function Lm(t){var e=Pm(t);return 4===e.length?tf.emptyPath():Mm(e)}function Um(t){return new tf(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Mm(t){return qd(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Fm(t,e,n){return{name:Rm(t,e),fields:n.toProto().mapValue.fields}}function Vm(t,e,n){var r=Nm(t,e.name),i=km(e.updateTime),o=new Of({mapValue:{fields:e.fields}}),s=Rf.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function jm(t,e){var n;if(e instanceof qp)n={update:Fm(t,e.key,e.value)};else if(e instanceof $p)n={delete:Rm(t,e.key)};else if(e instanceof Bp)n={update:Fm(t,e.key,e.data),updateMask:tg(e.fieldMask)};else{if(!(e instanceof Wp))return jd();n={verify:Rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof Tp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ep)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Sp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ip)return{fieldPath:e.field.canonicalString(),increment:n.A};throw jd()}(0,t)})),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Im(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:jd()}(t,e.precondition)),n}function qm(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Np.updateTime(km(t.updateTime)):void 0!==t.exists?Np.exists(t.exists):Np.none()}(e.currentDocument):Np.none(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(qd("REQUEST_TIME"===e.setToServerValue),n=new Tp):"appendMissingElements"in e?n=new Ep(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Sp(e.removeAllFromArray.values||[]):"increment"in e?n=new Ip(t,e.increment):jd();var r=nf.fromServerFormat(e.fieldPath);return new Pp(r,n)}(t,e)}):[];if(e.update){var i=Nm(t,e.update.name),o=new Of({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new rf((t.fieldPaths||[]).map(function(t){return nf.fromServerFormat(t)}))}(e.updateMask);return new Bp(i,o,s,n,r)}return new qp(i,o,n,r)}if(e.delete){var a=Nm(t,e.delete);return new $p(a,n)}if(e.verify){var u=Nm(t,e.verify);return new Wp(u,n)}return jd()}function Bm(t,e){return{documents:[Dm(t,e.path)]}}function Gm(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Dm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Dm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(If(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NAN"}};if(Af(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(If(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NOT_NAN"}};if(Af(t.value))return{unaryFilter:{field:Jm(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jm(t.field),op:Wm(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Jm(t.field),direction:$m(t.dir)}}(t)})}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.I||ff(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Zm(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Zm(e.endAt)),n}function zm(t){var e=Lm(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){qd(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=Hm(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Wf(Qm(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return ff(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Km(n.startAt));var l=null;return n.endAt&&(l=Km(n.endAt)),tp(e,i,a,s,u,"F",c,l)}function Hm(t){return t?void 0!==t.unaryFilter?[Xm(t)]:void 0!==t.fieldFilter?[Ym(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Hm(t)}).reduce(function(t,e){return t.concat(e)}):jd():[]}function Zm(t){return{before:t.before,values:t.position}}function Km(t){return new Kf(t.values||[],!!t.before)}function $m(t){return Tm[t]}function Wm(t){return Em[t]}function Jm(t){return{fieldPath:t.canonicalString()}}function Qm(t){return nf.fromServerFormat(t.fieldPath)}function Ym(t){return Ff.create(Qm(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return jd()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xm(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qm(t.unaryFilter.field);return Ff.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qm(t.unaryFilter.field);return Ff.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qm(t.unaryFilter.field);return Ff.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qm(t.unaryFilter.field);return Ff.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return jd()}}function tg(t){var e=[];return t.fields.forEach(function(t){return e.push(t.canonicalString())}),{fieldPaths:e}}function eg(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function ng(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=ig(e)),e=rg(t.get(n),e);return ig(e)}function rg(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function ig(t){return t+"\x01\x01"}function og(t){var e=t.length;if(qd(e>=2),2===e)return qd("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),tf.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&jd(),t.charAt(s+1)){case"\x01":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:jd()}o=s+2}return new tf(r)}var sg=function(t,e){this.seconds=t,this.nanoseconds=e},ag=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};ag.store="owner",ag.key="owner";var ug=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ug.store="mutationQueues",ug.keyPath="userId";var cg=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};cg.store="mutations",cg.keyPath="batchId",cg.userMutationsIndex="userMutationsIndex",cg.userMutationsKeyPath=["userId","batchId"];var lg=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ng(e)]},t.key=function(t,e,n){return[t,ng(e),n]},t}();lg.store="documentMutations",lg.PLACEHOLDER=new lg;var hg=function(t,e){this.path=t,this.readTime=e},dg=function(t,e){this.path=t,this.version=e},fg=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};fg.store="remoteDocuments",fg.readTimeIndex="readTimeIndex",fg.readTimeIndexPath="readTime",fg.collectionReadTimeIndex="collectionReadTimeIndex",fg.collectionReadTimeIndexPath=["parentPath","readTime"];var pg=function(t){this.byteSize=t};pg.store="remoteDocumentGlobal",pg.key="remoteDocumentGlobalKey";var mg=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};mg.store="targets",mg.keyPath="targetId",mg.queryTargetsIndexName="queryTargetsIndex",mg.queryTargetsKeyPath=["canonicalId","targetId"];var gg=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};gg.store="targetDocuments",gg.keyPath=["targetId","path"],gg.documentTargetsIndex="documentTargetsIndex",gg.documentTargetsKeyPath=["path","targetId"];var yg=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};yg.key="targetGlobalKey",yg.store="targetGlobal";var vg=function(t,e){this.collectionId=t,this.parent=e};vg.store="collectionParents",vg.keyPath=["collectionId","parent"];var bg=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};bg.store="clientMetadata",bg.keyPath="clientId";var wg=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};wg.store="bundles",wg.keyPath="bundleId";var _g=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};_g.store="namedQueries",_g.keyPath="name";var Cg=(0,Os.ev)((0,Os.ev)([],(0,Os.ev)((0,Os.ev)([],(0,Os.ev)((0,Os.ev)([],(0,Os.ev)((0,Os.ev)([],[ug.store,cg.store,lg.store,fg.store,mg.store,ag.store,yg.store,gg.store]),[bg.store])),[pg.store])),[vg.store])),[wg.store,_g.store]),Tg="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Eg=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach(function(t){return t()})},t}(),xg=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Sg=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&jd(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Ag=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new xg,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Og(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Lg(e.target.error);n.ft.reject(new Og(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Og(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Ud("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Rg(e)},t}(),Ig=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,Ps.z$)())&&Md("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ud("SimpleDb","Removing database:",t),Ng(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,Ps.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.gt=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(Ud("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new Og(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Nd(Rd.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Og(t,n))},i.onupgradeneeded=function(t){Ud("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.wt.Rt(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){Ud("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}})})},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o,s,a,u;return(0,Os.Jh)(this,function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,u,c,l;return(0,Os.Jh)(this,function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.At(t)];case 2:return a.db=h.sent(),e=Ag.open(a.db,t,i?"readonly":"readwrite",n),s=r(e).catch(function(t){return e.abort(t),Sg.reject(t)}).toPromise(),u={},s.catch(function(){}),[4,e.dt];case 3:return[2,(u.value=(h.sent(),s),u)];case 4:return Ud("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),kg=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ng(this.Pt.delete())},t}(),Og=function(t){function e(e,n){var r=this;return(r=t.call(this,Rd.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,Os.ZT)(e,t),e}(Nd);function Pg(t){return"IndexedDbTransactionError"===t.name}var Rg=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ud("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ud("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ng(n)},t.prototype.add=function(t){return Ud("SimpleDb","ADD",this.store.name,t,t),Ng(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ng(this.store.get(t)).next(function(n){return void 0===n&&(n=null),Ud("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return Ud("SimpleDb","DELETE",this.store.name,t),Ng(this.store.delete(t))},t.prototype.count=function(){return Ud("SimpleDb","COUNT",this.store.name),Ng(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.Ft=function(t,e){Ud("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.kt=!1;var r=this.cursor(n);return this.xt(r,function(t,e,n){return n.delete()})},t.prototype.Ot=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.$t=function(t){var e=this.cursor({});return new Sg(function(n,r){e.onerror=function(t){var e=Lg(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.xt=function(t,e){var n=[];return new Sg(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new kg(i),s=e(i.primaryKey,i.value,o);if(s instanceof Sg){var a=s.catch(function(t){return o.done(),Sg.reject(t)});n.push(a)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}}).next(function(){return Sg.waitFor(n)})},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.kt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ng(t){return new Sg(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Lg(t.target.error);n(e)}})}var Dg=!1;function Lg(t){var e=Ig._t((0,Ps.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Nd("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Dg||(Dg=!0,setTimeout(function(){throw r},0)),r}}return t}var Ug=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,Os.ZT)(e,t),e}(Eg);function Mg(t,e){var n=Bd(t);return Ig.It(n.Mt,e)}var Fg=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Up(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&Mp(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&Mp(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach(function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Wd.min())})},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},hm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Zd(this.mutations,t.mutations,function(t,e){return Vp(t,e)})&&Zd(this.baseMutations,t.baseMutations,function(t,e){return Vp(t,e)})},t}(),Vg=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){qd(e.mutations.length===r.length);for(var i=cm(),o=e.mutations,s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),jg=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=Wd.min()),void 0===o&&(o=Wd.min()),void 0===s&&(s=of.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),qg=function(t){this.Lt=t};function Bg(t,e){if(e.document)return Vm(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gf.fromSegments(e.noDocument.path),r=Kg(e.noDocument.readTime),i=Rf.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=gf.fromSegments(e.unknownDocument.path);return r=Kg(e.unknownDocument.version),Rf.newUnknownDocument(o,r)}return jd()}function Gg(t,e,n){var r=zg(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Rm(t,e.key),fields:e.data.toProto().mapValue.fields,updateTime:Sm(t,e.version.toTimestamp())}}(t.Lt,e),s=e.hasCommittedMutations;return new fg(null,null,o,s,r,i)}if(e.isNoDocument()){var a=e.key.path.toArray(),u=Zg(e.version);return s=e.hasCommittedMutations,new fg(null,new hg(a,u),null,s,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=Zg(e.version);return new fg(new dg(c,l),null,null,!0,r,i)}return jd()}function zg(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Hg(t){var e=new $d(t[0],t[1]);return Wd.fromTimestamp(e)}function Zg(t){var e=t.toTimestamp();return new sg(e.seconds,e.nanoseconds)}function Kg(t){var e=new $d(t.seconds,t.nanoseconds);return Wd.fromTimestamp(e)}function $g(t,e){for(var n=(e.baseMutations||[]).map(function(e){return qm(t.Lt,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return qm(t.Lt,e)}),o=$d.fromMillis(e.localWriteTimeMs);return new Fg(e.batchId,o,n,i)}function Wg(t){var e,n,r=Kg(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Kg(t.lastLimboFreeSnapshotVersion):Wd.min();return void 0!==t.query.documents?(qd(1===(n=t.query).documents.length),e=up(ep(Lm(n.documents[0])))):e=function(t){return up(zm(t))}(t.query),new jg(e,t.targetId,0,t.lastListenSequenceNumber,r,i,of.fromBase64String(t.resumeToken))}function Jg(t,e){var n,r=Zg(e.snapshotVersion),i=Zg(e.lastLimboFreeSnapshotVersion);n=Mf(e.target)?Bm(t.Lt,e.target):Gm(t.Lt,e.target);var o=e.resumeToken.toBase64();return new mg(e.targetId,Lf(e.target),r,o,e.sequenceNumber,i,n)}function Qg(t){var e=zm({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cp(e,e.limit,"L"):e}var Yg=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Xg(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:Kg(e.createTime),version:e.version};var e})},t.prototype.saveBundleMetadata=function(t,e){return Xg(t).put({bundleId:(n=e).id,createTime:Zg(km(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return ty(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:Qg(e.bundledQuery),readTime:Kg(e.readTime)};var e})},t.prototype.saveNamedQuery=function(t,e){return ty(t).put(function(t){return{name:t.name,readTime:Zg(km(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Xg(t){return Mg(t,wg.store)}function ty(t){return Mg(t,_g.store)}var ey=function(){function t(){this.Bt=new ny}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),Sg.resolve()},t.prototype.getCollectionParents=function(t,e){return Sg.resolve(this.Bt.getEntries(e))},t}(),ny=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new nm(tf.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new nm(tf.comparator)).toArray()},t}(),ry=function(){function t(){this.qt=new ny}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(function(){n.qt.add(e)});var o={collectionId:r,parent:ng(i)};return iy(t).put(o)}return Sg.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Kd(e),""],!1,!0);return iy(t).Nt(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(og(o.parent))}return n})},t}();function iy(t){return Mg(t,vg.store)}var oy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sy=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function ay(t,e,n){var r=t.store(cg.store),i=t.store(lg.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Ot({range:s},function(t,e,n){return a++,n.delete()});o.push(u.next(function(){qd(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],f=lg.key(e,d.key.path,n.batchId);o.push(i.delete(f)),c.push(d.key)}return Sg.waitFor(o).next(function(){return c})}function uy(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw jd();e=t.noDocument}return JSON.stringify(e).length}sy.DEFAULT_COLLECTION_PERCENTILE=10,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sy.DEFAULT=new sy(41943040,sy.DEFAULT_COLLECTION_PERCENTILE,sy.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sy.DISABLED=new sy(-1,0,0);var cy=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Qt={}}return t.Kt=function(e,n,r,i){return qd(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hy(t).Ot({index:cg.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=dy(t),s=hy(t);return s.add({}).next(function(a){qd("number"==typeof a);for(var u=new Fg(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return jm(t.Lt,e)}),i=n.mutations.map(function(e){return jm(t.Lt,e)});return new cg(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new nm(function(t,e){return Hd(t.canonicalString(),e.canonicalString())}),d=0,f=r;d<f.length;d++){var p=f[d],m=lg.key(i.userId,p.key.path,a);h=h.add(p.key.path.popLast()),l.push(s.put(c)),l.push(o.put(m,lg.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(function(){i.Qt[a]=u.keys()}),Sg.waitFor(l).next(function(){return u})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return hy(t).get(e).next(function(t){return t?(qd(t.userId===n.userId),$g(n.R,t)):null})},t.prototype.jt=function(t,e){var n=this;return this.Qt[e]?Sg.resolve(this.Qt[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.Qt[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return hy(t).Ot({index:cg.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(qd(e.batchId>=r),o=$g(n.R,e)),i.done()}).next(function(){return o})},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return hy(t).Ot({index:cg.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hy(t).Nt(cg.userMutationsIndex,n).next(function(t){return t.map(function(t){return $g(e.R,t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=lg.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return dy(t).Ot({range:i},function(r,i,s){var a=r[0],u=r[2],c=og(r[1]);if(a===n.userId&&e.path.isEqual(c))return hy(t).get(u).next(function(t){if(!t)throw jd();qd(t.userId===n.userId),o.push($g(n.R,t))});s.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new nm(Hd),i=[];return e.forEach(function(e){var o=lg.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=dy(t).Ot({range:s},function(t,i,o){var s=t[0],a=t[2],u=og(t[1]);s===n.userId&&e.path.isEqual(u)?r=r.add(a):o.done()});i.push(a)}),Sg.waitFor(i).next(function(){return n.Wt(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=lg.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new nm(Hd);return dy(t).Ot({range:s},function(t,e,o){var s=t[0],u=t[2],c=og(t[1]);s===n.userId&&r.isPrefixOf(c)?c.length===i&&(a=a.add(u)):o.done()}).next(function(){return n.Wt(t,a)})},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(hy(t).get(e).next(function(t){if(null===t)throw jd();qd(t.userId===n.userId),r.push($g(n.R,t))}))}),Sg.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return ay(t.Mt,this.userId,e).next(function(r){return t.addOnCommittedListener(function(){n.Gt(e.batchId)}),Sg.forEach(r,function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)})})},t.prototype.Gt=function(t){delete this.Qt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Sg.resolve();var r=IDBKeyRange.lowerBound(lg.prefixForUser(e.userId)),i=[];return dy(t).Ot({range:r},function(t,n,r){if(t[0]===e.userId){var o=og(t[1]);i.push(o)}else r.done()}).next(function(){qd(0===i.length)})})},t.prototype.containsKey=function(t,e){return ly(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return fy(t).get(this.userId).next(function(t){return t||new ug(e.userId,-1,"")})},t}();function ly(t,e,n){var r=lg.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return dy(t).Ot({range:o,kt:!0},function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()}).next(function(){return s})}function hy(t){return Mg(t,cg.store)}function dy(t){return Mg(t,lg.store)}function fy(t){return Mg(t,ug.store)}var py=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),my=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next(function(n){var r=new py(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next(function(t){return Wd.fromTimestamp(new $d(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)})},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next(function(){return n.Xt(t).next(function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)})})},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return gy(t).delete(e.targetId)}).next(function(){return n.Xt(t)}).next(function(e){return qd(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return gy(t).Ot(function(s,a){var u=Wg(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))}).next(function(){return Sg.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){return gy(t).Ot(function(t,n){var r=Wg(n);e(r)})},t.prototype.Xt=function(t){return yy(t).get(yg.key).next(function(t){return qd(null!==t),t})},t.prototype.Zt=function(t,e){return yy(t).put(yg.key,e)},t.prototype.te=function(t,e){return gy(t).put(Jg(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next(function(t){return t.targetCount})},t.prototype.getTargetData=function(t,e){var n=Lf(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return gy(t).Ot({range:r,index:mg.queryTargetsIndexName},function(t,n,r){var o=Wg(n);Uf(e,o.target)&&(i=o,r.done())}).next(function(){return i})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=vy(t);return e.forEach(function(e){var s=ng(e.path);i.push(o.put(new gg(n,s))),i.push(r.referenceDelegate.addReference(t,n,e))}),Sg.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=vy(t);return Sg.forEach(e,function(e){var o=ng(e.path);return Sg.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=vy(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=vy(t),i=hm();return r.Ot({range:n,kt:!0},function(t,e,n){var r=og(t[1]),o=new gf(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ng(e.path),r=IDBKeyRange.bound([n],[Kd(n)],!1,!0),i=0;return vy(t).Ot({index:gg.documentTargetsIndex,kt:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.lt=function(t,e){return gy(t).get(e).next(function(t){return t?Wg(t):null})},t}();function gy(t){return Mg(t,mg.store)}function yy(t){return Mg(t,yg.store)}function vy(t){return Mg(t,gg.store)}function by(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){if(t.code!==Rd.FAILED_PRECONDITION||t.message!==Tg)throw t;return Ud("LocalStore","Unexpectedly lost primary lease"),[2]})})}function wy(t,e){var n=t[1],r=e[1],i=Hd(t[0],e[0]);return 0===i?Hd(n,r):i}var _y=function(){function t(t){this.ne=t,this.buffer=new nm(wy),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();wy(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Cy=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Ud("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,function(){return(0,Os.mG)(e,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Pg(e=n.sent())?(Ud("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,by(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}})})})},t}(),Ty=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Sg.resolve(Pd.o);var r=new _y(e);return this.ae.forEachTarget(t,function(t){return r.re(t.sequenceNumber)}).next(function(){return n.ae.le(t,function(t){return r.re(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Ud("LruGarbageCollector","Garbage collection skipped; disabled"),Sg.resolve(oy)):this.getCacheSize(t).next(function(r){return r<n.params.cacheSizeCollectionThreshold?(Ud("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),oy):n.fe(t,e)})},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(function(e){return e>c.params.maximumSequenceNumbersToCollect?(Ud("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.maximumSequenceNumbersToCollect+" from "+e),r=c.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),c.nthSequenceNumber(t,r)}).next(function(r){return n=r,s=Date.now(),c.removeTargets(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.removeOrphanedDocuments(t,n)}).next(function(t){return u=Date.now(),Ld()<=ku.in.DEBUG&&Ud("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Sg.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})})},t}(),Ey=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new Ty(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.de=function(t){var e=0;return this.le(t,function(t){e++}).next(function(){return e})},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,function(t,n){return e(n)})},t.prototype.addReference=function(t,e,n){return xy(t,n)},t.prototype.removeReference=function(t,e,n){return xy(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return xy(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return fy(t).$t(function(r){return ly(t,r,e).next(function(t){return t&&(n=!0),Sg.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,function(s,a){if(a<=e){var u=n._e(t,s).next(function(e){if(!e)return o++,r.getEntry(t,s).next(function(){return r.removeEntry(s),vy(t).delete([0,ng(s.path)])})});i.push(u)}}).next(function(){return Sg.waitFor(i)}).next(function(){return r.apply(t)}).next(function(){return o})},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return xy(t,e)},t.prototype.we=function(t,e){var n,r=vy(t),i=Pd.o;return r.Ot({index:gg.documentTargetsIndex},function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==Pd.o&&e(new gf(og(n)),i),i=s,n=o):i=Pd.o}).next(function(){i!==Pd.o&&e(new gf(og(n)),i)})},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function xy(t,e){return vy(t).put(function(t,e){return new gg(0,ng(t.path),e)}(e,t.currentSequenceNumber))}var Sy=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.equalsFn(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Qd(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}})},t.prototype.isEmpty=function(){return Yd(this.inner)},t}(),Ay=function(){function t(){this.changes=new Sy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Wd.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Rf.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?Sg.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),Iy=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Py(t).put(Ry(e),n)},t.prototype.removeEntry=function(t,e){var n=Py(t),r=Ry(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.me(t,r)})},t.prototype.getEntry=function(t,e){var n=this;return Py(t).get(Ry(e)).next(function(t){return n.ye(e,t)})},t.prototype.ge=function(t,e){var n=this;return Py(t).get(Ry(e)).next(function(t){return{document:n.ye(e,t),size:uy(t)}})},t.prototype.getEntries=function(t,e){var n=this,r=om();return this.pe(t,e,function(t,e){var i=n.ye(t,e);r=r.insert(t,i)}).next(function(){return r})},t.prototype.Ee=function(t,e){var n=this,r=om(),i=new Xp(gf.comparator);return this.pe(t,e,function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,uy(e))}).next(function(){return{documents:r,Te:i}})},t.prototype.pe=function(t,e,n){if(e.isEmpty())return Sg.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Py(t).Ot({range:r},function(t,e,r){for(var s=gf.fromSegments(t);o&&gf.comparator(o,s)<0;)n(o,null),o=i.getNext();o&&o.isEqual(s)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()}).next(function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=om(),o=e.path.length+1,s={};if(n.isEqual(Wd.min())){var a=e.path.toArray();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.toArray(),c=zg(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=fg.collectionReadTimeIndex}return Py(t).Ot(s,function(t,n,s){if(t.length===o){var a=Bg(r.R,n);e.path.isPrefixOf(a.key.path)?fp(e,a)&&(i=i.insert(a.key,a)):s.done()}}).next(function(){return i})},t.prototype.newChangeBuffer=function(t){return new ky(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Oy(t).get(pg.key).next(function(t){return qd(!!t),t})},t.prototype.me=function(t,e){return Oy(t).put(pg.key,e)},t.prototype.ye=function(t,e){if(e){var n=Bg(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Wd.min()))return n}return Rf.newInvalidDocument(t)},t}(),ky=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new Sy(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return(0,Os.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new nm(function(t,e){return Hd(t.canonicalString(),e.canonicalString())});return this.changes.forEach(function(o,s){var a=e.Ae.get(o);if(s.document.isValidDocument()){var u=Gg(e.Ie.R,s.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=uy(u);r+=c-a,n.push(e.Ie.addEntry(t,o,u))}else if(r-=a,e.trackRemovals){var l=Gg(e.Ie.R,Rf.newNoDocument(o,Wd.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))}),i.forEach(function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))}),n.push(this.Ie.updateMetadata(t,r)),Sg.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next(function(t){return n.Ae.set(e,t.size),t.document})},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next(function(t){var e=t.documents;return t.Te.forEach(function(t,e){n.Ae.set(t,e)}),e})},e}(Ay);function Oy(t){return Mg(t,pg.store)}function Py(t){return Mg(t,fg.store)}function Ry(t){return t.path.toArray()}var Ny=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;qd(n<r&&n>=0&&r<=11);var o=new Ag("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(ag.store)}(t),function(t){t.createObjectStore(ug.store,{keyPath:ug.keyPath}),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0}),t.createObjectStore(lg.store)}(t),Dy(t),function(t){t.createObjectStore(fg.store)}(t));var s=Sg.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(gg.store),t.deleteObjectStore(mg.store),t.deleteObjectStore(yg.store)}(t),Dy(t)),s=s.next(function(){return function(t){var e=t.store(yg.store),n=new yg(0,0,Wd.min().toTimestamp(),0);return e.put(yg.key,n)}(o)})),n<4&&r>=4&&(0!==n&&(s=s.next(function(){return function(t,e){return e.store(cg.store).Nt().next(function(n){t.deleteObjectStore(cg.store),t.createObjectStore(cg.store,{keyPath:cg.keyPath,autoIncrement:!0}).createIndex(cg.userMutationsIndex,cg.userMutationsKeyPath,{unique:!0});var r=e.store(cg.store),i=n.map(function(t){return r.put(t)});return Sg.waitFor(i)})}(t,o)})),s=s.next(function(){!function(t){t.createObjectStore(bg.store,{keyPath:bg.keyPath})}(t)})),n<5&&r>=5&&(s=s.next(function(){return i.Re(o)})),n<6&&r>=6&&(s=s.next(function(){return function(t){t.createObjectStore(pg.store)}(t),i.be(o)})),n<7&&r>=7&&(s=s.next(function(){return i.ve(o)})),n<8&&r>=8&&(s=s.next(function(){return i.Pe(t,o)})),n<9&&r>=9&&(s=s.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(fg.store);e.createIndex(fg.readTimeIndex,fg.readTimeIndexPath,{unique:!1}),e.createIndex(fg.collectionReadTimeIndex,fg.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(s=s.next(function(){return i.Ve(o)})),n<11&&r>=11&&(s=s.next(function(){!function(t){t.createObjectStore(wg.store,{keyPath:wg.keyPath})}(t),function(t){t.createObjectStore(_g.store,{keyPath:_g.keyPath})}(t)})),s},t.prototype.be=function(t){var e=0;return t.store(fg.store).Ot(function(t,n){e+=uy(n)}).next(function(){var n=new pg(e);return t.store(pg.store).put(pg.key,n)})},t.prototype.Re=function(t){var e=this,n=t.store(ug.store),r=t.store(cg.store);return n.Nt().next(function(n){return Sg.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(cg.userMutationsIndex,i).next(function(r){return Sg.forEach(r,function(r){qd(r.userId===n.userId);var i=$g(e.R,r);return ay(t,n.userId,i).next(function(){})})})})})},t.prototype.ve=function(t){var e=t.store(gg.store),n=t.store(fg.store);return t.store(yg.store).get(yg.key).next(function(t){var r=[];return n.Ot(function(n,i){var o=new tf(n),s=function(t){return[0,ng(t)]}(o);r.push(e.get(s).next(function(n){return n?Sg.resolve():function(n){return e.put(new gg(0,ng(n),t.highestListenSequenceNumber))}(o)}))}).next(function(){return Sg.waitFor(r)})})},t.prototype.Pe=function(t,e){t.createObjectStore(vg.store,{keyPath:vg.keyPath});var n=e.store(vg.store),r=new ny,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:ng(i)})}};return e.store(fg.store).Ot({kt:!0},function(t,e){var n=new tf(t);return i(n.popLast())}).next(function(){return e.store(lg.store).Ot({kt:!0},function(t,e){var n=og(t[1]);return i(n.popLast())})})},t.prototype.Ve=function(t){var e=this,n=t.store(mg.store);return n.Ot(function(t,r){var i=Wg(r),o=Jg(e.R,i);return n.put(o)})},t}();function Dy(t){t.createObjectStore(gg.store,{keyPath:gg.keyPath}).createIndex(gg.documentTargetsIndex,gg.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(mg.store,{keyPath:mg.keyPath}).createIndex(mg.queryTargetsIndexName,mg.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(yg.store)}var Ly="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Uy=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=s,this.document=a,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Fe=null,this.inForeground=!1,this.ke=null,this.Oe=null,this.$e=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Nd(Rd.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ey(this,i),this.Le=n+"main",this.R=new qg(u),this.Be=new Ig(this.Le,11,new Ny(this.R)),this.qe=new my(this.referenceDelegate,this.R),this.Ut=new ry,this.Ue=function(t,e){return new Iy(t,e)}(this.R,this.Ut),this.Qe=new Yg,this.window&&this.window.localStorage?this.Ke=this.window.localStorage:(this.Ke=null,!1===l&&Md("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Nd(Rd.FAILED_PRECONDITION,Ly);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t.qe.getHighestSequenceNumber(e)})}).then(function(e){t.Ne=new Pd(e,t.De)}).then(function(){t.xe=!0}).catch(function(e){return t.Be&&t.Be.close(),Promise.reject(e)})},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,Os.mG)(e,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt(function(n){return(0,Os.mG)(e,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget(function(){return(0,Os.mG)(e,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Fy(e).put(new bg(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Je(e).next(function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable(function(){return t.Me(!1)}))})}).next(function(){return t.Ye(e)}).next(function(n){return t.isPrimary&&!n?t.Xe(e).next(function(){return!1}):!!n&&t.Ze(e).next(function(){return!0})})}).catch(function(e){if(Pg(e))return Ud("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ud("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Se.enqueueRetryable(function(){return t.Me(e)}),t.isPrimary=e})},t.prototype.Je=function(t){var e=this;return My(t).get(ag.key).next(function(t){return Sg.resolve(e.tn(t))})},t.prototype.en=function(t){return Fy(t).delete(this.clientId)},t.prototype.nn=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e,n,r=this;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.$e,18e5)?[3,2]:(this.$e=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Mg(t,bg.store);return e.Nt().next(function(t){var n=r.rn(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Sg.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Ke)for(e=0,n=t;e<n.length;e++)this.Ke.removeItem(this.on(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.ze=function(){var t=this;this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,function(){return t.je().then(function(){return t.nn()}).then(function(){return t.ze()})})},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?Sg.resolve(!0):My(t).get(ag.key).next(function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Nd(Rd.FAILED_PRECONDITION,Ly);return!1}}return!(!e.networkEnabled||!e.inForeground)||Fy(t).Nt().next(function(t){return void 0===e.rn(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&Ud("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t=this;return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.Oe&&(this.Oe.cancel(),this.Oe=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[ag.store,bg.store],function(e){var n=new Ug(e,Pd.o);return t.Xe(n).next(function(){return t.en(n)})})];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}})})},t.prototype.rn=function(t,e){var n=this;return t.filter(function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)})},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Fy(e).Nt().next(function(e){return t.rn(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return cy.Kt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ud("IndexedDbPersistence","Starting transaction:",t),this.Be.runTransaction(t,"readonly"===e?"readonly":"readwrite",Cg,function(o){return r=new Ug(o,i.Ne?i.Ne.next():Pd.o),"readwrite-primary"===e?i.Je(r).next(function(t){return!!t||i.Ye(r)}).next(function(e){if(!e)throw Md("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Se.enqueueRetryable(function(){return i.Me(!1)}),new Nd(Rd.FAILED_PRECONDITION,Tg);return n(r)}).next(function(t){return i.Ze(r).next(function(){return t})}):i.dn(r).next(function(){return n(r)})}).then(function(t){return r.raiseOnCommittedEvent(),t})},t.prototype.dn=function(t){var e=this;return My(t).get(ag.key).next(function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Nd(Rd.FAILED_PRECONDITION,Ly)})},t.prototype.Ze=function(t){var e=new ag(this.clientId,this.allowTabSynchronization,Date.now());return My(t).put(ag.key,e)},t.yt=function(){return Ig.yt()},t.prototype.Xe=function(t){var e=this,n=My(t);return n.get(ag.key).next(function(t){return e.tn(t)?(Ud("IndexedDbPersistence","Releasing primary lease."),n.delete(ag.key)):Sg.resolve()})},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Md("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ke=function(){t.Se.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.je()})},this.document.addEventListener("visibilitychange",this.ke),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.ke&&(this.document.removeEventListener("visibilitychange",this.ke),this.ke=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Fe=function(){e.un(),e.Se.enqueueAndForget(function(){return e.shutdown()})},this.window.addEventListener("unload",this.Fe))},t.prototype.hn=function(){this.Fe&&(this.window.removeEventListener("unload",this.Fe),this.Fe=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Ke)||void 0===e?void 0:e.getItem(this.on(t)));return Ud("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Md("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Ke)try{this.Ke.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Md("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Ke)try{this.Ke.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function My(t){return Mg(t,ag.store)}function Fy(t){return Mg(t,bg.store)}function Vy(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var jy=function(t,e){this.progress=t,this.wn=e},qy=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.yn(t,e,r)})},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next(function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t})},t.prototype.gn=function(t,e){t.forEach(function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)})},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next(function(e){return n.En(t,e).next(function(){return e})})},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(t){return n.gn(e,t)})},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return gf.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):sp(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new gf(e)).next(function(t){var e=am();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=am();return this.Ut.getCollectionParents(t,i).next(function(s){return Sg.forEach(s,function(s){var a=function(t,e){return new Xf(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.An(t,a,n).next(function(t){t.forEach(function(t,e){o=o.insert(t,e)})})}).next(function(){return o})})},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next(function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)}).next(function(e){return o.Rn(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c);null==l&&(l=Rf.newInvalidDocument(c),r=r.insert(c,l)),Mp(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}})}).next(function(){return r.forEach(function(t,n){fp(e,n)||(r=r.remove(t))}),r})},t.prototype.Rn=function(t,e,n){for(var r=hm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Bp&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next(function(t){return t.forEach(function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))}),c})},t}(),By=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=hm(),i=hm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Gy=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Wd.min())?this.Dn(t,e):this.Sn.pn(t,r).next(function(o){var s=i.Cn(e,o);return(np(e)||rp(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(Ld()<=ku.in.DEBUG&&Ud("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),dp(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next(function(t){return s.forEach(function(e){t=t.insert(e.key,e)}),t}))})},t.prototype.Cn=function(t,e){var n=new nm(pp(t));return e.forEach(function(e,r){fp(t,r)&&(n=n.add(r))}),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return Ld()<=ku.in.DEBUG&&Ud("QueryEngine","Using full collection scan to execute query:",dp(e)),this.Sn.getDocumentsMatchingQuery(t,e,Wd.min())},t}(),zy=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.Fn=new Xp(Hd),this.kn=new Sy(function(t){return Lf(t)},Uf),this.On=Wd.min(),this._n=t.getMutationQueue(n),this.$n=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new qy(this.$n,this._n,this.persistence.getIndexManager()),this.Qe=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.collect(n,e.Fn)})},t}();function Hy(t,e,n,r){return new zy(t,e,n,r)}function Zy(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:return n=Bd(t),r=n._n,i=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var o;return n._n.getAllMutationBatches(t).next(function(s){return o=s,r=n.persistence.getMutationQueue(e),i=new qy(n.$n,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)}).next(function(e){for(var n=[],r=[],s=hm(),a=0,u=o;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var d=0,f=e;d<f.length;d++){var p=f[d];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)s=s.add(g[m].key)}return i.pn(t,s).next(function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}})})})];case 1:return o=s.sent(),[2,(n._n=r,n.Mn=i,n.xn.Vn(n.Mn),o)]}})})}function Ky(t,e){var n=Bd(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.$n.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=Sg.resolve();return o.forEach(function(t){s=s.next(function(){return r.getEntry(e,t)}).next(function(e){var o=n.docVersions.get(t);qd(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),s.next(function(){return t._n.removeMutationBatch(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}function $y(t){var e=Bd(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e.qe.getLastRemoteSnapshotVersion(t)})}function Wy(t,e){var n=Bd(t),r=e.snapshotVersion,i=n.Fn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var o=n.$n.newChangeBuffer({trackRemovals:!0});i=n.Fn;var s=[];e.targetChanges.forEach(function(e,o){var a=i.get(o);if(a){s.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next(function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)}));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return qd(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(a,c,e)&&s.push(n.qe.updateTargetData(t,c))}}});var a=om();if(e.documentUpdates.forEach(function(r,i){e.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),s.push(Jy(t,o,e.documentUpdates,r,void 0).next(function(t){a=t})),!r.isEqual(Wd.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next(function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)});s.push(u)}return Sg.waitFor(s).next(function(){return o.apply(t)}).next(function(){return n.Mn.En(t,a)}).next(function(){return a})}).then(function(t){return n.Fn=i,t})}function Jy(t,e,n,r,i){var o=hm();return n.forEach(function(t){return o=o.add(t)}),e.getEntries(t,o).next(function(t){var o=om();return n.forEach(function(n,s){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;s.isNoDocument()&&s.version.isEqual(Wd.min())?(e.removeEntry(n,u),o=o.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(s,u),o=o.insert(n,s)):Ud("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),o})}function Qy(t,e){var n=Bd(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)})}function Yy(t,e){var n=Bd(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n.qe.getTargetData(t,e).next(function(i){return i?Sg.resolve(r=i):n.qe.allocateTargetId(t).next(function(i){return r=new jg(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next(function(){return r})})})}).then(function(t){var r=n.Fn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Fn=n.Fn.insert(t.targetId,t),n.kn.set(e,t.targetId)),t})}function Xy(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:r=Bd(t),i=r.Fn.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,function(t){return r.persistence.referenceDelegate.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!Pg(s=a.sent()))throw s;return Ud("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.Fn=r.Fn.remove(e),r.kn.delete(i.target),[2]}})})}function tv(t,e,n){var r=Bd(t),i=Wd.min(),o=hm();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=Bd(t),i=r.kn.get(n);return void 0!==i?Sg.resolve(r.Fn.get(i)):r.qe.getTargetData(e,n)}(r,t,up(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next(function(t){o=t})}).next(function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Wd.min(),n?o:hm())}).next(function(t){return{documents:t,Bn:o}})})}function ev(t,e){var n=Bd(t),r=Bd(n.qe),i=n.Fn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.lt(t,e).next(function(t){return t?t.target:null})})}function nv(t){var e=Bd(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=Bd(t),i=om(),o=zg(n),s=Py(e),a=IDBKeyRange.lowerBound(o,!0);return s.Ot({index:fg.readTimeIndex,range:a},function(t,e){var n=Bg(r.R,e);i=i.insert(n.key,n),o=e.readTime}).next(function(){return{wn:i,readTime:Hg(o)}})}(e.$n,t,e.On)}).then(function(t){var n=t.wn;return e.On=t.readTime,n})}function rv(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){return[2,(e=Bd(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Py(t),n=Wd.min();return e.Ot({index:fg.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=Hg(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.On=t})]})})}function iv(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c,l,h,d,f;return(0,Os.Jh)(this,function(p){switch(p.label){case 0:for(i=Bd(t),o=hm(),s=om(),a=cm(),u=0,c=n;u<c.length;u++)h=e.qn((l=c[u]).metadata.name),l.document&&(o=o.add(h)),s=s.insert(h,e.Un(l)),a=a.insert(h,e.Qn(l.metadata.readTime));return d=i.$n.newChangeBuffer({trackRemovals:!0}),[4,Yy(i,function(t){return up(ep(tf.fromString("__bundle__/docs/"+t)))}(r))];case 1:return f=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Jy(t,d,s,Wd.min(),a).next(function(e){return d.apply(t),e}).next(function(e){return i.qe.removeMatchingKeysForTargetId(t,f.targetId).next(function(){return i.qe.addMatchingKeys(t,o,f.targetId)}).next(function(){return i.Mn.En(t,e)}).next(function(){return e})})})]}})})}function ov(t,e,n){return void 0===n&&(n=hm()),(0,Os.mG)(this,void 0,void 0,function(){var r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return[4,Yy(t,up(Qg(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Bd(t)).persistence.runTransaction("Save named query","readwrite",function(t){var o=km(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Qe.saveNamedQuery(t,e);var s=r.withResumeToken(of.EMPTY_BYTE_STRING,o);return i.Fn=i.Fn.insert(s.targetId,s),i.qe.updateTargetData(t,s).next(function(){return i.qe.removeMatchingKeysForTargetId(t,r.targetId)}).next(function(){return i.qe.addMatchingKeys(t,n,r.targetId)}).next(function(){return i.Qe.saveNamedQuery(t,e)})})]}})})}var sv=function(){function t(t){this.R=t,this.Kn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return Sg.resolve(this.Kn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Kn.set(e.id,{id:(n=e).id,version:n.version,createTime:km(n.createTime)}),Sg.resolve()},t.prototype.getNamedQuery=function(t,e){return Sg.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Qg(t.bundledQuery),readTime:km(t.readTime)}}(e)),Sg.resolve()},t}(),av=function(){function t(){this.Wn=new nm(uv.Gn),this.zn=new nm(uv.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new uv(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.Yn(new uv(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.Zn=function(t){var e=this,n=new gf(new tf([])),r=new uv(n,t),i=new uv(n,t+1),o=[];return this.zn.forEachInRange([r,i],function(t){e.Yn(t),o.push(t.key)}),o},t.prototype.ts=function(){var t=this;this.Wn.forEach(function(e){return t.Yn(e)})},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new gf(new tf([])),n=new uv(e,t),r=new uv(e,t+1),i=hm();return this.zn.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new uv(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),uv=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return gf.comparator(t.key,e.key)||Hd(t.ns,e.ns)},t.Hn=function(t,e){return Hd(t.ns,e.ns)||gf.comparator(t.key,e.key)},t}(),cv=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new nm(uv.Gn)}return t.prototype.checkEmpty=function(t){return Sg.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++;var o=new Fg(i,e,n,r);this._n.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.rs=this.rs.add(new uv(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return Sg.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return Sg.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this.cs(e+1),r=n<0?0:n;return Sg.resolve(this._n.length>r?this._n[r]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return Sg.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return Sg.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new uv(e,0),i=new uv(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],function(t){var e=n.os(t.ns);o.push(e)}),Sg.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new nm(Hd);return e.forEach(function(t){var e=new uv(t,0),i=new uv(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],function(t){r=r.add(t.ns)})}),Sg.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;gf.isDocumentKey(i)||(i=i.child(""));var o=new uv(new gf(i),0),s=new nm(Hd);return this.rs.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(s=s.add(t.ns)),!0)},o),Sg.resolve(this.us(s))},t.prototype.us=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.os(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this;qd(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return Sg.forEach(e.mutations,function(i){var o=new uv(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(function(){n.rs=r})},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new uv(e,0),r=this.rs.firstAfterOrEqual(n);return Sg.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return Sg.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),lv=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Xp(gf.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:s,readTime:n}),this.size+=s-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Sg.resolve(n?n.document.clone():Rf.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=om();return e.forEach(function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Rf.newInvalidDocument(t))}),Sg.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=om(),i=new gf(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var s=o.getNext(),a=s.value,u=a.document,c=a.readTime;if(!e.path.isPrefixOf(s.key.path))break;c.compareTo(n)<=0||fp(e,u)&&(r=r.insert(u.key,u.clone()))}return Sg.resolve(r)},t.prototype.fs=function(t,e){return Sg.forEach(this.docs,function(t){return e(t)})},t.prototype.newChangeBuffer=function(t){return new hv(this)},t.prototype.getSize=function(t){return Sg.resolve(this.size)},t}(),hv=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,Os.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach(function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)}),Sg.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(Ay),dv=function(){function t(t){this.persistence=t,this.ds=new Sy(function(t){return Lf(t)},Uf),this.lastRemoteSnapshotVersion=Wd.min(),this.highestTargetId=0,this.ws=0,this._s=new av,this.targetCount=0,this.ys=py.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach(function(t,n){return e(n)}),Sg.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Sg.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Sg.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),Sg.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),Sg.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new py(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,Sg.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),Sg.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,Sg.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach(function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.ds.delete(s),o.push(r.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Sg.waitFor(o).next(function(){return i})},t.prototype.getTargetCount=function(t){return Sg.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return Sg.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),Sg.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.markPotentiallyOrphaned(t,e))}),Sg.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),Sg.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return Sg.resolve(n)},t.prototype.containsKey=function(t,e){return Sg.resolve(this._s.containsKey(e))},t}(),fv=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Pd(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new dv(this),this.Ut=new ey,this.Ue=function(t,e){return new lv(t,function(t){return n.referenceDelegate.ps(t)})}(this.Ut),this.R=new qg(e),this.Qe=new sv(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new cv(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Qe},t.prototype.runTransaction=function(t,e,n){var r=this;Ud("MemoryPersistence","Starting transaction:",t);var i=new pv(this.Ne.next());return this.referenceDelegate.Es(),n(i).next(function(t){return r.referenceDelegate.Ts(i).next(function(){return t})}).toPromise().then(function(t){return i.raiseOnCommittedEvent(),t})},t.prototype.Is=function(t,e){return Sg.or(Object.values(this.gs).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),pv=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,Os.ZT)(e,t),e}(Eg),mv=function(){function t(t){this.persistence=t,this.As=new av,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw jd()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),Sg.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),Sg.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),Sg.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach(function(t){return n.vs.add(t.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.vs.add(t.toString())})}).next(function(){return r.removeTargetData(t,e)})},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Sg.forEach(this.vs,function(r){var i=gf.fromPath(r);return e.Ps(t,i).next(function(t){t||n.removeEntry(i)})}).next(function(){return e.Rs=null,n.apply(t)})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next(function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())})},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return Sg.or([function(){return Sg.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),gv=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function yv(t,e){return"firestore_clients_"+t+"_"+e}function vv(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function bv(t,e){return"firestore_targets_"+t+"_"+e}gv.UNAUTHENTICATED=new gv(null),gv.GOOGLE_CREDENTIALS=new gv("google-credentials-uid"),gv.FIRST_PARTY=new gv("first-party-uid");var wv=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),s="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return s&&o.error&&(s="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Nd(o.error.code,o.error.message)),s?new t(e,n,o.state,i):(Md("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),_v=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Nd(i.error.code,i.error.message)),o?new t(e,i.state,r):(Md("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Cv=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=fm(),s=0;i&&s<r.activeTargetIds.length;++s)i=mf(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Md("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Tv=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Md("SharedClientState","Failed to parse online state: "+e),null)},t}(),Ev=function(){function t(){this.activeTargetIds=fm()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),xv=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.Fs.bind(this),this.ks=new Xp(Hd),this.started=!1,this.Os=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.$s=yv(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.ks=this.ks.insert(this.Ns,new Ev),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Qs=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e,n,r,i,o,s,a,u,c,l=this;return(0,Os.Jh)(this,function(h){switch(h.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(i=this.getItem(yv(this.persistenceKey,r)))&&(o=Cv.Vs(r,i))&&(this.ks=this.ks.insert(o.clientId,o));for(this.Ks(),(s=this.storage.getItem(this.Us))&&(a=this.js(s))&&this.Ws(a),u=0,c=this.Os;u<c.length;u++)this.Fs(c[u]);return this.Os=[],this.window.addEventListener("unload",function(){return l.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.ks)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.ks.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(bv(this.persistenceKey,t));if(n){var r=_v.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Ks(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Ks()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(bv(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.Hs(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.$s),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ud("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ud("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ud("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Fs=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ud("SharedClientState","EVENT",n.key,n.newValue),n.key===this.$s)return void Md("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable(function(){return(0,Os.mG)(e,void 0,void 0,function(){var t,e,r,i,o,s;return(0,Os.Jh)(this,function(a){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(i=this.ri(n.key,n.newValue)))return[2,this.oi(i)]}else if(n.key===this.Us){if(null!==n.newValue&&(o=this.js(n.newValue)))return[2,this.Ws(o)]}else if(n.key===this.Ms)(s=function(t){var e=Pd.o;if(null!=t)try{var n=JSON.parse(t);qd("number"==typeof n),e=n}catch(t){Md("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Pd.o&&this.sequenceNumberHandler(s);else if(n.key===this.Qs)return[2,this.syncEngine.ci()]}else this.Os.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.ks.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Ks=function(){this.setItem(this.$s,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new wv(this.currentUser,t,e,n),i=vv(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=vv(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){this.storage.setItem(this.Us,JSON.stringify({clientId:this.Ns,onlineState:t}))},t.prototype.Ys=function(t,e,n){var r=bv(this.persistenceKey,t),i=new _v(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Qs,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return Cv.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]);return wv.Vs(new gv(void 0!==n[2]?n[2]:null),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return _v.Vs(r,e)},t.prototype.js=function(t){return Tv.Vs(t)},t.prototype.ii=function(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Ud("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.ks.insert(t,e):this.ks.remove(t),i=this.Gs(this.ks),o=this.Gs(r),s=[],a=[];return o.forEach(function(t){i.has(t)||s.push(t)}),i.forEach(function(t){o.has(t)||a.push(t)}),this.syncEngine.hi(s,a).then(function(){n.ks=r})},t.prototype.Ws=function(t){this.ks.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=fm();return t.forEach(function(t,n){e=e.unionWith(n.activeTargetIds)}),e},t}(),Sv=function(){function t(){this.li=new Ev,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new Ev,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),Av=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),Iv=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Ud("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Ud("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),kv={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ov=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Pv=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n}return(0,Os.ZT)(e,t),e.prototype.ki=function(t,e,n,r){return new Promise(function(i,o){var s=new Od;s.listenOnce(Ad.COMPLETE,function(){try{switch(s.getLastErrorCode()){case Sd.NO_ERROR:var e=s.getResponseJson();Ud("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Sd.TIMEOUT:Ud("Connection",'RPC "'+t+'" timed out'),o(new Nd(Rd.DEADLINE_EXCEEDED,"Request time out"));break;case Sd.HTTP_ERROR:var n=s.getStatus();if(Ud("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Rd).indexOf(e)>=0?e:Rd.UNKNOWN}(r.status);o(new Nd(a,r.message))}else o(new Nd(Rd.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Nd(Rd.UNAVAILABLE,"Connection failed."));break;default:jd()}}finally{Ud("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);s.send(e,"POST",a,n,15)})},e.prototype.$i=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new _d,i=El(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.Fi(o.initMessageHeaders,e),(0,Ps.uI)()||(0,Ps.b$)()||(0,Ps.d)()||(0,Ps.w1)()||(0,Ps.Mn)()||(0,Ps.ru)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ud("Connection","Creating WebChannel: "+s,o);var a=r.createWebChannel(s,o),u=!1,c=!1,l=new Ov({Ei:function(t){c?Ud("Connection","Not sending because WebChannel is closed:",t):(u||(Ud("Connection","Opening WebChannel transport."),a.open(),u=!0),Ud("Connection","WebChannel sending:",t),a.send(t))},Ti:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,kd.EventType.OPEN,function(){c||Ud("Connection","WebChannel transport opened.")}),h(a,kd.EventType.CLOSE,function(){c||(c=!0,Ud("Connection","WebChannel transport closed"),l.Vi())}),h(a,kd.EventType.ERROR,function(t){c||(c=!0,Fd("Connection","WebChannel transport errored:",t),l.Vi(new Nd(Rd.UNAVAILABLE,"The operation could not be completed")))}),h(a,kd.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];qd(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ud("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=Zp[t];if(void 0!==e)return Yp(e)}(i),s=r.message;void 0===o&&(o=Rd.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Vi(new Nd(o,s)),a.close()}else Ud("Connection","WebChannel received:",n),l.Si(n)}}),h(i,Id.STAT_EVENT,function(t){10===t.stat?Ud("Connection","Detected buffering proxy"):11===t.stat&&Ud("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Pi()},0),l},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Di=(t.ssl?"https":"http")+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Ud("RestConnection","Sending: ",i,n);var o={};return this.Fi(o,r),this.ki(t,i,o,n).then(function(t){return Ud("RestConnection","Received: ",t),t},function(e){throw Fd("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Oi=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.Fi=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.5.0",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){return this.Di+"/v1/"+e+":"+kv[t]},t}());function Rv(){return"undefined"!=typeof window?window:null}function Nv(){return"undefined"!=typeof document?document:null}function Dv(t){return new xm(t,!0)}var Lv=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Qi=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Ki=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Qi),i=Math.max(0,n-r);i>0&&Ud("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,function(){return e.Qi=Date.now(),t()}),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Uv=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Lv(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,function(){return t.rr()}))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){return this.er()?[2,this.close(0)]:[2]})})},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Rd.RESOURCE_EXHAUSTED?(Md(e.toString()),Md("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Ki()):e&&e.code===Rd.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}})})},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then(function(e){t.Yi===n&&t.lr(e)},function(n){e(function(){var e=new Nd(Rd.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)})})},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii(function(){n(function(){return e.state=2,e.listener.Ii()})}),this.stream.Ri(function(t){n(function(){return e.dr(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji(function(){return(0,Os.mG)(t,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.dr=function(t){return Ud("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget(function(){return e.Yi===t?n():(Ud("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Mv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,s}return(0,Os.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.$i("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:jd()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(qd(void 0===e||"string"==typeof e),of.fromBase64String(e||"")):(qd(void 0===e||e instanceof Uint8Array),of.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Rd.UNKNOWN:Yp(t.code);return new Nd(e,t.message||"")}(a);n=new vm(r,i,o,s||null)}else if("documentChange"in e){i=Nm(t,(r=e.documentChange).document.name),o=km(r.document.updateTime);var a=new Of({mapValue:{fields:r.document.fields}}),u=(s=Rf.newFoundDocument(i,o,a),r.targetIds||[]);n=new gm(u,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Nm(t,(r=e.documentDelete).document),o=r.readTime?km(r.readTime):Wd.min(),a=Rf.newNoDocument(i,o),n=new gm([],s=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=Nm(t,(r=e.documentRemove).document),n=new gm([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return jd();var c=e.filter;i=new Jp(r=c.count||0),n=new ym(o=c.targetId,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Wd.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Wd.min():e.readTime?km(e.readTime):Wd.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Um(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Mf(r)?{documents:Bm(t,r)}:{query:Gm(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Am(t,e.resumeToken):e.snapshotVersion.compareTo(Wd.min())>0&&(n.readTime=Sm(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return jd()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Um(this.R),e.removeTarget=t,this.cr(e)},e}(Uv),Fv=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,s.gr=!1,s}return(0,Os.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.$i("Write",t)},e.prototype.onMessage=function(t){if(qd(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(qd(void 0!==e),t.map(function(t){return function(t,e){var n=km(t.updateTime?t.updateTime:e);return n.isEqual(Wd.min())&&(n=km(e)),new Rp(n,t.transformResults||[])}(t,e)})):[]}(t.writeResults,t.commitTime),n=km(t.commitTime);return this.listener.Tr(n,e)}return qd(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Um(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return jm(e.R,t)})};this.cr(n)},e}(Uv),Vv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,Os.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Nd(Rd.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Ni(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Rd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Nd(Rd.UNKNOWN,t.toString())})},e.prototype.Oi=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then(function(i){return r.Hi.Oi(t,e,n,i)}).catch(function(t){throw"FirebaseError"===t.name?(t.code===Rd.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Nd(Rd.UNKNOWN,t.toString())})},e.prototype.terminate=function(){this.Rr=!0},e}(function(){}),jv=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()}))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.Fr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.Fr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Md(e),this.Vr=!1):Ud("OnlineStateTracker",e)},t.prototype.Fr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),qv=function(t,e,n,r,i){var o=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.kr=[],this.Or=new Map,this.$r=new Set,this.Mr=[],this.Lr=i,this.Lr.di(function(t){n.enqueueAndForget(function(){return(0,Os.mG)(o,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return Jv(this)?(Ud("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return(e=Bd(t)).$r.add(4),[4,Gv(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.$r.delete(4),[4,Bv(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.Br=new jv(n,r)};function Bv(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:if(!Jv(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Gv(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function zv(t,e){var n=Bd(t);n.Or.has(e.targetId)||(n.Or.set(e.targetId,e),Wv(n)?$v(n):hb(n).er()&&Zv(n,e))}function Hv(t,e){var n=Bd(t),r=hb(n);n.Or.delete(e),r.er()&&Kv(n,e),0===n.Or.size&&(r.er()?r.ir():Jv(n)&&n.Br.set("Unknown"))}function Zv(t,e){t.qr.U(e.targetId),hb(t).mr(e)}function Kv(t,e){t.qr.U(e),hb(t).yr(e)}function $v(t){t.qr=new wm({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.Or.get(e)||null}}),hb(t).start(),t.Br.Sr()}function Wv(t){return Jv(t)&&!hb(t).tr()&&t.Or.size>0}function Jv(t){return 0===Bd(t).$r.size}function Qv(t){t.qr=void 0}function Yv(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){return t.Or.forEach(function(e,n){Zv(t,e)}),[2]})})}function Xv(t,e){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(n){return Qv(t),Wv(t)?(t.Br.Nr(e),$v(t)):t.Br.set("Unknown"),[2]})})}function tb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof vm&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Or.has(o=i[r])?[4,t.remoteSyncer.rejectListen(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Or.delete(o),t.qr.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ud("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,eb(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof gm?t.qr.X(e):e instanceof ym?t.qr.rt(e):t.qr.et(e),n.isEqual(Wd.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,$y(t.localStore)];case 8:return i=s.sent(),n.compareTo(i)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.Or.get(r);i&&t.Or.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(function(e){var n=t.Or.get(e);if(n){t.Or.set(e,n.withResumeToken(of.EMPTY_BYTE_STRING,n.snapshotVersion)),Kv(t,e);var r=new jg(n.target,e,1,n.sequenceNumber);Zv(t,r)}}),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ud("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,eb(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}})})}function eb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r=this;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:if(!Pg(e))throw e;return t.$r.add(1),[4,Gv(t)];case 1:return i.sent(),t.Br.set("Offline"),n||(n=function(){return $y(t.localStore)}),t.asyncQueue.enqueueRetryable(function(){return(0,Os.mG)(r,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return Ud("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.$r.delete(1),[4,Bv(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function nb(t,e){return e().catch(function(n){return eb(t,n,e)})}function rb(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n,r,i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:e=Bd(t),n=db(e),r=e.kr.length>0?e.kr[e.kr.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return Jv(t)&&t.kr.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,Qy(e.localStore,r)];case 3:return null===(i=s.sent())?(0===e.kr.length&&n.ir(),[3,7]):(r=i.batchId,function(t,e){t.kr.push(e);var n=db(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,eb(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return ib(e)&&ob(e),[2]}})})}function ib(t){return Jv(t)&&!db(t).tr()&&t.kr.length>0}function ob(t){db(t).start()}function sb(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){return db(t).Ar(),[2]})})}function ab(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n,r;return(0,Os.Jh)(this,function(i){for(e=db(t),n=0,r=t.kr;n<r.length;n++)e.Er(r[n].mutations);return[2]})})}function ub(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return r=t.kr.shift(),i=Vg.from(r,e,n),[4,nb(t,function(){return t.remoteSyncer.applySuccessfulWrite(i)})];case 1:return o.sent(),[4,rb(t)];case 2:return o.sent(),[2]}})})}function cb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e&&db(t).pr?[4,function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return Qp(r=e.code)&&r!==Rd.ABORTED?(n=t.kr.shift(),db(t).sr(),[4,nb(t,function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,rb(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ib(t)&&ob(t),[2]}})})}function lb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return n=Bd(t),e?(n.$r.delete(2),[4,Bv(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.$r.add(2),[4,Gv(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function hb(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Bd(t);return r.br(),new Mv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Yv.bind(null,t),Ri:Xv.bind(null,t),_r:tb.bind(null,t)}),t.Mr.push(function(n){return(0,Os.mG)(e,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Wv(t)?$v(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Qv(t),e.label=3;case 3:return[2]}})})})),t.Ur}function db(t){var e=this;return t.Qr||(t.Qr=function(t,e,n){var r=Bd(t);return r.br(),new Fv(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:sb.bind(null,t),Ri:cb.bind(null,t),Ir:ab.bind(null,t),Tr:ub.bind(null,t)}),t.Mr.push(function(n){return(0,Os.mG)(e,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return n?(t.Qr.sr(),[4,rb(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qr.stop()];case 3:e.sent(),t.kr.length>0&&(Ud("RemoteStore","Stopping write stream with "+t.kr.length+" pending writes"),t.kr=[]),e.label=4;case 4:return[2]}})})})),t.Qr}var fb=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Nd(Rd.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function pb(t,e){if(Md("AsyncQueue",e+": "+t),Pg(t))return new Nd(Rd.UNAVAILABLE,e+": "+t);throw t}var mb=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||gf.comparator(e.key,n.key)}:function(t,e){return gf.comparator(t.key,e.key)},this.keyedMap=am(),this.sortedSet=new Xp(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),gb=function(){function t(){this.Kr=new Xp(gf.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Kr.get(e);n?0!==t.type&&3===n.type?this.Kr=this.Kr.insert(e,t):3===t.type&&1!==n.type?this.Kr=this.Kr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Kr=this.Kr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Kr=this.Kr.remove(e):1===t.type&&2===n.type?this.Kr=this.Kr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Kr=this.Kr.insert(e,{type:2,doc:t.doc}):jd():this.Kr=this.Kr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Kr.inorderTraversal(function(e,n){t.push(n)}),t},t}(),yb=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:0,doc:t})}),new t(e,n,mb.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&lp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),vb=function(){this.Wr=void 0,this.listeners=[]},bb=function(){this.queries=new Sy(function(t){return hp(t)},lp),this.onlineState="Unknown",this.Gr=new Set};function wb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Os.Jh)(this,function(c){switch(c.label){case 0:if(n=Bd(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new vb),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.onListen(r)];case 2:return s.Wr=c.sent(),[3,4];case 3:return a=c.sent(),u=pb(a,"Initialization of query '"+dp(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zr(n.onlineState),o.Wr&&e.Hr(o.Wr)&&Eb(n),[2]}})})}function _b(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Os.Jh)(this,function(a){return n=Bd(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]})})}function Cb(t,e){for(var n=Bd(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],a=n.queries.get(s.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].Hr(s)&&(r=!0);a.Wr=s}}r&&Eb(n)}function Tb(t,e,n){var r=Bd(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Eb(t){t.Gr.forEach(function(t){t.next()})}var xb=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new yb(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){return!t.fromCache||!(this.options.so&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=yb.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),Sb=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),Ab=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Nm(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Vm(this.R,t.document,!1):Rf.newNoDocument(this.qn(t.metadata.name),this.Qn(t.metadata.readTime))},t.prototype.Qn=function(t){return km(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new Ab(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.qn(o.metadata.name),a=0,u=o.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||hm()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e,n,r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return[4,iv(this.localStore,new Ab(this.R),this.documents,this.ro.id)];case 1:t=o.sent(),e=this.co(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,ov(this.localStore,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new jy(Object.assign({},this.progress),t))]}})})}}();var Ib=function(t){this.key=t},kb=function(t){this.key=t},Ob=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=hm(),this.mutatedKeys=hm(),this.lo=pp(t),this.fo=new mb(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new gb,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=np(this.query)&&i.size===this.query.limit?i.last():null,c=rp(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal(function(t,e){var l=i.get(t),h=fp(n.query,e)?e:null,d=!!l&&n.mutatedKeys.has(l.key),f=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?d!==f&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(s=s.add(h),o=f?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))}),np(this.query)||rp(this.query))for(;s.size>this.query.limit;){var l=np(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:s,mo:r,Nn:a,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return jd()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)}),this.po(n);var s=e?this.Eo():[],a=0===this.ho.size&&this.current?1:0,u=a!==this.ao;return this.ao=a,0!==o.length||u?{snapshot:new yb(this.query,t.fo,i,o,t.mutatedKeys,0===a,u,!1),To:s}:{To:s}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new gb,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e.uo=e.uo.add(t)}),t.modifiedDocuments.forEach(function(t){}),t.removedDocuments.forEach(function(t){return e.uo=e.uo.delete(t)}),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=hm(),this.fo.forEach(function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))});var n=[];return e.forEach(function(e){t.ho.has(e)||n.push(new kb(e))}),this.ho.forEach(function(t){e.has(t)||n.push(new Ib(t))}),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=hm();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return yb.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Pb=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Rb=function(t){this.key=t,this.bo=!1},Nb=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new Sy(function(t){return hp(t)},lp),this.Vo=new Map,this.So=new Set,this.Do=new Xp(gf.comparator),this.Co=new Map,this.No=new av,this.xo={},this.Fo=new Map,this.ko=py.Yt(),this.onlineState="Unknown",this.Oo=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.Oo},enumerable:!1,configurable:!0}),t}();function Db(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:return n=cw(t),(i=n.Po.get(e))?(n.sharedClientState.addLocalQueryTarget(i.targetId),r=i.view.Ro(),[3,4]):[3,1];case 1:return[4,Yy(n.localStore,up(e))];case 2:return o=a.sent(),s=n.sharedClientState.addLocalQueryTarget(o.targetId),[4,Lb(n,e,o.targetId,"current"===s)];case 3:r=a.sent(),n.isPrimaryClient&&zv(n.remoteStore,o),a.label=4;case 4:return[2,r]}})})}function Lb(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o,s,a,u,c;return(0,Os.Jh)(this,function(l){switch(l.label){case 0:return t.$o=function(e,n,r){return function(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:return(i=e.view._o(n)).Nn?[4,tv(t.localStore,e.query,!1).then(function(t){return e.view._o(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(i,t.isPrimaryClient,o),[2,($b(t,e.targetId,s.To),s.snapshot)]}})})}(t,e,n,r)},[4,tv(t.localStore,e,!0)];case 1:return i=l.sent(),o=new Ob(e,i.Bn),s=o._o(i.documents),a=mm.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=o.applyChanges(s,t.isPrimaryClient,a),$b(t,n,u.To),c=new Pb(e,n,o),[2,(t.Po.set(e,c),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),u.snapshot)]}})})}function Ub(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return n=Bd(t),r=n.Po.get(e),(i=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,i.filter(function(t){return!lp(t,e)})),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Xy(n.localStore,r.targetId,!1).then(function(){n.sharedClientState.clearQueryState(r.targetId),Hv(n.remoteStore,r.targetId),Zb(n,r.targetId)}).catch(by)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Zb(n,r.targetId),[4,Xy(n.localStore,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}})})}function Mb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:r=lw(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=Bd(t),i=$d.now(),o=e.reduce(function(t,e){return t.add(e.key)},hm());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Mn.pn(t,o).next(function(o){n=o;for(var s=[],a=0,u=e;a<u.length;a++){var c=u[a],l=Fp(c,n.get(c.key));null!=l&&s.push(new Bp(c.key,l,Pf(l.toProto().mapValue),Np.exists(!0)))}return r._n.addMutationBatch(t,i,s,e)})}).then(function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}})}(r.localStore,e)];case 2:return i=a.sent(),r.sharedClientState.addPendingMutation(i.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Xp(Hd)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,i.batchId,n),[4,Qb(r,i.changes)];case 3:return a.sent(),[4,rb(r.remoteStore)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=pb(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}})})}function Fb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:n=Bd(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wy(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach(function(t,e){var r=n.Co.get(e);r&&(qd(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?qd(r.bo):t.removedDocuments.size>0&&(qd(r.bo),r.bo=!1))}),[4,Qb(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,by(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Vb(t,e,n){var r=Bd(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach(function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=Bd(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)}),r&&Eb(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function jb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u;return(0,Os.Jh)(this,function(c){switch(c.label){case 0:return(r=Bd(t)).sharedClientState.updateQueryState(e,"rejected",n),i=r.Co.get(e),(o=i&&i.key)?(s=(s=new Xp(gf.comparator)).insert(o,Rf.newNoDocument(o,Wd.min())),a=hm().add(o),u=new pm(Wd.min(),new Map,new nm(Hd),s,a),[4,Fb(r,u)]):[3,2];case 1:return c.sent(),r.Do=r.Do.remove(o),r.Co.delete(e),Jb(r),[3,4];case 2:return[4,Xy(r.localStore,e,!1).then(function(){return Zb(r,e,n)}).catch(by)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function qb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:n=Bd(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,Ky(n.localStore,e)];case 2:return i=o.sent(),Hb(n,r,null),zb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Qb(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,by(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Bb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:r=Bd(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Bd(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n._n.lookupMutationBatch(t,e).next(function(e){return qd(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)}).next(function(){return n._n.performConsistencyCheck(t)}).next(function(){return n.Mn.pn(t,r)})})}(r.localStore,e)];case 2:return i=o.sent(),Hb(r,e,n),zb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Qb(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,by(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}})})}function Gb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:Jv((n=Bd(t)).remoteStore)||Ud("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=Bd(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e._n.getHighestUnacknowledgedBatchId(t)})}(n.localStore)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Fo.get(r)||[]).push(e),n.Fo.set(r,i),[3,4]);case 3:return o=a.sent(),s=pb(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}})})}function zb(t,e){(t.Fo.get(e)||[]).forEach(function(t){t.resolve()}),t.Fo.delete(e)}function Hb(t,e,n){var r=Bd(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Zb(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach(function(e){t.No.containsKey(e)||Kb(t,e)})}function Kb(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Hv(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Jb(t))}function $b(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Ib?(t.No.addReference(o.key,e),Wb(t,o)):o instanceof kb?(Ud("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Kb(t,o.key)):jd()}}function Wb(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Ud("SyncEngine","New document in limbo: "+n),t.So.add(r),Jb(t))}function Jb(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new gf(tf.fromString(e)),r=t.ko.next();t.Co.set(r,new Rb(n)),t.Do=t.Do.insert(n,r),zv(t.remoteStore,new jg(up(ep(n.path)),r,2,Pd.o))}}function Qb(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:return r=Bd(t),i=[],o=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach(function(t,a){s.push(r.$o(a,e,n).then(function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=By.Pn(a.targetId,t);o.push(e)}}))}),[4,Promise.all(s)]);case 1:return a.sent(),r.vo._r(i),[4,function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c;return(0,Os.Jh)(this,function(l){switch(l.label){case 0:n=Bd(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Sg.forEach(e,function(e){return Sg.forEach(e.bn,function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)}).next(function(){return Sg.forEach(e.vn,function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!Pg(r=l.sent()))throw r;return Ud("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)a=(s=o[i]).targetId,s.fromCache||(u=n.Fn.get(a),c=u.withLastLimboFreeSnapshotVersion(u.snapshotVersion),n.Fn=n.Fn.insert(a,c));return[2]}})})}(r.localStore,o)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Yb(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return(n=Bd(t)).currentUser.isEqual(e)?[3,3]:(Ud("SyncEngine","User change. New user:",e.toKey()),[4,Zy(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Fo.forEach(function(t){t.forEach(function(t){t.reject(new Nd(Rd.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Fo.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Qb(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function Xb(t,e){var n=Bd(t),r=n.Co.get(e);if(r&&r.bo)return hm().add(r.key);var i=hm(),o=n.Vo.get(e);if(!o)return i;for(var s=0,a=o;s<a.length;s++){var u=n.Po.get(a[s]);i=i.unionWith(u.view.wo)}return i}function tw(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return[4,tv((n=Bd(t)).localStore,e.query,!0)];case 1:return r=o.sent(),i=e.view.Ao(r),[2,(n.isPrimaryClient&&$b(n,e.targetId,i.To),i)]}})})}function ew(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){return[2,nv((e=Bd(t)).localStore).then(function(t){return Qb(e,t)})]})})}function nw(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o;return(0,Os.Jh)(this,function(s){switch(s.label){case 0:return[4,function(t,e){var n=Bd(t),r=Bd(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.jt(t,e).next(function(e){return e?n.Mn.pn(t,e):Sg.resolve(null)})})}((i=Bd(t)).localStore,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,rb(i.remoteStore)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Hb(i,e,r||null),zb(i,e),function(t,e){Bd(Bd(t)._n).Gt(e)}(i.localStore,e)):jd(),s.label=4;case 4:return[4,Qb(i,o)];case 5:return s.sent(),[3,7];case 6:Ud("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}})})}function rw(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u;return(0,Os.Jh)(this,function(c){switch(c.label){case 0:return cw(n=Bd(t)),lw(n),!0!==e||!0===n.Oo?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,iw(n,r.toArray())]);case 1:return i=c.sent(),n.Oo=!0,[4,lb(n.remoteStore,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)zv(n.remoteStore,s[o]);return[3,7];case 3:return!1!==e||!1===n.Oo?[3,7]:(a=[],u=Promise.resolve(),n.Vo.forEach(function(t,e){n.sharedClientState.isLocalQueryTarget(e)?a.push(e):u=u.then(function(){return Zb(n,e),Xy(n.localStore,e,!0)}),Hv(n.remoteStore,e)}),[4,u]);case 4:return c.sent(),[4,iw(n,a)];case 5:return c.sent(),function(t){var e=Bd(t);e.Co.forEach(function(t,n){Hv(e.remoteStore,n)}),e.No.ts(),e.Co=new Map,e.Do=new Xp(gf.comparator)}(n),n.Oo=!1,[4,lb(n.remoteStore,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function iw(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a,u,c,l,h,d,f,p;return(0,Os.Jh)(this,function(m){switch(m.label){case 0:n=Bd(t),r=[],i=[],o=0,s=e,m.label=1;case 1:return o<s.length?(u=void 0,(c=n.Vo.get(a=s[o]))&&0!==c.length?[4,Yy(n.localStore,up(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(d=n.Po.get(h[l]),[4,tw(n,d)]):[3,6];case 4:(f=m.sent()).snapshot&&i.push(f.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,ev(n.localStore,a)];case 8:return p=m.sent(),[4,Yy(n.localStore,p)];case 9:return u=m.sent(),[4,Lb(n,ow(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vo._r(i),r)]}})})}function ow(t){return tp(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function sw(t){var e=Bd(t);return Bd(Bd(e.localStore).persistence).fn()}function aw(t,e,n,r){return(0,Os.mG)(this,void 0,void 0,function(){var i,o,s;return(0,Os.Jh)(this,function(a){switch(a.label){case 0:return(i=Bd(t)).Oo?(Ud("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,nv(i.localStore)];case 3:return o=a.sent(),s=pm.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Qb(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Xy(i.localStore,e,!0)];case 6:return a.sent(),Zb(i,e,r),[3,8];case 7:jd(),a.label=8;case 8:return[2]}})})}function uw(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s,a,u,c,l,h;return(0,Os.Jh)(this,function(d){switch(d.label){case 0:if(!(r=cw(t)).Oo)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?r.Vo.has(s=o[i])?(Ud("SyncEngine","Adding an already active target "+s),[3,5]):[4,ev(r.localStore,s)]:[3,6];case 2:return a=d.sent(),[4,Yy(r.localStore,a)];case 3:return u=d.sent(),[4,Lb(r,ow(a),u.targetId,!1)];case 4:d.sent(),zv(r.remoteStore,u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Xy(r.localStore,t,!1).then(function(){Hv(r.remoteStore,t),Zb(r,t)}).catch(by)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,d.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function cw(t){var e=Bd(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Fb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Xb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jb.bind(null,e),e.vo._r=Cb.bind(null,e.eventManager),e.vo.Mo=Tb.bind(null,e.eventManager),e}function lw(t){var e=Bd(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=qb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Bb.bind(null,e),e}var hw=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return this.R=Dv(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Qo(t),[2]}})})},t.prototype.Uo=function(t){return null},t.prototype.Qo=function(t){return Hy(this.persistence,new Gy,t.initialUser,this.R)},t.prototype.qo=function(t){return new fv(mv.bs,this.R)},t.prototype.Bo=function(t){return new Sv},t.prototype.terminate=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}})})},t}(),dw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Ko=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,Os.ZT)(e,t),e.prototype.initialize=function(e){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,rv(this.localStore)];case 2:return n.sent(),[4,this.Ko.initialize(this,e)];case 3:return n.sent(),[4,lw(this.Ko.syncEngine)];case 4:return n.sent(),[4,rb(this.Ko.remoteStore)];case 5:return n.sent(),[2]}})})},e.prototype.Qo=function(t){return Hy(this.persistence,new Gy,t.initialUser,this.R)},e.prototype.Uo=function(t){return new Cy(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)},e.prototype.qo=function(t){var e=Vy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sy.withCacheSize(this.cacheSizeBytes):sy.DEFAULT;return new Uy(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Rv(),Nv(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new Sv},e}(hw),fw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Ko=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,Os.ZT)(e,t),e.prototype.initialize=function(e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r=this;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Ko.syncEngine,this.sharedClientState instanceof xv?(this.sharedClientState.syncEngine={ui:nw.bind(null,n),ai:aw.bind(null,n),hi:uw.bind(null,n),fn:sw.bind(null,n),ci:ew.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.He(function(t){return(0,Os.mG)(r,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return[4,rw(this.Ko.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Bo=function(t){var e=Rv();if(!xv.yt(e))throw new Nd(Rd.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Vy(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new xv(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(dw),pw=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n=this;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Vb(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Yb.bind(null,this.syncEngine),[4,lb(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.createEventManager=function(t){return new bb},t.prototype.createDatastore=function(t){var e=Dv(t.databaseInfo.databaseId),n=new Pv(t.databaseInfo);return function(t,e,n){return new Vv(t,e,n)}(t.credentials,n,e)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,s=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Vb(s.syncEngine,t,0)},o=Iv.yt()?new Iv:new Av,new qv(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,s){var a=new Nb(t,e,n,r,i,o);return s&&(a.Oo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e=Bd(t),Ud("RemoteStore","RemoteStore shutting down."),e.$r.add(5),[4,Gv(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}})})}(this.remoteStore)},t}(),mw=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),gw=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new xg,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Lo=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}})})},t.prototype.Ho=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e,n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new Sb(JSON.parse(r),t.length+n)]}})})},t.prototype.Zo=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.Jo=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.Xo=function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n=this;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Nd(Rd.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i,o,s,a;return(0,Os.Jh)(this,function(u){switch(u.label){case 0:return n=Bd(t),r=Um(n.R)+"/documents",i={documents:e.map(function(t){return Rm(n.R,t)})},[4,n.Oi("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){qd(!!e.found);var n=Nm(t,e.found.name),r=km(e.found.updateTime),i=new Of({mapValue:{fields:e.found.fields}});return Rf.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){qd(!!e.missing),qd(!!e.readTime);var n=Nm(t,e.missing),r=km(e.readTime);return Rf.newNoDocument(n,r)}(t,e):jd()}(n.R,t);s.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=s.get(t.toString());qd(!!e),a.push(e)}),a)]}})})}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach(function(t){return n.recordVersion(t)}),e)]}})})},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new $p(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=gf.fromPath(n);e.mutations.push(new Wp(r,e.precondition(r)))}),[4,function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return n=Bd(t),r=Um(n.R)+"/documents",i={writes:e.map(function(t){return jm(n.R,t)})},[4,n.Ni("Commit",r,i)];case 1:return o.sent(),[2]}})})}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}})})},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw jd();e=Wd.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Nd(Rd.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Np.updateTime(e):Np.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Wd.min()))throw new Nd(Rd.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Np.updateTime(e)}return Np.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),yw=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Lv(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji(function(){return(0,Os.mG)(t,void 0,void 0,function(){var t,e,n=this;return(0,Os.Jh)(this,function(r){return t=new gw(this.datastore),(e=this.sc(t))&&e.then(function(e){n.asyncQueue.enqueueAndForget(function(){return t.commit().then(function(){n.deferred.resolve(e)}).catch(function(t){n.ic(t)})})}).catch(function(t){n.ic(t)}),[2]})})})},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ff(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget(function(){return e.nc(),Promise.resolve()})):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Qp(e)}return!1},t}(),vw=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=gv.UNAUTHENTICATED,this.clientId=zd.u(),this.credentialListener=function(){},this.receivedInitialUser=new xg,this.credentials.setChangeListener(function(t){Ud("FirestoreClient","Received user=",t.uid),r.user=t,r.credentialListener(t),r.receivedInitialUser.resolve()})}return t.prototype.getConfiguration=function(){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return[4,this.receivedInitialUser.promise];case 1:return[2,(t.sent(),{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100})]}})})},t.prototype.setCredentialChangeListener=function(t){var e=this;this.credentialListener=t,this.receivedInitialUser.promise.then(function(){return e.credentialListener(e.user)})},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Nd(Rd.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new xg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Os.mG)(t,void 0,void 0,function(){var t,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=pb(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function bw(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r,i=this;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Ud("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.initialUser,t.setCredentialChangeListener(function(n){r.isEqual(n)||(r=n,t.asyncQueue.enqueueRetryable(function(){return(0,Os.mG)(i,void 0,void 0,function(){return(0,Os.Jh)(this,function(t){switch(t.label){case 0:return[4,Zy(e.localStore,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=e,[2]}})})}function ww(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,_w(t)];case 1:return n=i.sent(),Ud("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.setCredentialChangeListener(function(n){return t.asyncQueue.enqueueRetryable(function(){return function(t,e){return(0,Os.mG)(this,void 0,void 0,function(){var n,r;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return(n=Bd(t)).asyncQueue.verifyOperationInProgress(),Ud("RemoteStore","RemoteStore received new credentials"),r=Jv(n),n.$r.add(3),[4,Gv(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.$r.delete(3),[4,Bv(n)];case 3:return i.sent(),[2]}})})}(e.remoteStore,n)})}),t.onlineComponents=e,[2]}})})}function _w(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Ud("FirestoreClient","Using default OfflineComponentProvider"),[4,bw(t,new hw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}})})}function Cw(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Ud("FirestoreClient","Using default OnlineComponentProvider"),[4,ww(t,new pw)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}})})}function Tw(t){return _w(t).then(function(t){return t.persistence})}function Ew(t){return _w(t).then(function(t){return t.localStore})}function xw(t){return Cw(t).then(function(t){return t.remoteStore})}function Sw(t){return Cw(t).then(function(t){return t.syncEngine})}function Aw(t){return(0,Os.mG)(this,void 0,void 0,function(){var e,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return[4,Cw(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Db.bind(null,e.syncEngine),n.onUnlisten=Ub.bind(null,e.syncEngine),n)]}})})}function Iw(t,e,n){var r=this;void 0===n&&(n={});var i=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(r,void 0,void 0,function(){var r;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mw({next:function(o){e.enqueueAndForget(function(){return _b(t,s)});var a=o.docs.has(n);!a&&o.fromCache?i.reject(new Nd(Rd.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Nd(Rd.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new xb(ep(n.path),o,{includeMetadataChanges:!0,so:!0});return wb(t,s)},[4,Aw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}function kw(t,e,n){var r=this;void 0===n&&(n={});var i=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(r,void 0,void 0,function(){var r;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new mw({next:function(n){e.enqueueAndForget(function(){return _b(t,s)}),n.fromCache&&"server"===r.source?i.reject(new Nd(Rd.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new xb(n,o,{includeMetadataChanges:!0,so:!0});return wb(t,s)},[4,Aw(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.asyncQueue,e,n,i])]}})})}),i.promise}var Ow=function(t,e,n,r,i,o,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s},Pw=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Rw=new Map,Nw=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Dw=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(gv.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Lw=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){this.changeListener=t,t(this.token.user)},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Uw=function(){function t(t){var e=this;this.oc=null,this.currentUser=gv.UNAUTHENTICATED,this.receivedInitialUser=!1,this.cc=0,this.changeListener=null,this.forceRefresh=!1,this.oc=function(){e.cc++,e.currentUser=e.uc(),e.receivedInitialUser=!0,e.changeListener&&e.changeListener(e.currentUser)},this.cc=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oc):(this.oc(null),t.get().then(function(t){e.auth=t,e.oc&&e.auth.addAuthTokenListener(e.oc)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.cc!==e?(Ud("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(qd("string"==typeof n.accessToken),new Nw(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){this.changeListener=t,this.receivedInitialUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.oc),this.oc=null,this.changeListener=null},t.prototype.uc=function(){var t=this.auth&&this.auth.getUid();return qd(null===t||"string"==typeof t),new gv(t)},t}(),Mw=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n,this.type="FirstParty",this.user=gv.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.hc},e=this.ac.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.lc&&(t["X-Goog-Iam-Authorization-Token"]=this.lc),t},enumerable:!1,configurable:!0}),t}(),Fw=function(){function t(t,e,n){this.ac=t,this.hc=e,this.lc=n}return t.prototype.getToken=function(){return Promise.resolve(new Mw(this.ac,this.hc,this.lc))},t.prototype.setChangeListener=function(t){t(gv.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Vw(t,e,n){if(!n)throw new Nd(Rd.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function jw(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function qw(t,e,n,r){if(!0===e&&!0===r)throw new Nd(Rd.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Bw(t){if(!gf.isDocumentKey(t))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Gw(t){if(gf.isDocumentKey(t))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function zw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":jd()}function Hw(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Nd(Rd.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zw(t);throw new Nd(Rd.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Zw(t,e){if(e<=0)throw new Nd(Rd.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Kw=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Nd(Rd.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Nd(Rd.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,qw("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),$w=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kw({}),this._settingsFrozen=!1,t instanceof Pw?(this._databaseId=t,this._credentials=new Dw):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Nd(Rd.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pw(t.options.projectId)}(t),this._credentials=new Uw(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Nd(Rd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Nd(Rd.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kw(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Dw;switch(t.type){case"gapi":var e=t.client;return qd(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Fw(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Nd(Rd.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return(t=Rw.get(this))&&(Ud("ComponentProvider","Removing Datastore"),Rw.delete(this),t.terminate()),Promise.resolve();var t},t}(),Ww=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Qw(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Jw=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Qw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,ep(r))||this)._path=r,i.type="collection",i}return(0,Os.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new Ww(this.firestore,null,new gf(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Jw);function Yw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ps.m9)(t),Vw("collection","path",e),t instanceof $w)return Gw(n=tf.fromString.apply(tf,(0,Os.ev)([e],r))),new Qw(t,null,n);if(!(t instanceof Ww||t instanceof Qw))throw new Nd(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Gw(n=tf.fromString.apply(tf,(0,Os.ev)([t.path],r)).child(tf.fromString(e))),new Qw(t.firestore,null,n)}function Xw(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t=(0,Ps.m9)(t),1===arguments.length&&(e=zd.u()),Vw("doc","path",e),t instanceof $w)return Bw(n=tf.fromString.apply(tf,(0,Os.ev)([e],r))),new Ww(t,null,new gf(n));if(!(t instanceof Ww||t instanceof Qw))throw new Nd(Rd.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bw(n=t._path.child(tf.fromString.apply(tf,(0,Os.ev)([e],r)))),new Ww(t.firestore,t instanceof Qw?t.converter:null,new gf(n))}function t_(t,e){return t=(0,Ps.m9)(t),e=(0,Ps.m9)(e),(t instanceof Ww||t instanceof Qw)&&(e instanceof Ww||e instanceof Qw)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function e_(t,e){return t=(0,Ps.m9)(t),e=(0,Ps.m9)(e),t instanceof Jw&&e instanceof Jw&&t.firestore===e.firestore&&lp(t._query,e._query)&&t.converter===e.converter}var n_=function(){function t(){var t=this;this.fc=Promise.resolve(),this.dc=[],this.wc=!1,this._c=[],this.mc=null,this.yc=!1,this.gc=[],this.Zi=new Lv(this,"async_queue_retry"),this.Ec=function(){var e=Nv();e&&Ud("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Nv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ec)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this.wc},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Tc(),this.Ic(t)},t.prototype.enterRestrictedMode=function(){if(!this.wc){this.wc=!0;var t=Nv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ec)}},t.prototype.enqueue=function(t){return this.Tc(),this.wc?new Promise(function(t){}):this.Ic(t)},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget(function(){return e.dc.push(t),e.Ac()})},t.prototype.Ac=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t,e=this;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:if(0===this.dc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.dc[0]()];case 2:return n.sent(),this.dc.shift(),this.Zi.reset(),[3,4];case 3:if(!Pg(t=n.sent()))throw t;return Ud("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.dc.length>0&&this.Zi.ji(function(){return e.Ac()}),n.label=5;case 5:return[2]}})})},t.prototype.Ic=function(t){var e=this,n=this.fc.then(function(){return e.yc=!0,t().catch(function(t){throw e.mc=t,e.yc=!1,Md("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.yc=!1,t})});return this.fc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Tc(),this.gc.indexOf(t)>-1&&(e=0);var i=fb.createAndSchedule(this,t,e,n,function(t){return r.Rc(t)});return this._c.push(i),i},t.prototype.Tc=function(){this.mc&&jd()},t.prototype.verifyOperationInProgress=function(){},t.prototype.bc=function(){return(0,Os.mG)(this,void 0,void 0,function(){var t;return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return[4,t=this.fc];case 1:e.sent(),e.label=2;case 2:if(t!==this.fc)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.vc=function(t){for(var e=0,n=this._c;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Pc=function(t){var e=this;return this.bc().then(function(){e._c.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e._c;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.bc()})},t.prototype.Vc=function(t){this.gc.push(t)},t.prototype.Rc=function(t){var e=this._c.indexOf(t);this._c.splice(e,1)},t}();function r_(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new xg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var i_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new n_,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,Os.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||s_(this),this._firestoreClient.terminate()},e}($w);function o_(t){return t._firestoreClient||s_(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function s_(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Ow(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vw(t._credentials,t._queue,r)}function a_(t,e,n){var r=this,i=new xg;return t.asyncQueue.enqueue(function(){return(0,Os.mG)(r,void 0,void 0,function(){var r;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,bw(t,n)];case 1:return o.sent(),[4,ww(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Rd.FAILED_PRECONDITION||t.code===Rd.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function u_(t){if(t._initialized||t._terminated)throw new Nd(Rd.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var c_=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nf(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),l_=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(of.fromBase64String(e))}catch(e){throw new Nd(Rd.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(of.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),h_=function(t){this._methodName=t},d_=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Nd(Rd.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Nd(Rd.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Hd(this._lat,t._lat)||Hd(this._long,t._long)},t}(),f_=/^__.*__$/,p_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Bp(t,this.data,this.fieldMask,e,this.fieldTransforms):new qp(t,this.data,e,this.fieldTransforms)},t}(),m_=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Bp(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function g_(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw jd()}}var y_=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dc",{get:function(){return this.settings.Dc},enumerable:!1,configurable:!0}),t.prototype.Cc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.Nc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Fc(t),r},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Cc({path:n,xc:!1});return r.Sc(),r},t.prototype.Oc=function(t){return this.Cc({path:void 0,xc:!0})},t.prototype.$c=function(t){return M_(t,this.settings.methodName,this.settings.Mc||!1,this.path,this.settings.Lc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.Sc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Fc(this.path.get(t))},t.prototype.Fc=function(t){if(0===t.length)throw this.$c("Document fields must not be empty");if(g_(this.Dc)&&f_.test(t))throw this.$c('Document fields cannot begin and end with "__"')},t}(),v_=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||Dv(t)}return t.prototype.Bc=function(t,e,n,r){return void 0===r&&(r=!1),new y_({Dc:t,methodName:e,Lc:n,path:nf.emptyPath(),xc:!1,Mc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function b_(t){var e=t._freezeSettings(),n=Dv(t._databaseId);return new v_(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w_(t,e,n,r,i,o){void 0===o&&(o={});var s=t.Bc(o.merge||o.mergeFields?2:0,e,n,i);N_("Data must be an object, but it was:",s,r);var a,u,c=P_(r,s);if(o.merge)a=new rf(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,d=o.mergeFields;h<d.length;h++){var f=D_(e,d[h],n);if(!s.contains(f))throw new Nd(Rd.INVALID_ARGUMENT,"Field '"+f+"' is specified in your field mask but missing from your input data.");F_(l,f)||l.push(f)}a=new rf(l),u=s.fieldTransforms.filter(function(t){return a.covers(t.field)})}else a=null,u=s.fieldTransforms;return new p_(new Of(c),a,u)}var __=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Dc)throw t.$c(1===t.Dc?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(h_);function C_(t,e,n){return new y_({Dc:3,Lc:e.settings.Lc,methodName:t._methodName,xc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var T_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new Pp(t.path,new Tp)},e.prototype.isEqual=function(t){return t instanceof e},e}(h_),E_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return(0,Os.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=C_(this,t,!0),n=this.qc.map(function(t){return O_(t,e)}),r=new Ep(n);return new Pp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(h_),x_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).qc=n,r}return(0,Os.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=C_(this,t,!0),n=this.qc.map(function(t){return O_(t,e)}),r=new Sp(n);return new Pp(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(h_),S_=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Uc=n,r}return(0,Os.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new Ip(t.R,vp(t.R,this.Uc));return new Pp(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(h_);function A_(t,e,n,r){var i=t.Bc(1,e,n);N_("Data must be an object, but it was:",i,r);var o=[],s=Of.empty();Qd(r,function(t,r){var a=U_(e,t,n);r=(0,Ps.m9)(r);var u=i.kc(a);if(r instanceof __)o.push(a);else{var c=O_(r,u);null!=c&&(o.push(a),s.set(a,c))}});var a=new rf(o);return new m_(s,a,i.fieldTransforms)}function I_(t,e,n,r,i,o){var s=t.Bc(1,e,n),a=[D_(e,r,n)],u=[i];if(o.length%2!=0)throw new Nd(Rd.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(D_(e,o[c])),u.push(o[c+1]);for(var l=[],h=Of.empty(),d=a.length-1;d>=0;--d)if(!F_(l,a[d])){var f=a[d],p=u[d];p=(0,Ps.m9)(p);var m=s.kc(f);if(p instanceof __)l.push(f);else{var g=O_(p,m);null!=g&&(l.push(f),h.set(f,g))}}var y=new rf(l);return new m_(h,y,s.fieldTransforms)}function k_(t,e,n,r){return void 0===r&&(r=!1),O_(n,t.Bc(r?4:3,e))}function O_(t,e){if(R_(t=(0,Ps.m9)(t)))return N_("Unsupported field value:",e,t),P_(t,e);if(t instanceof h_)return function(t,e){if(!g_(e.Dc))throw e.$c(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.$c(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xc&&4!==e.Dc)throw e.$c("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=O_(o[i],e.Oc(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Ps.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vp(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=$d.fromDate(t);return{timestampValue:Sm(e.R,n)}}if(t instanceof $d)return n=new $d(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Sm(e.R,n)};if(t instanceof d_)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof l_)return{bytesValue:Am(e.R,t._byteString)};if(t instanceof Ww){var r=t.firestore._databaseId;if(!r.isEqual(n=e.databaseId))throw e.$c("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Om(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.$c("Unsupported field value: "+zw(t))}(t,e)}function P_(t,e){var n={};return Yd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qd(t,function(t,r){var i=O_(r,e.Nc(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function R_(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof $d||t instanceof d_||t instanceof l_||t instanceof Ww||t instanceof h_)}function N_(t,e,n){if(!R_(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=zw(n);throw e.$c("an object"===r?t+" a custom object":t+" "+r)}}function D_(t,e,n){if((e=(0,Ps.m9)(e))instanceof c_)return e._internalPath;if("string"==typeof e)return U_(t,e);throw M_("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var L_=new RegExp("[~\\*/\\[\\]]");function U_(t,e,n){if(e.search(L_)>=0)throw M_("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(c_.bind.apply(c_,(0,Os.ev)([void 0],e.split(".")))))._internalPath}catch(Zu){throw M_("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function M_(t,e,n,r,i){var o=r&&!r.isEmpty(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Nd(Rd.INVALID_ARGUMENT,(a+=". ")+t+u)}function F_(t,e){return t.some(function(t){return t.isEqual(e)})}var V_=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Ww(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new j_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.toProto())}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(q_("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),j_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(V_);function q_(t,e){return"string"==typeof e?U_(t,e):e instanceof c_?e._internalPath:e._delegate._internalPath}var B_=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),G_=function(t){function e(e,n,r,i,o,s){var a=this;return(a=t.call(this,e,n,r,i,s)||this)._firestore=e,a._firestoreImpl=e,a.metadata=o,a}return(0,Os.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new z_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.toProto(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(q_("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(V_),z_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(G_),H_=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new B_(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach(function(r){t.call(e,new z_(n._firestore,n._userDataWriter,r.key,r,new B_(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Nd(Rd.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map(function(e){return{type:"added",doc:new z_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new B_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}})}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new z_(t._firestore,t._userDataWriter,e.doc.key,e.doc,new B_(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Z_(e.type),doc:n,oldIndex:i,newIndex:o}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Z_(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return jd()}}function K_(t,e){return t instanceof G_&&e instanceof G_?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof H_&&e instanceof H_&&t._firestore===e._firestore&&e_(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function $_(t){if(rp(t)&&0===t.explicitOrderBy.length)throw new Nd(Rd.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var W_=function(){};function J_(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Q_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qc=e,i.Kc=n,i.jc=r,i.type="where",i}return(0,Os.ZT)(e,t),e.prototype._apply=function(t){var e=b_(t.firestore),n=function(t,e,n,r,i,o,s){var a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){iC(s,o);for(var u=[],c=0,l=s;c<l.length;c++)u.push(rC(r,t,l[c]));a={arrayValue:{values:u}}}else a=rC(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||iC(s,o),a=k_(n,"where",s,"in"===o||"not-in"===o);var h=Ff.create(i,o,a);return function(t,e){if(e.g()){var n=op(t);if(null!==n&&!n.isEqual(e.field))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=ip(t);null!==r&&oC(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Nd(Rd.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t._query,0,e,t.firestore._databaseId,this.Qc,this.Kc,this.jc);return new Jw(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(W_),Y_=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qc=e,r.Wc=n,r.type="orderBy",r}return(0,Os.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Wf(e,n);return function(t,e){if(null===ip(t)){var n=op(t);null!==n&&oC(0,n,e.field)}}(t,r),r}(t._query,this.Qc,this.Wc);return new Jw(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Xf(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(W_),X_=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Gc=n,i.zc=r,i}return(0,Os.ZT)(e,t),e.prototype._apply=function(t){return new Jw(t.firestore,t.converter,cp(t._query,this.Gc,this.zc))},e}(W_),tC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Os.ZT)(e,t),e.prototype._apply=function(t){var e=nC(t,this.type,this.Hc,this.Jc);return new Jw(t.firestore,t.converter,function(t,e){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(W_),eC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,Os.ZT)(e,t),e.prototype._apply=function(t){var e=nC(t,this.type,this.Hc,this.Jc);return new Jw(t.firestore,t.converter,function(t,e){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(W_);function nC(t,e,n,r){if(n[0]=(0,Ps.m9)(n[0]),n[0]instanceof V_)return function(t,e,n,r,i){if(!r)throw new Nd(Rd.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=ap(t);s<a.length;s++){var u=a[s];if(u.field.isKeyField())o.push(Ef(e,r.key));else{var c=r.data.field(u.field);if(lf(c))throw new Nd(Rd.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Kf(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=b_(t.firestore);return function(t,e,n,r,i,o){var s=t.explicitOrderBy;if(i.length>s.length)throw new Nd(Rd.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.isKeyField()){if("string"!=typeof c)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!sp(t)&&-1!==c.indexOf("/"))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(tf.fromString(c));if(!gf.isDocumentKey(l))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gf(l);a.push(Ef(e,h))}else{var d=k_(n,r,c);a.push(d)}}return new Kf(a,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function rC(t,e,n){if("string"==typeof(n=(0,Ps.m9)(n))){if(""===n)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!sp(e)&&-1!==n.indexOf("/"))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(tf.fromString(n));if(!gf.isDocumentKey(r))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return Ef(t,new gf(r))}if(n instanceof Ww)return Ef(t,n._key);throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zw(n)+".")}function iC(t,e){if(!Array.isArray(t)||0===t.length)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function oC(t,e,n){if(!n.isEqual(e))throw new Nd(Rd.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var sC=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),yf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return uf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(cf(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw jd()}},t.prototype.convertObject=function(t,e){var n=this,r={};return Qd(t.fields||{},function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertGeoPoint=function(t){return new d_(uf(t.latitude),uf(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.convertValue(t,e)})},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=hf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(df(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=af(t);return new $d(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=tf.fromString(t);qd(eg(n));var r=new Pw(n.get(1),n.get(3)),i=new gf(n.popFirst(5));return r.isEqual(e)||Md("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function aC(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var uC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Os.ZT)(e,t),e.prototype.convertBytes=function(t){return new l_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ww(this.firestore,null,e)},e}(sC),cC=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=b_(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=lC(t,this._firestore),i=aC(r.converter,e,n),o=w_(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Np.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var o,s=lC(t,this._firestore);return o="string"==typeof(e=(0,Ps.m9)(e))||e instanceof c_?I_(this._dataReader,"WriteBatch.update",s._key,e,n,r):A_(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(o.toMutation(s._key,Np.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=lC(t,this._firestore);return this._mutations=this._mutations.concat(new $p(e._key,Np.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Nd(Rd.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function lC(t,e){if((t=(0,Ps.m9)(t)).firestore!==e)throw new Nd(Rd.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var hC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Os.ZT)(e,t),e.prototype.convertBytes=function(t){return new l_(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ww(this.firestore,null,e)},e}(sC);function dC(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Hw(t,Ww);var o=Hw(t.firestore,i_),s=b_(o);return pC(o,[("string"==typeof(e=(0,Ps.m9)(e))||e instanceof c_?I_(s,"updateDoc",t._key,e,n,r):A_(s,"updateDoc",t._key,e)).toMutation(t._key,Np.exists(!0))])}function fC(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t=(0,Ps.m9)(t);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||r_(i[a])||(s=i[a],a++);var u,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(r_(i[a])){var d=i[a];i[a]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[a+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[a+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Ww)c=Hw(t.firestore,i_),l=ep(t._key.path),u={next:function(e){i[a]&&i[a](mC(c,t,e))},error:i[a+1],complete:i[a+2]};else{var f=Hw(t,Jw);c=Hw(f.firestore,i_),l=f._query;var p=new hC(c);u={next:function(t){i[a]&&i[a](new H_(c,p,f,t))},error:i[a+1],complete:i[a+2]},$_(t._query)}return function(t,e,n,r){var i=this,o=new mw(r),s=new xb(e,o,n);return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(i,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e=wb,[4,Aw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})}),function(){o.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(i,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e=_b,[4,Aw(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}})})})}}(o_(c),l,h,u)}function pC(t,e){return function(t,e){var n=this,r=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return n=Mb,[4,Sw(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(o_(t),e)}function mC(t,e,n){var r=n.docs.get(e._key),i=new hC(t);return new G_(t,i,e._key,r,new B_(n.hasPendingWrites,n.fromCache),e.converter)}var gC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,Os.ZT)(e,t),e.prototype.get=function(e){var n=this,r=lC(e,this._firestore),i=new hC(this._firestore);return t.prototype.get.call(this,e).then(function(t){return new G_(n._firestore,i,r._key,t._document,new B_(!1,!1),r.converter)})},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=b_(t)}return t.prototype.get=function(t){var e=this,n=lC(t,this._firestore),r=new uC(this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return jd();var i=t[0];if(i.isFoundDocument())return new V_(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new V_(e._firestore,r,n._key,null,n.converter);throw jd()})},t.prototype.set=function(t,e,n){var r=lC(t,this._firestore),i=aC(r.converter,e,n),o=w_(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=lC(t,this._firestore);return o="string"==typeof(e=(0,Ps.m9)(e))||e instanceof c_?I_(this._dataReader,"Transaction.update",s._key,e,n,r):A_(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,o),this},t.prototype.delete=function(t){var e=lC(t,this._firestore);return this._transaction.delete(e._key),this},t}());function yC(){if("undefined"==typeof Uint8Array)throw new Nd(Rd.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function vC(){if("undefined"==typeof atob)throw new Nd(Rd.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bC=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return vC(),new t(l_.fromBase64String(e))},t.fromUint8Array=function(e){return yC(),new t(l_.fromUint8Array(e))},t.prototype.toBase64=function(){return vC(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return yC(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),wC=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){u_(t=Hw(t,i_));var n=o_(t),r=t._freezeSettings(),i=new pw;return a_(n,i,new dw(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){u_(t=Hw(t,i_));var e=o_(t),n=t._freezeSettings(),r=new pw;return a_(e,r,new fw(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Nd(Rd.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new xg;return t._queue.enqueueAndForgetEvenWhileRestricted(function(){return(0,Os.mG)(e,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,Os.mG)(this,void 0,void 0,function(){return(0,Os.Jh)(this,function(e){switch(e.label){case 0:return Ig.yt()?[4,Ig.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Vy(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t._delegate)},t}(),_C=function(){function t(t,e,n){var r=this;this._delegate=e,this.Yc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Pw||(this.Xc=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._delegate._getSettings()),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){void 0===r&&(r={});var i=(t=Hw(t,$w))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==e&&Fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:e+":"+n,ssl:!1})),r.mockUserToken){var o=(0,Ps.Sg)(r.mockUserToken),s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Nd(Rd.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");t._credentials=new Lw(new Nw(o,new gv(s)))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Os.mG)(e,void 0,void 0,function(){var e,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return[4,Tw(t)];case 1:return e=r.sent(),[4,xw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Bd(t);return e.$r.delete(0),Bv(e)}(n))]}})})})}(o_(Hw(this._delegate,i_)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue(function(){return(0,Os.mG)(e,void 0,void 0,function(){var e,n;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return[4,Tw(t)];case 1:return e=r.sent(),[4,xw(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,Os.mG)(this,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return(e=Bd(t)).$r.add(0),[4,Gv(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}})})}(n))]}})})})}(o_(Hw(this._delegate,i_)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&qw("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Yc.enableMultiTabIndexedDbPersistence(this):this.Yc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Yc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.Xc&&(this.Xc._removeServiceInstance("firestore"),this.Xc._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(e,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(r){switch(r.label){case 0:return e=Gb,[4,Sw(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(o_(Hw(this._delegate,i_)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new mw(e);return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bd(t).Gr.add(e),e.next()},[4,Aw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.Wo(),t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var e;return(0,Os.Jh)(this,function(n){switch(n.label){case 0:return e=function(t,e){Bd(t).Gr.delete(e)},[4,Aw(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(o_(t=Hw(t,i_)),r_(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.Xc)throw new Nd(Rd.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Xc},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new LC(this,Yw(this._delegate,t))}catch(t){throw AC(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new SC(this,Xw(this._delegate,t))}catch(t){throw AC(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new RC(this,function(t,e){if(t=Hw(t,$w),Vw("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Jw(t,null,function(t){return new Xf(tf.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw AC(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return[4,function(t){return Cw(t).then(function(t){return t.datastore})}(t)];case 1:return n=i.sent(),new yw(t.asyncQueue,n,e,r).run(),[2]}})})}),r.promise}(o_(t),function(n){return e(new gC(t,n))})}(this._delegate,function(n){return t(new TC(e,n))})},t.prototype.batch=function(){var t=this;return o_(this._delegate),new EC(new cC(this._delegate,function(e){return pC(t._delegate,e)}))},t.prototype.loadBundle=function(t){throw new Nd(Rd.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Nd(Rd.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),CC=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,Os.ZT)(e,t),e.prototype.convertBytes=function(t){return new bC(new l_(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return SC.Zc(e,this.firestore,null)},e}(sC),TC=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new CC(t)}return t.prototype.get=function(t){var e=this,n=UC(t);return this._delegate.get(n).then(function(t){return new OC(e._firestore,new G_(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))})},t.prototype.set=function(t,e,n){var r=UC(t);return n?(jw("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=UC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Os.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=UC(t);return this._delegate.delete(e),this},t}(),EC=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=UC(t);return n?(jw("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=UC(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,Os.ev)([s,e,n],i)),this},t.prototype.delete=function(t){var e=UC(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),xC=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new z_(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new PC(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.tu=function(e,n){var r=t.eu,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new CC(e),n),i.set(n,o)),o},t}();xC.eu=new WeakMap;var SC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CC(t)}return t.nu=function(e,n,r){if(e.length%2!=0)throw new Nd(Rd.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new Ww(n._delegate,r,new gf(e)))},t.Zc=function(e,n,r){return new t(n,new Ww(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new LC(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new LC(this.firestore,Yw(this._delegate,t))}catch(t){throw AC(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,Ps.m9)(t))instanceof Ww&&t_(this._delegate,t)},t.prototype.set=function(t,e){e=jw("DocumentReference.set",e);try{return function(t,e,n){t=Hw(t,Ww);var r=Hw(t.firestore,i_),i=aC(t.converter,e,n);return pC(r,[w_(b_(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Np.none())])}(this._delegate,t,e)}catch(t){throw AC(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dC(this._delegate,t):dC.apply(void 0,(0,Os.ev)([this._delegate,t,e],n))}catch(t){throw AC(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return pC(Hw((t=this._delegate).firestore,i_),[new $p(t._key,Np.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=IC(e),i=kC(e,function(e){return new OC(t.firestore,new G_(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))});return fC(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hw(t,Ww);var e=Hw(t.firestore,i_),n=o_(e),r=new hC(e);return function(t,e){var n=this,r=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i;return(0,Os.Jh)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Bd(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Mn.mn(t,e)})}(t,e)];case 1:return(i=o.sent()).isFoundDocument()?n.resolve(i):i.isNoDocument()?n.resolve(null):n.reject(new Nd(Rd.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=pb(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,Ew(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._key).then(function(n){return new G_(e,r,t._key,n,new B_(null!==n&&n.hasLocalMutations,!0),t.converter)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hw(t,Ww);var e=Hw(t.firestore,i_);return Iw(o_(e),t._key,{source:"server"}).then(function(n){return mC(e,t,n)})}(this._delegate):function(t){t=Hw(t,Ww);var e=Hw(t.firestore,i_);return Iw(o_(e),t._key).then(function(n){return mC(e,t,n)})}(this._delegate)).then(function(t){return new OC(e.firestore,new G_(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))})},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xC.tu(this.firestore,e):null))},t}();function AC(t,e,n){return t.message=t.message.replace(e,n),t}function IC(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!r_(r))return r}return{}}function kC(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=r_(t[0])?t[0]:r_(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var OC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new SC(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return K_(this._delegate,t._delegate)},t}(),PC=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,Os.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(OC),RC=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new CC(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,J_(this._delegate,function(t,e,n){var r=e,i=q_("where",t);return new Q_(i,r,n)}(e,n,r)))}catch(e){throw AC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,J_(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=q_("orderBy",t);return new Y_(r,n)}(e,n)))}catch(e){throw AC(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,J_(this._delegate,function(t){return Zw("limit",t),new X_("limit",t,"F")}(e)))}catch(e){throw AC(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,J_(this._delegate,function(t){return Zw("limitToLast",t),new X_("limitToLast",t,"L")}(e)))}catch(e){throw AC(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,J_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tC("startAt",t,!0)}).apply(void 0,e)))}catch(e){throw AC(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,J_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new tC("startAfter",t,!1)}).apply(void 0,e)))}catch(e){throw AC(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,J_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eC("endBefore",t,!0)}).apply(void 0,e)))}catch(e){throw AC(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,J_(this._delegate,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new eC("endAt",t,!1)}).apply(void 0,e)))}catch(e){throw AC(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return e_(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Hw(t,Jw);var e=Hw(t.firestore,i_),n=o_(e),r=new hC(e);return function(t,e){var n=this,r=new xg;return t.asyncQueue.enqueueAndForget(function(){return(0,Os.mG)(n,void 0,void 0,function(){var n;return(0,Os.Jh)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return(0,Os.mG)(this,void 0,void 0,function(){var r,i,o,s,a;return(0,Os.Jh)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,tv(t,e,!0)];case 1:return a=u.sent(),r=new Ob(e,a.Bn),i=r._o(a.documents),o=r.applyChanges(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=u.sent(),a=pb(s,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,Ew(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t._query).then(function(n){return new H_(e,r,t,n)})}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Hw(t,Jw);var e=Hw(t.firestore,i_),n=o_(e),r=new hC(e);return kw(n,t._query,{source:"server"}).then(function(n){return new H_(e,r,t,n)})}(this._delegate):function(t){t=Hw(t,Jw);var e=Hw(t.firestore,i_),n=o_(e),r=new hC(e);return $_(t._query),kw(n,t._query).then(function(n){return new H_(e,r,t,n)})}(this._delegate)).then(function(t){return new DC(e.firestore,new H_(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))})},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=IC(e),i=kC(e,function(e){return new DC(t.firestore,new H_(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))});return fC(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,this._delegate.withConverter(e?xC.tu(this.firestore,e):null))},t}(),NC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new PC(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),DC=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new RC(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map(function(e){return new PC(t._firestore,e)})},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map(function(t){return new NC(e._firestore,t)})},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach(function(r){t.call(e,new PC(n._firestore,r))})},t.prototype.isEqual=function(t){return K_(this._delegate,t._delegate)},t}(),LC=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,Os.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new SC(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new SC(this.firestore,void 0===t?Xw(this._delegate):Xw(this._delegate,t))}catch(t){throw AC(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Hw(t.firestore,i_),r=Xw(t),i=aC(t.converter,e);return pC(n,[w_(b_(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Np.exists(!1))]).then(function(){return r})}(this._delegate,t).then(function(t){return new SC(e.firestore,t)})},e.prototype.isEqual=function(t){return t_(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,this._delegate.withConverter(t?xC.tu(this.firestore,t):null))},e}(RC);function UC(t){return Hw(t,Ww)}var MC,FC=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(c_.bind.apply(c_,(0,Os.ev)([void 0],t)))}return t.documentId=function(){return new t(nf.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,Ps.m9)(t))instanceof c_&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),VC=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new T_("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new __("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new E_("arrayUnion",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new x_("arrayRemove",t)}).apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new S_("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}(),jC={Firestore:_C,GeoPoint:d_,Timestamp:$d,Blob:bC,Transaction:TC,WriteBatch:EC,DocumentReference:SC,DocumentSnapshot:OC,Query:RC,QueryDocumentSnapshot:PC,QuerySnapshot:DC,CollectionReference:LC,FieldPath:FC,FieldValue:VC,setLogLevel:function(t){Dd.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Rs.wA("firestore",function(t){return function(t,e){return new _C(t,new i_(t,e),new wC)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},jC)))})(MC=ks.Z),MC.registerVersion("@firebase/firestore","2.3.0");var qC=n(1906),BC=n(8489),GC=n(9291);class zC extends Sn.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new HC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new An.N;if(this.isStopped||this.hasError?o=br.w.EMPTY:(this.observers.push(t),o=new GC.W(this,t)),r&&t.add(t=new As.ht(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||BC.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class HC{constructor(t,e){this.time=t,this.value=e}}function ZC(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,u=!1;return function(c){let l;s++,!i||a?(a=!1,i=new zC(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,o=void 0,i.complete()}}),u&&(o=void 0)):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),l=void 0,o&&!u&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function KC(t,e){return e?Hn(()=>t,e):Hn(()=>t)}var $C=n(4187);const WC=new r.OlP("angularfire2.auth.use-emulator"),JC=new r.OlP("angularfire2.auth.settings"),QC=new r.OlP("angularfire2.auth.tenant-id"),YC=new r.OlP("angularfire2.auth.langugage-code"),XC=new r.OlP("angularfire2.auth.use-device-language"),tT=new r.OlP("angularfire.auth.persistence");let eT=(()=>{class t{constructor(t,e,r,i,o,s,a,u,c,l){const h=new Is.HU(i),d=(0,Is.ss)(h),f=new Sn.xQ,p=(0,je.of)(void 0).pipe((0,As.QV)(h.outsideAngular),Hn(()=>i.runOutsideAngular(()=>n.e(420).then(n.bind(n,7420)))),(0,Tt.U)(()=>(0,Is.on)(t,i,e)),(0,Tt.U)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return(0,Is.sI)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());if(e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n)for(const[t,e]of Object.entries(n))r.settings[t]=e;return l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),ZC({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,je.of)(null);else{p.pipe(gr()).subscribe();const t=p.pipe(Hn(t=>t.getRedirectResult().then(t=>t,()=>null)),d,ZC({bufferSize:1,refCount:!1})),e=t=>new _t.y(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(Hn(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(Hn(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(KC(n),(0,$C.R)(h.outsideAngular),(0,As.QV)(h.insideAngular)),this.user=t.pipe(KC(r),(0,$C.R)(h.outsideAngular),(0,As.QV)(h.insideAngular)),this.idToken=this.user.pipe(Hn(t=>t?(0,wt.D)(t.getIdToken()):(0,je.of)(null))),this.idTokenResult=this.user.pipe(Hn(t=>t?(0,wt.D)(t.getIdTokenResult()):(0,je.of)(null))),this.credential=(0,qC.T)(t,f,this.authState.pipe(ze(t=>!t))).pipe((0,Tt.U)(t=>(null==t?void 0:t.user)?t:null),(0,$C.R)(h.outsideAngular),(0,As.QV)(h.insideAngular))}return(0,Is.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(WC,8),r.LFG(JC,8),r.LFG(QC,8),r.LFG(YC,8),r.LFG(XC,8),r.LFG(tT,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(WC,8),r.LFG(JC,8),r.LFG(QC,8),r.LFG(YC,8),r.LFG(XC,8),r.LFG(tT,8))},token:t,providedIn:"any"}),t})();function nT(t,e){return function(t,e=Ts.z){return new _t.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function rT(t,e){return nT(t,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function iT(t,e){return rT(t,e).pipe(Yn(void 0),Cu(),(0,Tt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function oT(t,e,n){return iT(t,n).pipe(Xn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return sT(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return sT(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return sT(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),xu(),(0,Tt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function sT(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function aT(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}(0,Is.GT)(eT,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class uT{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=iT(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Tt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(Yn(void 0),Cu(),ze(([t,e])=>e.length>0||!t),(0,Tt.U)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=aT(t);return oT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,wt.D)(this.query.get(t)).pipe((0,As.QV)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new cT(this.ref.doc(t),this.afs)}}class cT{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=mT(n,e);return new uT(r,i,this.afs)}snapshotChanges(){return function(t,e){return nT(t,e).pipe(Yn(void 0),Cu(),(0,Tt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,wt.D)(this.ref.get(t)).pipe((0,As.QV)(this.afs.schedulers.insideAngular))}}class lT{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?iT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ze(t=>t.length>0),this.afs.keepUnstableUntilFirst):iT(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(Xn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=aT(t);return oT(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return rT(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return(0,wt.D)(this.query.get(t)).pipe((0,As.QV)(this.afs.schedulers.insideAngular))}}const hT=new r.OlP("angularfire2.enableFirestorePersistence"),dT=new r.OlP("angularfire2.firestore.persistenceSettings"),fT=new r.OlP("angularfire2.firestore.settings"),pT=new r.OlP("angularfire2.firestore.use-emulator");function mT(t,e=(t=>t)){return{query:e(t),ref:t}}let gT=(()=>{class t{constructor(t,e,n,r,i,o,s,a,u){this.schedulers=new Is.HU(o),this.keepUnstableUntilFirst=(0,Is.ss)(this.schedulers);const c=(0,Is.on)(t,o,e);!Iu.Z.auth&&u&&(0,Is.yq)();const l=a;[this.firestore,this.persistenceEnabled$]=(0,Is.sI)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return(0,wt.D)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(MC){return"undefined"!=typeof console&&console.warn(MC),(0,je.of)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,(0,je.of)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=mT(n,e),o=this.schedulers.ngZone.run(()=>r);return new uT(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new lT(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new cT(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(hT,8),r.LFG(fT,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(dT,8),r.LFG(pT,8),r.LFG(WC,8))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Is.Dh),r.LFG(Is.xv,8),r.LFG(hT,8),r.LFG(fT,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(dT,8),r.LFG(pT,8),r.LFG(WC,8))},token:t,providedIn:"any"}),t})(),yT=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:hT,useValue:!0},{provide:dT,useValue:e}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[gT]}),t})();class vT{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new bT(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class bT extends Ge.L{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Sn.xQ,n.set(e,i);const t=new _T(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new _T(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new wT(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class wT extends Ge.L{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class _T extends _t.y{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new br.w,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new CT(n)),e.add(r.subscribe(t)),e}}class CT extends br.w{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const TT=new r.OlP("angularfire2.analytics.analyticsCollectionEnabled"),ET=new r.OlP("angularfire2.analytics.appVersion"),xT=new r.OlP("angularfire2.analytics.appName"),ST=new r.OlP("angularfire2.analytics.debugMode"),AT=new r.OlP("angularfire2.analytics.config");let IT=(()=>{class t{constructor(t,e,r,i,o,s,a,u){if(this.analyticsInitialized=new Promise(()=>{}),U(a)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=(0,je.of)(void 0).pipe((0,As.QV)(new Is.HU(u).outsideAngular),Hn(()=>U(a)?u.runOutsideAngular(()=>n.e(497).then(n.bind(n,2497))):qn.E),(0,Tt.U)(()=>(0,Is.sI)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),ZC({bufferSize:1,refCount:!1}));return(0,Is.pX)(this,c,u)}updateConfig(t){return(0,Os.mG)(this,void 0,void 0,function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Is.Ot),r.LFG(TT,8),r.LFG(ET,8),r.LFG(xT,8),r.LFG(ST,8),r.LFG(AT,8),r.LFG(r.Lbi),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(Is.Ot),r.LFG(TT,8),r.LFG(ET,8),r.LFG(xT,8),r.LFG(ST,8),r.LFG(AT,8),r.LFG(r.Lbi),r.LFG(r.R0b))},token:t,providedIn:"any"}),t})();(0,Is.GT)(IT,[{app:null,logEvent:null,setCurrentScreen:null,setUserId:null,setUserProperties:null,setAnalyticsCollectionEnabled:null}]);let kT=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],M(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IT),r.LFG(r.Lbi),r.LFG(eT),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const OT="screen_class";let PT=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const RT={},NT=t=>{const e=[t.screen_class,t.outlet].join("#");if(RT.hasOwnProperty(e))return RT[e];{const t=PT++;return RT[e]=t,t}};let DT=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!U(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(ze(t=>t instanceof Mr));var o;this.disposable=i.pipe(Hn(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return(0,je.of)(null);let a=s;for(;a.firstChild;)a=a.firstChild;const u=a.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:u,page_path:`/${o}`,firebase_event_origin:"auto",firebase_screen:u,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===io){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return(0,je.of)(Object.assign(Object.assign({},c),{[OT]:l}));if(l){const t=r.resolveComponentFactory(l);return(0,je.of)(Object.assign(Object.assign({},c),{[OT]:t.selector}))}return(0,je.of)(null)}),ze(t=>t),(0,Tt.U)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:NT(t)},t)),(o=t=>t.outlet,t=>t.lift(new vT(o,void 0,void 0,void 0))),(0,qe.zg)(e=>e.pipe(xu((t,e)=>JSON.stringify(t)===JSON.stringify(e)),Yn(void 0),Cu(),(0,Tt.U)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),Hn(e=>(0,Os.mG)(this,void 0,void 0,function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)}))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IT),r.LFG(Yo,8),r.LFG(bt,8),r.LFG(r._Vd),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(kT,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),LT=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(IT),r.LFG(DT,8),r.LFG(kT,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[IT]}),t})();const UT={apiKey:"AIzaSyBkVaSoQ52O0R0lJnu3wy31x1EVJEQ4td4",authDomain:"lockers-59f72.firebaseapp.com",databaseURL:"https://lockers-59f72-default-rtdb.firebaseio.com",projectId:"lockers-59f72",storageBucket:"lockers-59f72.appspot.com",messagingSenderId:"659983805007",appId:"1:659983805007:web:a6a9386102641fecd5d83a",measurementId:"G-6TCNZDN895"};let MT=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[_u]}),t.\u0275inj=r.cJS({providers:[],imports:[[yt,wu,Me,Fe,xn,yT,LT,su,Is.hO.initializeApp(UT)]]}),t})();(0,r.G48)(),mt().bootstrapModule(MT).catch(t=>console.error(t))},4762:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>i,pi:()=>o,mG:()=>s,Jh:()=>a,XA:()=>u,CR:()=>c,ev:()=>l});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))(function(i,o){function s(t){try{u(r.next(t))}catch(e){o(e)}}function a(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(a){o=[6,a],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t}}},t=>{"use strict";t(t.s=8920)}]);